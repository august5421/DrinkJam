function gU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jC={exports:{}},Fg={},BC={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),yU=Symbol.for("react.portal"),vU=Symbol.for("react.fragment"),_U=Symbol.for("react.strict_mode"),wU=Symbol.for("react.profiler"),EU=Symbol.for("react.provider"),bU=Symbol.for("react.context"),TU=Symbol.for("react.forward_ref"),IU=Symbol.for("react.suspense"),SU=Symbol.for("react.memo"),RU=Symbol.for("react.lazy"),rR=Symbol.iterator;function PU(t){return t===null||typeof t!="object"?null:(t=rR&&t[rR]||t["@@iterator"],typeof t=="function"?t:null)}var zC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qC=Object.assign,WC={};function du(t,e,n){this.props=t,this.context=e,this.refs=WC,this.updater=n||zC}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HC(){}HC.prototype=du.prototype;function OE(t,e,n){this.props=t,this.context=e,this.refs=WC,this.updater=n||zC}var NE=OE.prototype=new HC;NE.constructor=OE;qC(NE,du.prototype);NE.isPureReactComponent=!0;var iR=Array.isArray,GC=Object.prototype.hasOwnProperty,DE={current:null},KC={key:!0,ref:!0,__self:!0,__source:!0};function QC(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)GC.call(e,r)&&!KC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sf,type:t,key:o,ref:s,props:i,_owner:DE.current}}function xU(t,e){return{$$typeof:sf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ME(t){return typeof t=="object"&&t!==null&&t.$$typeof===sf}function AU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oR=/\/+/g;function e_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AU(""+t.key):e.toString(36)}function Qp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sf:case yU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+e_(s,0):r,iR(i)?(n="",t!=null&&(n=t.replace(oR,"$&/")+"/"),Qp(i,e,n,"",function(c){return c})):i!=null&&(ME(i)&&(i=xU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oR,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",iR(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+e_(o,a);s+=Qp(o,e,n,l,i)}else if(l=PU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+e_(o,a++),s+=Qp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function up(t,e,n){if(t==null)return t;var r=[],i=0;return Qp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function CU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Yp={transition:null},kU={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Yp,ReactCurrentOwner:DE};function YC(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:up,forEach:function(t,e,n){up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return up(t,function(){e++}),e},toArray:function(t){return up(t,function(e){return e})||[]},only:function(t){if(!ME(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=du;Oe.Fragment=vU;Oe.Profiler=wU;Oe.PureComponent=OE;Oe.StrictMode=_U;Oe.Suspense=IU;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kU;Oe.act=YC;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=DE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GC.call(e,l)&&!KC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sf,type:t.type,key:i,ref:o,props:r,_owner:s}};Oe.createContext=function(t){return t={$$typeof:bU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EU,_context:t},t.Consumer=t};Oe.createElement=QC;Oe.createFactory=function(t){var e=QC.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:TU,render:t}};Oe.isValidElement=ME;Oe.lazy=function(t){return{$$typeof:RU,_payload:{_status:-1,_result:t},_init:CU}};Oe.memo=function(t,e){return{$$typeof:SU,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Yp.transition;Yp.transition={};try{t()}finally{Yp.transition=e}};Oe.unstable_act=YC;Oe.useCallback=function(t,e){return ur.current.useCallback(t,e)};Oe.useContext=function(t){return ur.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return ur.current.useEffect(t,e)};Oe.useId=function(){return ur.current.useId()};Oe.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return ur.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};Oe.useRef=function(t){return ur.current.useRef(t)};Oe.useState=function(t){return ur.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return ur.current.useTransition()};Oe.version="18.3.1";BC.exports=Oe;var P=BC.exports;const xi=uu(P),Ac=gU({__proto__:null,default:xi},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=P,NU=Symbol.for("react.element"),DU=Symbol.for("react.fragment"),MU=Object.prototype.hasOwnProperty,LU=OU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VU={key:!0,ref:!0,__self:!0,__source:!0};function XC(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MU.call(e,r)&&!VU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NU,type:t,key:o,ref:s,props:i,_owner:LU.current}}Fg.Fragment=DU;Fg.jsx=XC;Fg.jsxs=XC;jC.exports=Fg;var M=jC.exports,y0={},JC={exports:{}},Kr={},ZC={exports:{}},ek={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var Z=$.length;$.push(G);e:for(;0<Z;){var ye=Z-1>>>1,se=$[ye];if(0<i(se,G))$[ye]=G,$[Z]=se,Z=ye;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],Z=$.pop();if(Z!==G){$[0]=Z;e:for(var ye=0,se=$.length,ue=se>>>1;ye<ue;){var de=2*(ye+1)-1,ve=$[de],_e=de+1,Ne=$[_e];if(0>i(ve,Z))_e<se&&0>i(Ne,ve)?($[ye]=Ne,$[_e]=Z,ye=_e):($[ye]=ve,$[de]=Z,ye=de);else if(_e<se&&0>i(Ne,Z))$[ye]=Ne,$[_e]=Z,ye=_e;else break e}}return G}function i($,G){var Z=$.sortIndex-G.sortIndex;return Z!==0?Z:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=$)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function S($){if(_=!1,w($),!g)if(n(l)!==null)g=!0,W(k);else{var G=n(c);G!==null&&Q(S,G.startTime-$)}}function k($,G){g=!1,_&&(_=!1,v(I),I=-1),p=!0;var Z=f;try{for(w(G),h=n(l);h!==null&&(!(h.expirationTime>G)||$&&!D());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,f=h.priorityLevel;var se=ye(h.expirationTime<=G);G=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),w(G)}else r(l);h=n(l)}if(h!==null)var ue=!0;else{var de=n(c);de!==null&&Q(S,de.startTime-G),ue=!1}return ue}finally{h=null,f=Z,p=!1}}var C=!1,T=null,I=-1,R=5,x=-1;function D(){return!(t.unstable_now()-x<R)}function L(){if(T!==null){var $=t.unstable_now();x=$;var G=!0;try{G=T(!0,$)}finally{G?A():(C=!1,T=null)}}else C=!1}var A;if(typeof y=="function")A=function(){y(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=L,A=function(){q.postMessage(null)}}else A=function(){E(L,0)};function W($){T=$,C||(C=!0,A())}function Q($,G){I=E(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(k))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var Z=f;f=G;try{return $()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=f;f=$;try{return G()}finally{f=Z}},t.unstable_scheduleCallback=function($,G,Z){var ye=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ye+Z:ye):Z=ye,$){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Z+se,$={id:d++,callback:G,priorityLevel:$,startTime:Z,expirationTime:se,sortIndex:-1},Z>ye?($.sortIndex=Z,e(c,$),n(l)===null&&$===n(c)&&(_?(v(I),I=-1):_=!0,Q(S,Z-ye))):($.sortIndex=se,e(l,$),g||p||(g=!0,W(k))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var G=f;return function(){var Z=f;f=G;try{return $.apply(this,arguments)}finally{f=Z}}}})(ek);ZC.exports=ek;var FU=ZC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U=P,qr=FU;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tk=new Set,lh={};function hl(t,e){Cc(t,e),Cc(t+"Capture",e)}function Cc(t,e){for(lh[t]=e,t=0;t<e.length;t++)tk.add(e[t])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v0=Object.prototype.hasOwnProperty,UU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sR={},aR={};function jU(t){return v0.call(aR,t)?!0:v0.call(sR,t)?!1:UU.test(t)?aR[t]=!0:(sR[t]=!0,!1)}function BU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zU(t,e,n,r){if(e===null||typeof e>"u"||BU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var LE=/[\-:]([a-z])/g;function VE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LE,VE);Vn[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LE,VE);Vn[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LE,VE);Vn[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function FE(t,e,n,r){var i=Vn.hasOwnProperty(e)?Vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zU(e,n,i,r)&&(n=null),r||i===null?jU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jo=$U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dp=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),UE=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),E0=Symbol.for("react.suspense_list"),jE=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),ik=Symbol.for("react.offscreen"),lR=Symbol.iterator;function Ku(t){return t===null||typeof t!="object"?null:(t=lR&&t[lR]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,t_;function Td(t){if(t_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);t_=e&&e[1]||""}return`
`+t_+t}var n_=!1;function r_(t,e){if(!t||n_)return"";n_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{n_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Td(t):""}function qU(t){switch(t.tag){case 5:return Td(t.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return t=r_(t.type,!1),t;case 11:return t=r_(t.type.render,!1),t;case 1:return t=r_(t.type,!0),t;default:return""}}function b0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ec:return"Fragment";case Zl:return"Portal";case _0:return"Profiler";case $E:return"StrictMode";case w0:return"Suspense";case E0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rk:return(t.displayName||"Context")+".Consumer";case nk:return(t._context.displayName||"Context")+".Provider";case UE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jE:return e=t.displayName||null,e!==null?e:b0(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return b0(t(e))}catch{}}return null}function WU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(e);case 8:return e===$E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ok(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HU(t){var e=ok(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hp(t){t._valueTracker||(t._valueTracker=HU(t))}function sk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ok(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function T0(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ak(t,e){e=e.checked,e!=null&&FE(t,"checked",e,!1)}function I0(t,e){ak(t,e);var n=Os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?S0(t,e.type,n):e.hasOwnProperty("defaultValue")&&S0(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function S0(t,e,n){(e!=="number"||Cm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Id=Array.isArray;function fc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Id(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Os(n)}}function lk(t,e){var n=Os(e.value),r=Os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ck(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ck(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fp,uk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fp=fp||document.createElement("div"),fp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ch(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GU=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){GU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function dk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function hk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KU=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x0(t,e){if(e){if(KU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function A0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function BE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var k0=null,pc=null,mc=null;function fR(t){if(t=cf(t)){if(typeof k0!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=zg(e),k0(t.stateNode,t.type,e))}}function fk(t){pc?mc?mc.push(t):mc=[t]:pc=t}function pk(){if(pc){var t=pc,e=mc;if(mc=pc=null,fR(t),e)for(t=0;t<e.length;t++)fR(e[t])}}function mk(t,e){return t(e)}function gk(){}var i_=!1;function yk(t,e,n){if(i_)return t(e,n);i_=!0;try{return mk(t,e,n)}finally{i_=!1,(pc!==null||mc!==null)&&(gk(),pk())}}function uh(t,e){var n=t.stateNode;if(n===null)return null;var r=zg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var O0=!1;if(Co)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){O0=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{O0=!1}function QU(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Vd=!1,km=null,Om=!1,N0=null,YU={onError:function(t){Vd=!0,km=t}};function XU(t,e,n,r,i,o,s,a,l){Vd=!1,km=null,QU.apply(YU,arguments)}function JU(t,e,n,r,i,o,s,a,l){if(XU.apply(this,arguments),Vd){if(Vd){var c=km;Vd=!1,km=null}else throw Error(Y(198));Om||(Om=!0,N0=c)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pR(t){if(fl(t)!==t)throw Error(Y(188))}function ZU(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pR(i),t;if(o===r)return pR(i),e;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function _k(t){return t=ZU(t),t!==null?wk(t):null}function wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wk(t);if(e!==null)return e;t=t.sibling}return null}var Ek=qr.unstable_scheduleCallback,mR=qr.unstable_cancelCallback,ej=qr.unstable_shouldYield,tj=qr.unstable_requestPaint,Wt=qr.unstable_now,nj=qr.unstable_getCurrentPriorityLevel,zE=qr.unstable_ImmediatePriority,bk=qr.unstable_UserBlockingPriority,Nm=qr.unstable_NormalPriority,rj=qr.unstable_LowPriority,Tk=qr.unstable_IdlePriority,$g=null,Zi=null;function ij(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot($g,t,void 0,(t.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:aj,oj=Math.log,sj=Math.LN2;function aj(t){return t>>>=0,t===0?32:31-(oj(t)/sj|0)|0}var pp=64,mp=4194304;function Sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Sd(a):(o&=s,o!==0&&(r=Sd(o)))}else s=n&~i,s!==0?r=Sd(s):o!==0&&(r=Sd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ci(e),i=1<<n,r|=t[n],e&=~i;return r}function lj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ci(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=lj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function D0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ik(){var t=pp;return pp<<=1,!(pp&4194240)&&(pp=64),t}function o_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function af(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ci(e),t[e]=n}function uj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ci(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function qE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ci(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function Sk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rk,WE,Pk,xk,Ak,M0=!1,gp=[],bs=null,Ts=null,Is=null,dh=new Map,hh=new Map,hs=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gR(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":dh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(e.pointerId)}}function Yu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cf(e),e!==null&&WE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hj(t,e,n,r,i){switch(e){case"focusin":return bs=Yu(bs,t,e,n,r,i),!0;case"dragenter":return Ts=Yu(Ts,t,e,n,r,i),!0;case"mouseover":return Is=Yu(Is,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return dh.set(o,Yu(dh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hh.set(o,Yu(hh.get(o)||null,t,e,n,r,i)),!0}return!1}function Ck(t){var e=ba(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=vk(n),e!==null){t.blockedOn=e,Ak(t.priority,function(){Pk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C0=r,n.target.dispatchEvent(r),C0=null}else return e=cf(n),e!==null&&WE(e),t.blockedOn=n,!1;e.shift()}return!0}function yR(t,e,n){Xp(t)&&n.delete(e)}function fj(){M0=!1,bs!==null&&Xp(bs)&&(bs=null),Ts!==null&&Xp(Ts)&&(Ts=null),Is!==null&&Xp(Is)&&(Is=null),dh.forEach(yR),hh.forEach(yR)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,M0||(M0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,fj)))}function fh(t){function e(i){return Xu(i,t)}if(0<gp.length){Xu(gp[0],t);for(var n=1;n<gp.length;n++){var r=gp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&Xu(bs,t),Ts!==null&&Xu(Ts,t),Is!==null&&Xu(Is,t),dh.forEach(e),hh.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)Ck(n),n.blockedOn===null&&hs.shift()}var gc=jo.ReactCurrentBatchConfig,Mm=!0;function pj(t,e,n,r){var i=rt,o=gc.transition;gc.transition=null;try{rt=1,HE(t,e,n,r)}finally{rt=i,gc.transition=o}}function mj(t,e,n,r){var i=rt,o=gc.transition;gc.transition=null;try{rt=4,HE(t,e,n,r)}finally{rt=i,gc.transition=o}}function HE(t,e,n,r){if(Mm){var i=L0(t,e,n,r);if(i===null)m_(t,e,r,Lm,n),gR(t,r);else if(hj(i,t,e,n,r))r.stopPropagation();else if(gR(t,r),e&4&&-1<dj.indexOf(t)){for(;i!==null;){var o=cf(i);if(o!==null&&Rk(o),o=L0(t,e,n,r),o===null&&m_(t,e,r,Lm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else m_(t,e,r,null,n)}}var Lm=null;function L0(t,e,n,r){if(Lm=null,t=BE(r),t=ba(t),t!==null)if(e=fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lm=t,null}function kk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nj()){case zE:return 1;case bk:return 4;case Nm:case rj:return 16;case Tk:return 536870912;default:return 16}default:return 16}}var gs=null,GE=null,Jp=null;function Ok(){if(Jp)return Jp;var t,e=GE,n=e.length,r,i="value"in gs?gs.value:gs.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Jp=i.slice(t,1<r?1-r:void 0)}function Zp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yp(){return!0}function vR(){return!1}function Qr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yp:vR,this.isPropagationStopped=vR,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KE=Qr(hu),lf=xt({},hu,{view:0,detail:0}),gj=Qr(lf),s_,a_,Ju,Ug=xt({},lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ju&&(Ju&&t.type==="mousemove"?(s_=t.screenX-Ju.screenX,a_=t.screenY-Ju.screenY):a_=s_=0,Ju=t),s_)},movementY:function(t){return"movementY"in t?t.movementY:a_}}),_R=Qr(Ug),yj=xt({},Ug,{dataTransfer:0}),vj=Qr(yj),_j=xt({},lf,{relatedTarget:0}),l_=Qr(_j),wj=xt({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),Ej=Qr(wj),bj=xt({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tj=Qr(bj),Ij=xt({},hu,{data:0}),wR=Qr(Ij),Sj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pj[t])?!!e[t]:!1}function QE(){return xj}var Aj=xt({},lf,{key:function(t){if(t.key){var e=Sj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QE,charCode:function(t){return t.type==="keypress"?Zp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cj=Qr(Aj),kj=xt({},Ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ER=Qr(kj),Oj=xt({},lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QE}),Nj=Qr(Oj),Dj=xt({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mj=Qr(Dj),Lj=xt({},Ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vj=Qr(Lj),Fj=[9,13,27,32],YE=Co&&"CompositionEvent"in window,Fd=null;Co&&"documentMode"in document&&(Fd=document.documentMode);var $j=Co&&"TextEvent"in window&&!Fd,Nk=Co&&(!YE||Fd&&8<Fd&&11>=Fd),bR=" ",TR=!1;function Dk(t,e){switch(t){case"keyup":return Fj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tc=!1;function Uj(t,e){switch(t){case"compositionend":return Mk(e);case"keypress":return e.which!==32?null:(TR=!0,bR);case"textInput":return t=e.data,t===bR&&TR?null:t;default:return null}}function jj(t,e){if(tc)return t==="compositionend"||!YE&&Dk(t,e)?(t=Ok(),Jp=GE=gs=null,tc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nk&&e.locale!=="ko"?null:e.data;default:return null}}var Bj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bj[t.type]:e==="textarea"}function Lk(t,e,n,r){fk(r),e=Vm(e,"onChange"),0<e.length&&(n=new KE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $d=null,ph=null;function zj(t){Gk(t,0)}function jg(t){var e=ic(t);if(sk(e))return t}function qj(t,e){if(t==="change")return e}var Vk=!1;if(Co){var c_;if(Co){var u_="oninput"in document;if(!u_){var SR=document.createElement("div");SR.setAttribute("oninput","return;"),u_=typeof SR.oninput=="function"}c_=u_}else c_=!1;Vk=c_&&(!document.documentMode||9<document.documentMode)}function RR(){$d&&($d.detachEvent("onpropertychange",Fk),ph=$d=null)}function Fk(t){if(t.propertyName==="value"&&jg(ph)){var e=[];Lk(e,ph,t,BE(t)),yk(zj,e)}}function Wj(t,e,n){t==="focusin"?(RR(),$d=e,ph=n,$d.attachEvent("onpropertychange",Fk)):t==="focusout"&&RR()}function Hj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jg(ph)}function Gj(t,e){if(t==="click")return jg(e)}function Kj(t,e){if(t==="input"||t==="change")return jg(e)}function Qj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oi=typeof Object.is=="function"?Object.is:Qj;function mh(t,e){if(Oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v0.call(e,i)||!Oi(t[i],e[i]))return!1}return!0}function PR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xR(t,e){var n=PR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PR(n)}}function $k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uk(){for(var t=window,e=Cm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cm(t.document)}return e}function XE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yj(t){var e=Uk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$k(n.ownerDocument.documentElement,n)){if(r!==null&&XE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=xR(n,o);var s=xR(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xj=Co&&"documentMode"in document&&11>=document.documentMode,nc=null,V0=null,Ud=null,F0=!1;function AR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F0||nc==null||nc!==Cm(r)||(r=nc,"selectionStart"in r&&XE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ud&&mh(Ud,r)||(Ud=r,r=Vm(V0,"onSelect"),0<r.length&&(e=new KE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nc)))}function vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rc={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},d_={},jk={};Co&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Bg(t){if(d_[t])return d_[t];if(!rc[t])return t;var e=rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jk)return d_[t]=e[n];return t}var Bk=Bg("animationend"),zk=Bg("animationiteration"),qk=Bg("animationstart"),Wk=Bg("transitionend"),Hk=new Map,CR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){Hk.set(t,e),hl(e,[t])}for(var h_=0;h_<CR.length;h_++){var f_=CR[h_],Jj=f_.toLowerCase(),Zj=f_[0].toUpperCase()+f_.slice(1);Ws(Jj,"on"+Zj)}Ws(Bk,"onAnimationEnd");Ws(zk,"onAnimationIteration");Ws(qk,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(Wk,"onTransitionEnd");Cc("onMouseEnter",["mouseout","mouseover"]);Cc("onMouseLeave",["mouseout","mouseover"]);Cc("onPointerEnter",["pointerout","pointerover"]);Cc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rd));function kR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JU(r,e,void 0,t),t.currentTarget=null}function Gk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;kR(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;kR(i,a,c),o=l}}}if(Om)throw t=N0,Om=!1,N0=null,t}function mt(t,e){var n=e[z0];n===void 0&&(n=e[z0]=new Set);var r=t+"__bubble";n.has(r)||(Kk(e,t,2,!1),n.add(r))}function p_(t,e,n){var r=0;e&&(r|=4),Kk(n,t,r,e)}var _p="_reactListening"+Math.random().toString(36).slice(2);function gh(t){if(!t[_p]){t[_p]=!0,tk.forEach(function(n){n!=="selectionchange"&&(eB.has(n)||p_(n,!1,t),p_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_p]||(e[_p]=!0,p_("selectionchange",!1,e))}}function Kk(t,e,n,r){switch(kk(e)){case 1:var i=pj;break;case 4:i=mj;break;default:i=HE}n=i.bind(null,e,n,t),i=void 0,!O0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function m_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ba(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yk(function(){var c=o,d=BE(n),h=[];e:{var f=Hk.get(t);if(f!==void 0){var p=KE,g=t;switch(t){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":p=Cj;break;case"focusin":g="focus",p=l_;break;case"focusout":g="blur",p=l_;break;case"beforeblur":case"afterblur":p=l_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_R;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nj;break;case Bk:case zk:case qk:p=Ej;break;case Wk:p=Mj;break;case"scroll":p=gj;break;case"wheel":p=Vj;break;case"copy":case"cut":case"paste":p=Tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ER}var _=(e&4)!==0,E=!_&&t==="scroll",v=_?f!==null?f+"Capture":null:f;_=[];for(var y=c,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=uh(y,v),S!=null&&_.push(yh(y,S,w)))),E)break;y=y.return}0<_.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==C0&&(g=n.relatedTarget||n.fromElement)&&(ba(g)||g[ko]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ba(g):null,g!==null&&(E=fl(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(_=_R,S="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=ER,S="onPointerLeave",v="onPointerEnter",y="pointer"),E=p==null?f:ic(p),w=g==null?f:ic(g),f=new _(S,y+"leave",p,n,d),f.target=E,f.relatedTarget=w,S=null,ba(d)===c&&(_=new _(v,y+"enter",g,n,d),_.target=w,_.relatedTarget=E,S=_),E=S,p&&g)t:{for(_=p,v=g,y=0,w=_;w;w=kl(w))y++;for(w=0,S=v;S;S=kl(S))w++;for(;0<y-w;)_=kl(_),y--;for(;0<w-y;)v=kl(v),w--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=kl(_),v=kl(v)}_=null}else _=null;p!==null&&OR(h,f,p,_,!1),g!==null&&E!==null&&OR(h,E,g,_,!0)}}e:{if(f=c?ic(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=qj;else if(IR(f))if(Vk)k=Kj;else{k=Hj;var C=Wj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Gj);if(k&&(k=k(t,c))){Lk(h,k,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&S0(f,"number",f.value)}switch(C=c?ic(c):window,t){case"focusin":(IR(C)||C.contentEditable==="true")&&(nc=C,V0=c,Ud=null);break;case"focusout":Ud=V0=nc=null;break;case"mousedown":F0=!0;break;case"contextmenu":case"mouseup":case"dragend":F0=!1,AR(h,n,d);break;case"selectionchange":if(Xj)break;case"keydown":case"keyup":AR(h,n,d)}var T;if(YE)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else tc?Dk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Nk&&n.locale!=="ko"&&(tc||I!=="onCompositionStart"?I==="onCompositionEnd"&&tc&&(T=Ok()):(gs=d,GE="value"in gs?gs.value:gs.textContent,tc=!0)),C=Vm(c,I),0<C.length&&(I=new wR(I,t,null,n,d),h.push({event:I,listeners:C}),T?I.data=T:(T=Mk(n),T!==null&&(I.data=T)))),(T=$j?Uj(t,n):jj(t,n))&&(c=Vm(c,"onBeforeInput"),0<c.length&&(d=new wR("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}Gk(h,e)})}function yh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=uh(t,n),o!=null&&r.unshift(yh(t,o,i)),o=uh(t,e),o!=null&&r.push(yh(t,o,i))),t=t.return}return r}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OR(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=uh(n,o),l!=null&&s.unshift(yh(n,l,a))):i||(l=uh(n,o),l!=null&&s.push(yh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tB=/\r\n?/g,nB=/\u0000|\uFFFD/g;function NR(t){return(typeof t=="string"?t:""+t).replace(tB,`
`).replace(nB,"")}function wp(t,e,n){if(e=NR(e),NR(t)!==e&&n)throw Error(Y(425))}function Fm(){}var $0=null,U0=null;function j0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,rB=typeof clearTimeout=="function"?clearTimeout:void 0,DR=typeof Promise=="function"?Promise:void 0,iB=typeof queueMicrotask=="function"?queueMicrotask:typeof DR<"u"?function(t){return DR.resolve(null).then(t).catch(oB)}:B0;function oB(t){setTimeout(function(){throw t})}function g_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fh(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),qi="__reactFiber$"+fu,vh="__reactProps$"+fu,ko="__reactContainer$"+fu,z0="__reactEvents$"+fu,sB="__reactListeners$"+fu,aB="__reactHandles$"+fu;function ba(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ko]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MR(t);t!==null;){if(n=t[qi])return n;t=MR(t)}return e}t=n,n=t.parentNode}return null}function cf(t){return t=t[qi]||t[ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function zg(t){return t[vh]||null}var q0=[],oc=-1;function Hs(t){return{current:t}}function yt(t){0>oc||(t.current=q0[oc],q0[oc]=null,oc--)}function dt(t,e){oc++,q0[oc]=t.current,t.current=e}var Ns={},Kn=Hs(Ns),br=Hs(!1),ja=Ns;function kc(t,e){var n=t.type.contextTypes;if(!n)return Ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(t){return t=t.childContextTypes,t!=null}function $m(){yt(br),yt(Kn)}function LR(t,e,n){if(Kn.current!==Ns)throw Error(Y(168));dt(Kn,e),dt(br,n)}function Qk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,WU(t)||"Unknown",i));return xt({},n,r)}function Um(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,ja=Kn.current,dt(Kn,t),dt(br,br.current),!0}function VR(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=Qk(t,e,ja),r.__reactInternalMemoizedMergedChildContext=t,yt(br),yt(Kn),dt(Kn,t)):yt(br),dt(br,n)}var vo=null,qg=!1,y_=!1;function Yk(t){vo===null?vo=[t]:vo.push(t)}function lB(t){qg=!0,Yk(t)}function Gs(){if(!y_&&vo!==null){y_=!0;var t=0,e=rt;try{var n=vo;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vo=null,qg=!1}catch(i){throw vo!==null&&(vo=vo.slice(t+1)),Ek(zE,Gs),i}finally{rt=e,y_=!1}}return null}var sc=[],ac=0,jm=null,Bm=0,ni=[],ri=0,Ba=null,Eo=1,bo="";function da(t,e){sc[ac++]=Bm,sc[ac++]=jm,jm=t,Bm=e}function Xk(t,e,n){ni[ri++]=Eo,ni[ri++]=bo,ni[ri++]=Ba,Ba=t;var r=Eo;t=bo;var i=32-Ci(r)-1;r&=~(1<<i),n+=1;var o=32-Ci(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Eo=1<<32-Ci(e)+i|n<<i|r,bo=o+t}else Eo=1<<o|n<<i|r,bo=t}function JE(t){t.return!==null&&(da(t,1),Xk(t,1,0))}function ZE(t){for(;t===jm;)jm=sc[--ac],sc[ac]=null,Bm=sc[--ac],sc[ac]=null;for(;t===Ba;)Ba=ni[--ri],ni[ri]=null,bo=ni[--ri],ni[ri]=null,Eo=ni[--ri],ni[ri]=null}var jr=null,$r=null,Et=!1,Ri=null;function Jk(t,e){var n=oi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,$r=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,$r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:Eo,overflow:bo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=oi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,$r=null,!0):!1;default:return!1}}function W0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H0(t){if(Et){var e=$r;if(e){var n=e;if(!FR(t,e)){if(W0(t))throw Error(Y(418));e=Ss(n.nextSibling);var r=jr;e&&FR(t,e)?Jk(r,n):(t.flags=t.flags&-4097|2,Et=!1,jr=t)}}else{if(W0(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Et=!1,jr=t}}}function $R(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function Ep(t){if(t!==jr)return!1;if(!Et)return $R(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j0(t.type,t.memoizedProps)),e&&(e=$r)){if(W0(t))throw Zk(),Error(Y(418));for(;e;)Jk(t,e),e=Ss(e.nextSibling)}if($R(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$r=Ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$r=null}}else $r=jr?Ss(t.stateNode.nextSibling):null;return!0}function Zk(){for(var t=$r;t;)t=Ss(t.nextSibling)}function Oc(){$r=jr=null,Et=!1}function eb(t){Ri===null?Ri=[t]:Ri.push(t)}var cB=jo.ReactCurrentBatchConfig;function Zu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function bp(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UR(t){var e=t._init;return e(t._payload)}function eO(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=As(v,y),v.index=0,v.sibling=null,v}function o(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,S){return y===null||y.tag!==6?(y=I_(w,v.mode,S),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w,S){var k=w.type;return k===ec?d(v,y,w.props.children,S,w.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===us&&UR(k)===y.type)?(S=i(y,w.props),S.ref=Zu(v,y,w),S.return=v,S):(S=sm(w.type,w.key,w.props,null,v.mode,S),S.ref=Zu(v,y,w),S.return=v,S)}function c(v,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=S_(w,v.mode,S),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function d(v,y,w,S,k){return y===null||y.tag!==7?(y=Na(w,v.mode,S,k),y.return=v,y):(y=i(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=I_(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dp:return w=sm(y.type,y.key,y.props,null,v.mode,w),w.ref=Zu(v,null,y),w.return=v,w;case Zl:return y=S_(y,v.mode,w),y.return=v,y;case us:var S=y._init;return h(v,S(y._payload),w)}if(Id(y)||Ku(y))return y=Na(y,v.mode,w,null),y.return=v,y;bp(v,y)}return null}function f(v,y,w,S){var k=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(v,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dp:return w.key===k?l(v,y,w,S):null;case Zl:return w.key===k?c(v,y,w,S):null;case us:return k=w._init,f(v,y,k(w._payload),S)}if(Id(w)||Ku(w))return k!==null?null:d(v,y,w,S,null);bp(v,w)}return null}function p(v,y,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,a(y,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dp:return v=v.get(S.key===null?w:S.key)||null,l(y,v,S,k);case Zl:return v=v.get(S.key===null?w:S.key)||null,c(y,v,S,k);case us:var C=S._init;return p(v,y,w,C(S._payload),k)}if(Id(S)||Ku(S))return v=v.get(w)||null,d(y,v,S,k,null);bp(y,S)}return null}function g(v,y,w,S){for(var k=null,C=null,T=y,I=y=0,R=null;T!==null&&I<w.length;I++){T.index>I?(R=T,T=null):R=T.sibling;var x=f(v,T,w[I],S);if(x===null){T===null&&(T=R);break}t&&T&&x.alternate===null&&e(v,T),y=o(x,y,I),C===null?k=x:C.sibling=x,C=x,T=R}if(I===w.length)return n(v,T),Et&&da(v,I),k;if(T===null){for(;I<w.length;I++)T=h(v,w[I],S),T!==null&&(y=o(T,y,I),C===null?k=T:C.sibling=T,C=T);return Et&&da(v,I),k}for(T=r(v,T);I<w.length;I++)R=p(T,v,I,w[I],S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),y=o(R,y,I),C===null?k=R:C.sibling=R,C=R);return t&&T.forEach(function(D){return e(v,D)}),Et&&da(v,I),k}function _(v,y,w,S){var k=Ku(w);if(typeof k!="function")throw Error(Y(150));if(w=k.call(w),w==null)throw Error(Y(151));for(var C=k=null,T=y,I=y=0,R=null,x=w.next();T!==null&&!x.done;I++,x=w.next()){T.index>I?(R=T,T=null):R=T.sibling;var D=f(v,T,x.value,S);if(D===null){T===null&&(T=R);break}t&&T&&D.alternate===null&&e(v,T),y=o(D,y,I),C===null?k=D:C.sibling=D,C=D,T=R}if(x.done)return n(v,T),Et&&da(v,I),k;if(T===null){for(;!x.done;I++,x=w.next())x=h(v,x.value,S),x!==null&&(y=o(x,y,I),C===null?k=x:C.sibling=x,C=x);return Et&&da(v,I),k}for(T=r(v,T);!x.done;I++,x=w.next())x=p(T,v,I,x.value,S),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?I:x.key),y=o(x,y,I),C===null?k=x:C.sibling=x,C=x);return t&&T.forEach(function(L){return e(v,L)}),Et&&da(v,I),k}function E(v,y,w,S){if(typeof w=="object"&&w!==null&&w.type===ec&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dp:e:{for(var k=w.key,C=y;C!==null;){if(C.key===k){if(k=w.type,k===ec){if(C.tag===7){n(v,C.sibling),y=i(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===us&&UR(k)===C.type){n(v,C.sibling),y=i(C,w.props),y.ref=Zu(v,C,w),y.return=v,v=y;break e}n(v,C);break}else e(v,C);C=C.sibling}w.type===ec?(y=Na(w.props.children,v.mode,S,w.key),y.return=v,v=y):(S=sm(w.type,w.key,w.props,null,v.mode,S),S.ref=Zu(v,y,w),S.return=v,v=S)}return s(v);case Zl:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=S_(w,v.mode,S),y.return=v,v=y}return s(v);case us:return C=w._init,E(v,y,C(w._payload),S)}if(Id(w))return g(v,y,w,S);if(Ku(w))return _(v,y,w,S);bp(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,w),y.return=v,v=y):(n(v,y),y=I_(w,v.mode,S),y.return=v,v=y),s(v)):n(v,y)}return E}var Nc=eO(!0),tO=eO(!1),zm=Hs(null),qm=null,lc=null,tb=null;function nb(){tb=lc=qm=null}function rb(t){var e=zm.current;yt(zm),t._currentValue=e}function G0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){qm=t,tb=lc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(tb!==t)if(t={context:t,memoizedValue:e,next:null},lc===null){if(qm===null)throw Error(Y(308));lc=t,qm.dependencies={lanes:0,firstContext:t}}else lc=lc.next=t;return e}var Ta=null;function ib(t){Ta===null?Ta=[t]:Ta.push(t)}function nO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ib(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oo(t,r)}function Oo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function ob(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Po(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oo(t,n)}return i=r.interleaved,i===null?(e.next=e,ib(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oo(t,n)}function em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qE(t,n)}}function jR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wm(t,e,n,r){var i=t.updateQueue;ds=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=xt({},h,f);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qa|=s,t.lanes=s,t.memoizedState=h}}function BR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var uf={},eo=Hs(uf),_h=Hs(uf),wh=Hs(uf);function Ia(t){if(t===uf)throw Error(Y(174));return t}function sb(t,e){switch(dt(wh,e),dt(_h,t),dt(eo,uf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P0(e,t)}yt(eo),dt(eo,e)}function Dc(){yt(eo),yt(_h),yt(wh)}function iO(t){Ia(wh.current);var e=Ia(eo.current),n=P0(e,t.type);e!==n&&(dt(_h,t),dt(eo,n))}function ab(t){_h.current===t&&(yt(eo),yt(_h))}var St=Hs(0);function Hm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var v_=[];function lb(){for(var t=0;t<v_.length;t++)v_[t]._workInProgressVersionPrimary=null;v_.length=0}var tm=jo.ReactCurrentDispatcher,__=jo.ReactCurrentBatchConfig,za=0,Rt=null,an=null,fn=null,Gm=!1,jd=!1,Eh=0,uB=0;function jn(){throw Error(Y(321))}function cb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Oi(t[n],e[n]))return!1;return!0}function ub(t,e,n,r,i,o){if(za=o,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tm.current=t===null||t.memoizedState===null?pB:mB,t=n(r,i),jd){o=0;do{if(jd=!1,Eh=0,25<=o)throw Error(Y(301));o+=1,fn=an=null,e.updateQueue=null,tm.current=gB,t=n(r,i)}while(jd)}if(tm.current=Km,e=an!==null&&an.next!==null,za=0,fn=an=Rt=null,Gm=!1,e)throw Error(Y(300));return t}function db(){var t=Eh!==0;return Eh=0,t}function ji(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Rt.memoizedState=fn=t:fn=fn.next=t,fn}function fi(){if(an===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=fn===null?Rt.memoizedState:fn.next;if(e!==null)fn=e,an=t;else{if(t===null)throw Error(Y(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?Rt.memoizedState=fn=t:fn=fn.next=t}return fn}function bh(t,e){return typeof e=="function"?e(t):e}function w_(t){var e=fi(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((za&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Rt.lanes|=d,qa|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Oi(r,e.memoizedState)||(vr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Rt.lanes|=o,qa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function E_(t){var e=fi(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Oi(o,e.memoizedState)||(vr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function oO(){}function sO(t,e){var n=Rt,r=fi(),i=e(),o=!Oi(r.memoizedState,i);if(o&&(r.memoizedState=i,vr=!0),r=r.queue,hb(cO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,Th(9,lO.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(Y(349));za&30||aO(n,e,i)}return i}function aO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lO(t,e,n,r){e.value=n,e.getSnapshot=r,uO(e)&&dO(t)}function cO(t,e,n){return n(function(){uO(e)&&dO(t)})}function uO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Oi(t,n)}catch{return!0}}function dO(t){var e=Oo(t,1);e!==null&&ki(e,t,1,-1)}function zR(t){var e=ji();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:t},e.queue=t,t=t.dispatch=fB.bind(null,Rt,t),[e.memoizedState,t]}function Th(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hO(){return fi().memoizedState}function nm(t,e,n,r){var i=ji();Rt.flags|=t,i.memoizedState=Th(1|e,n,void 0,r===void 0?null:r)}function Wg(t,e,n,r){var i=fi();r=r===void 0?null:r;var o=void 0;if(an!==null){var s=an.memoizedState;if(o=s.destroy,r!==null&&cb(r,s.deps)){i.memoizedState=Th(e,n,o,r);return}}Rt.flags|=t,i.memoizedState=Th(1|e,n,o,r)}function qR(t,e){return nm(8390656,8,t,e)}function hb(t,e){return Wg(2048,8,t,e)}function fO(t,e){return Wg(4,2,t,e)}function pO(t,e){return Wg(4,4,t,e)}function mO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gO(t,e,n){return n=n!=null?n.concat([t]):null,Wg(4,4,mO.bind(null,e,t),n)}function fb(){}function yO(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vO(t,e){var n=fi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _O(t,e,n){return za&21?(Oi(n,e)||(n=Ik(),Rt.lanes|=n,qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=n)}function dB(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=__.transition;__.transition={};try{t(!1),e()}finally{rt=n,__.transition=r}}function wO(){return fi().memoizedState}function hB(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EO(t))bO(e,n);else if(n=nO(t,e,n,r),n!==null){var i=or();ki(n,t,r,i),TO(n,e,r)}}function fB(t,e,n){var r=xs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EO(t))bO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Oi(a,s)){var l=e.interleaved;l===null?(i.next=i,ib(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nO(t,e,i,r),n!==null&&(i=or(),ki(n,t,r,i),TO(n,e,r))}}function EO(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function bO(t,e){jd=Gm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qE(t,n)}}var Km={readContext:hi,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},pB={readContext:hi,useCallback:function(t,e){return ji().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:qR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nm(4194308,4,mO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nm(4194308,4,t,e)},useInsertionEffect:function(t,e){return nm(4,2,t,e)},useMemo:function(t,e){var n=ji();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ji();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hB.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=ji();return t={current:t},e.memoizedState=t},useState:zR,useDebugValue:fb,useDeferredValue:function(t){return ji().memoizedState=t},useTransition:function(){var t=zR(!1),e=t[0];return t=dB.bind(null,t[1]),ji().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=ji();if(Et){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),mn===null)throw Error(Y(349));za&30||aO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qR(cO.bind(null,r,o,t),[t]),r.flags|=2048,Th(9,lO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ji(),e=mn.identifierPrefix;if(Et){var n=bo,r=Eo;n=(r&~(1<<32-Ci(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mB={readContext:hi,useCallback:yO,useContext:hi,useEffect:hb,useImperativeHandle:gO,useInsertionEffect:fO,useLayoutEffect:pO,useMemo:vO,useReducer:w_,useRef:hO,useState:function(){return w_(bh)},useDebugValue:fb,useDeferredValue:function(t){var e=fi();return _O(e,an.memoizedState,t)},useTransition:function(){var t=w_(bh)[0],e=fi().memoizedState;return[t,e]},useMutableSource:oO,useSyncExternalStore:sO,useId:wO,unstable_isNewReconciler:!1},gB={readContext:hi,useCallback:yO,useContext:hi,useEffect:hb,useImperativeHandle:gO,useInsertionEffect:fO,useLayoutEffect:pO,useMemo:vO,useReducer:E_,useRef:hO,useState:function(){return E_(bh)},useDebugValue:fb,useDeferredValue:function(t){var e=fi();return an===null?e.memoizedState=t:_O(e,an.memoizedState,t)},useTransition:function(){var t=E_(bh)[0],e=fi().memoizedState;return[t,e]},useMutableSource:oO,useSyncExternalStore:sO,useId:wO,unstable_isNewReconciler:!1};function Ii(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function K0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=or(),i=xs(t),o=Po(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rs(t,o,i),e!==null&&(ki(e,t,i,r),em(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=or(),i=xs(t),o=Po(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rs(t,o,i),e!==null&&(ki(e,t,i,r),em(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=or(),r=xs(t),i=Po(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,r),e!==null&&(ki(e,t,r,n),em(e,t,r))}};function WR(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!mh(n,r)||!mh(i,o):!0}function IO(t,e,n){var r=!1,i=Ns,o=e.contextType;return typeof o=="object"&&o!==null?o=hi(o):(i=Tr(e)?ja:Kn.current,r=e.contextTypes,o=(r=r!=null)?kc(t,i):Ns),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function HR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function Q0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ob(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hi(o):(o=Tr(e)?ja:Kn.current,i.context=kc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(K0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hg.enqueueReplaceState(i,i.state,null),Wm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mc(t,e){try{var n="",r=e;do n+=qU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function b_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Y0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yB=typeof WeakMap=="function"?WeakMap:Map;function SO(t,e,n){n=Po(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ym||(Ym=!0,sw=r),Y0(t,e)},n}function RO(t,e,n){n=Po(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Y0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Y0(t,e),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function GR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kB.bind(null,t,e,n),e.then(t,t))}function KR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Po(-1,1),e.tag=2,Rs(n,e,1))),n.lanes|=1),t)}var vB=jo.ReactCurrentOwner,vr=!1;function tr(t,e,n,r){e.child=t===null?tO(e,null,n,r):Nc(e,t.child,n,r)}function YR(t,e,n,r,i){n=n.render;var o=e.ref;return yc(e,i),r=ub(t,e,n,r,o,i),n=db(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(Et&&n&&JE(e),e.flags|=1,tr(t,e,r,i),e.child)}function XR(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Eb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,PO(t,e,o,r,i)):(t=sm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:mh,n(s,r)&&t.ref===e.ref)return No(t,e,i)}return e.flags|=1,t=As(o,r),t.ref=e.ref,t.return=e,e.child=t}function PO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(mh(o,r)&&t.ref===e.ref)if(vr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,No(t,e,i)}return X0(t,e,n,r,i)}function xO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(uc,Dr),Dr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(uc,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(uc,Dr),Dr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,dt(uc,Dr),Dr|=r;return tr(t,e,i,n),e.child}function AO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X0(t,e,n,r,i){var o=Tr(n)?ja:Kn.current;return o=kc(e,o),yc(e,i),n=ub(t,e,n,r,o,i),r=db(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(Et&&r&&JE(e),e.flags|=1,tr(t,e,n,i),e.child)}function JR(t,e,n,r,i){if(Tr(n)){var o=!0;Um(e)}else o=!1;if(yc(e,i),e.stateNode===null)rm(t,e),IO(e,n,r),Q0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=hi(c):(c=Tr(n)?ja:Kn.current,c=kc(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&HR(e,s,r,c),ds=!1;var f=e.memoizedState;s.state=f,Wm(e,r,s,i),l=e.memoizedState,a!==r||f!==l||br.current||ds?(typeof d=="function"&&(K0(e,n,d,r),l=e.memoizedState),(a=ds||WR(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,rO(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ii(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Tr(n)?ja:Kn.current,l=kc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&HR(e,s,r,l),ds=!1,f=e.memoizedState,s.state=f,Wm(e,r,s,i);var g=e.memoizedState;a!==h||f!==g||br.current||ds?(typeof p=="function"&&(K0(e,n,p,r),g=e.memoizedState),(c=ds||WR(e,n,c,r,f,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return J0(t,e,n,r,o,i)}function J0(t,e,n,r,i,o){AO(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&VR(e,n,!1),No(t,e,o);r=e.stateNode,vB.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Nc(e,t.child,null,o),e.child=Nc(e,null,a,o)):tr(t,e,a,o),e.memoizedState=r.state,i&&VR(e,n,!0),e.child}function CO(t){var e=t.stateNode;e.pendingContext?LR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LR(t,e.context,!1),sb(t,e.containerInfo)}function ZR(t,e,n,r,i){return Oc(),eb(i),e.flags|=256,tr(t,e,n,r),e.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function ew(t){return{baseLanes:t,cachePool:null,transitions:null}}function kO(t,e,n){var r=e.pendingProps,i=St.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(St,i&1),t===null)return H0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qg(s,r,0,null),t=Na(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ew(n),e.memoizedState=Z0,t):pb(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _B(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=As(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=As(a,o):(o=Na(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ew(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Z0,r}return o=t.child,t=o.sibling,r=As(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pb(t,e){return e=Qg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tp(t,e,n,r){return r!==null&&eb(r),Nc(e,t.child,null,n),t=pb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _B(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=b_(Error(Y(422))),Tp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qg({mode:"visible",children:r.children},i,0,null),o=Na(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Nc(e,t.child,null,s),e.child.memoizedState=ew(s),e.memoizedState=Z0,o);if(!(e.mode&1))return Tp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=b_(o,r,void 0),Tp(t,e,s,r)}if(a=(s&t.childLanes)!==0,vr||a){if(r=mn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oo(t,i),ki(r,t,i,-1))}return wb(),r=b_(Error(Y(421))),Tp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$r=Ss(i.nextSibling),jr=e,Et=!0,Ri=null,t!==null&&(ni[ri++]=Eo,ni[ri++]=bo,ni[ri++]=Ba,Eo=t.id,bo=t.overflow,Ba=e),e=pb(e,r.children),e.flags|=4096,e)}function eP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),G0(t.return,e,n)}function T_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function OO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(tr(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eP(t,n,e);else if(t.tag===19)eP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),T_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}T_(e,!0,n,null,o);break;case"together":T_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function No(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=As(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=As(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wB(t,e,n){switch(e.tag){case 3:CO(e),Oc();break;case 5:iO(e);break;case 1:Tr(e.type)&&Um(e);break;case 4:sb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(zm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?kO(t,e,n):(dt(St,St.current&1),t=No(t,e,n),t!==null?t.sibling:null);dt(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,xO(t,e,n)}return No(t,e,n)}var NO,tw,DO,MO;NO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tw=function(){};DO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ia(eo.current);var o=null;switch(n){case"input":i=T0(t,i),r=T0(t,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=R0(t,i),r=R0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fm)}x0(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};MO=function(t,e,n,r){n!==r&&(e.flags|=4)};function ed(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EB(t,e,n){var r=e.pendingProps;switch(ZE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return Tr(e.type)&&$m(),Bn(e),null;case 3:return r=e.stateNode,Dc(),yt(br),yt(Kn),lb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ep(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(cw(Ri),Ri=null))),tw(t,e),Bn(e),null;case 5:ab(e);var i=Ia(wh.current);if(n=e.type,t!==null&&e.stateNode!=null)DO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Bn(e),null}if(t=Ia(eo.current),Ep(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qi]=e,r[vh]=o,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(i=0;i<Rd.length;i++)mt(Rd[i],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":cR(r,o),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},mt("invalid",r);break;case"textarea":dR(r,o),mt("invalid",r)}x0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wp(r.textContent,a,t),i=["children",""+a]):lh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&mt("scroll",r)}switch(n){case"input":hp(r),uR(r,o,!0);break;case"textarea":hp(r),hR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ck(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qi]=e,t[vh]=r,NO(t,e,!1,!1),e.stateNode=t;e:{switch(s=A0(n,r),n){case"dialog":mt("cancel",t),mt("close",t),i=r;break;case"iframe":case"object":case"embed":mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rd.length;i++)mt(Rd[i],t);i=r;break;case"source":mt("error",t),i=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=r;break;case"details":mt("toggle",t),i=r;break;case"input":cR(t,r),i=T0(t,r),mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),mt("invalid",t);break;case"textarea":dR(t,r),i=R0(t,r),mt("invalid",t);break;default:i=r}x0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ch(t,l):typeof l=="number"&&ch(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&mt("scroll",t):l!=null&&FE(t,o,l,s))}switch(n){case"input":hp(t),uR(t,r,!1);break;case"textarea":hp(t),hR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Os(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fc(t,!!r.multiple,o,!1):r.defaultValue!=null&&fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)MO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ia(wh.current),Ia(eo.current),Ep(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(o=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:wp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return Bn(e),null;case 13:if(yt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&$r!==null&&e.mode&1&&!(e.flags&128))Zk(),Oc(),e.flags|=98560,o=!1;else if(o=Ep(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[qi]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),o=!1}else Ri!==null&&(cw(Ri),Ri=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?ln===0&&(ln=3):wb())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return Dc(),tw(t,e),t===null&&gh(e.stateNode.containerInfo),Bn(e),null;case 10:return rb(e.type._context),Bn(e),null;case 17:return Tr(e.type)&&$m(),Bn(e),null;case 19:if(yt(St),o=e.memoizedState,o===null)return Bn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ed(o,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Hm(t),s!==null){for(e.flags|=128,ed(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(St,St.current&1|2),e.child}t=t.sibling}o.tail!==null&&Wt()>Lc&&(e.flags|=128,r=!0,ed(o,!1),e.lanes=4194304)}else{if(!r)if(t=Hm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ed(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Et)return Bn(e),null}else 2*Wt()-o.renderingStartTime>Lc&&n!==1073741824&&(e.flags|=128,r=!0,ed(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Wt(),e.sibling=null,n=St.current,dt(St,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return _b(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dr&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function bB(t,e){switch(ZE(e),e.tag){case 1:return Tr(e.type)&&$m(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dc(),yt(br),yt(Kn),lb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ab(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return Dc(),null;case 10:return rb(e.type._context),null;case 22:case 23:return _b(),null;case 24:return null;default:return null}}var Ip=!1,Hn=!1,TB=typeof WeakSet=="function"?WeakSet:Set,oe=null;function cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function nw(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var tP=!1;function IB(t,e){if($0=Mm,t=Uk(),XE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(U0={focusedElem:t,selectionRange:n},Mm=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,E=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ii(e.type,_),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(S){Lt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=tP,tP=!1,g}function Bd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&nw(e,n,o)}i=i.next}while(i!==r)}}function Gg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LO(t){var e=t.alternate;e!==null&&(t.alternate=null,LO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[vh],delete e[z0],delete e[sB],delete e[aB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VO(t){return t.tag===5||t.tag===3||t.tag===4}function nP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fm));else if(r!==4&&(t=t.child,t!==null))for(iw(t,e,n),t=t.sibling;t!==null;)iw(t,e,n),t=t.sibling}function ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ow(t,e,n),t=t.sibling;t!==null;)ow(t,e,n),t=t.sibling}var kn=null,Si=!1;function ns(t,e,n){for(n=n.child;n!==null;)FO(t,e,n),n=n.sibling}function FO(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount($g,n)}catch{}switch(n.tag){case 5:Hn||cc(n,e);case 6:var r=kn,i=Si;kn=null,ns(t,e,n),kn=r,Si=i,kn!==null&&(Si?(t=kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(Si?(t=kn,n=n.stateNode,t.nodeType===8?g_(t.parentNode,n):t.nodeType===1&&g_(t,n),fh(t)):g_(kn,n.stateNode));break;case 4:r=kn,i=Si,kn=n.stateNode.containerInfo,Si=!0,ns(t,e,n),kn=r,Si=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&nw(n,e,s),i=i.next}while(i!==r)}ns(t,e,n);break;case 1:if(!Hn&&(cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lt(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,ns(t,e,n),Hn=r):ns(t,e,n);break;default:ns(t,e,n)}}function rP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TB),e.forEach(function(r){var i=NB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:kn=a.stateNode,Si=!1;break e;case 3:kn=a.stateNode.containerInfo,Si=!0;break e;case 4:kn=a.stateNode.containerInfo,Si=!0;break e}a=a.return}if(kn===null)throw Error(Y(160));FO(o,s,i),kn=null,Si=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$O(e,t),e=e.sibling}function $O(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bi(e,t),Ui(t),r&4){try{Bd(3,t,t.return),Gg(3,t)}catch(_){Lt(t,t.return,_)}try{Bd(5,t,t.return)}catch(_){Lt(t,t.return,_)}}break;case 1:bi(e,t),Ui(t),r&512&&n!==null&&cc(n,n.return);break;case 5:if(bi(e,t),Ui(t),r&512&&n!==null&&cc(n,n.return),t.flags&32){var i=t.stateNode;try{ch(i,"")}catch(_){Lt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ak(i,o),A0(a,s);var c=A0(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?hk(i,h):d==="dangerouslySetInnerHTML"?uk(i,h):d==="children"?ch(i,h):FE(i,d,h,c)}switch(a){case"input":I0(i,o);break;case"textarea":lk(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fc(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?fc(i,!!o.multiple,o.defaultValue,!0):fc(i,!!o.multiple,o.multiple?[]:"",!1))}i[vh]=o}catch(_){Lt(t,t.return,_)}}break;case 6:if(bi(e,t),Ui(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Lt(t,t.return,_)}}break;case 3:if(bi(e,t),Ui(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fh(e.containerInfo)}catch(_){Lt(t,t.return,_)}break;case 4:bi(e,t),Ui(t);break;case 13:bi(e,t),Ui(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yb=Wt())),r&4&&rP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||d,bi(e,t),Hn=c):bi(e,t),Ui(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(h=oe=d;oe!==null;){switch(f=oe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bd(4,f,f.return);break;case 1:cc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Lt(r,n,_)}}break;case 5:cc(f,f.return);break;case 22:if(f.memoizedState!==null){oP(h);continue}}p!==null?(p.return=f,oe=p):oP(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dk("display",s))}catch(_){Lt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Lt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bi(e,t),Ui(t),r&4&&rP(t);break;case 21:break;default:bi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VO(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ch(i,""),r.flags&=-33);var o=nP(t);ow(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nP(t);iw(t,a,s);break;default:throw Error(Y(161))}}catch(l){Lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SB(t,e,n){oe=t,UO(t)}function UO(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ip;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=Ip;var c=Hn;if(Ip=s,(Hn=l)&&!c)for(oe=i;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?sP(i):l!==null?(l.return=s,oe=l):sP(i);for(;o!==null;)oe=o,UO(o),o=o.sibling;oe=i,Ip=a,Hn=c}iP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):iP(t)}}function iP(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||Gg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ii(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&BR(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BR(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&fh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Hn||e.flags&512&&rw(e)}catch(f){Lt(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function oP(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function sP(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gg(4,e)}catch(l){Lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Lt(e,i,l)}}var o=e.return;try{rw(e)}catch(l){Lt(e,o,l)}break;case 5:var s=e.return;try{rw(e)}catch(l){Lt(e,s,l)}}}catch(l){Lt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var RB=Math.ceil,Qm=jo.ReactCurrentDispatcher,mb=jo.ReactCurrentOwner,li=jo.ReactCurrentBatchConfig,Ge=0,mn=null,tn=null,Ln=0,Dr=0,uc=Hs(0),ln=0,Ih=null,qa=0,Kg=0,gb=0,zd=null,yr=null,yb=0,Lc=1/0,yo=null,Ym=!1,sw=null,Ps=null,Sp=!1,ys=null,Xm=0,qd=0,aw=null,im=-1,om=0;function or(){return Ge&6?Wt():im!==-1?im:im=Wt()}function xs(t){return t.mode&1?Ge&2&&Ln!==0?Ln&-Ln:cB.transition!==null?(om===0&&(om=Ik()),om):(t=rt,t!==0||(t=window.event,t=t===void 0?16:kk(t.type)),t):1}function ki(t,e,n,r){if(50<qd)throw qd=0,aw=null,Error(Y(185));af(t,n,r),(!(Ge&2)||t!==mn)&&(t===mn&&(!(Ge&2)&&(Kg|=n),ln===4&&fs(t,Ln)),Ir(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Lc=Wt()+500,qg&&Gs()))}function Ir(t,e){var n=t.callbackNode;cj(t,e);var r=Dm(t,t===mn?Ln:0);if(r===0)n!==null&&mR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mR(n),e===1)t.tag===0?lB(aP.bind(null,t)):Yk(aP.bind(null,t)),iB(function(){!(Ge&6)&&Gs()}),n=null;else{switch(Sk(r)){case 1:n=zE;break;case 4:n=bk;break;case 16:n=Nm;break;case 536870912:n=Tk;break;default:n=Nm}n=KO(n,jO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jO(t,e){if(im=-1,om=0,Ge&6)throw Error(Y(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=Dm(t,t===mn?Ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jm(t,r);else{e=r;var i=Ge;Ge|=2;var o=zO();(mn!==t||Ln!==e)&&(yo=null,Lc=Wt()+500,Oa(t,e));do try{AB();break}catch(a){BO(t,a)}while(!0);nb(),Qm.current=o,Ge=i,tn!==null?e=0:(mn=null,Ln=0,e=ln)}if(e!==0){if(e===2&&(i=D0(t),i!==0&&(r=i,e=lw(t,i))),e===1)throw n=Ih,Oa(t,0),fs(t,r),Ir(t,Wt()),n;if(e===6)fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!PB(i)&&(e=Jm(t,r),e===2&&(o=D0(t),o!==0&&(r=o,e=lw(t,o))),e===1))throw n=Ih,Oa(t,0),fs(t,r),Ir(t,Wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ha(t,yr,yo);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=yb+500-Wt(),10<e)){if(Dm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=B0(ha.bind(null,t,yr,yo),e);break}ha(t,yr,yo);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ci(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RB(r/1960))-r,10<r){t.timeoutHandle=B0(ha.bind(null,t,yr,yo),r);break}ha(t,yr,yo);break;case 5:ha(t,yr,yo);break;default:throw Error(Y(329))}}}return Ir(t,Wt()),t.callbackNode===n?jO.bind(null,t):null}function lw(t,e){var n=zd;return t.current.memoizedState.isDehydrated&&(Oa(t,e).flags|=256),t=Jm(t,e),t!==2&&(e=yr,yr=n,e!==null&&cw(e)),t}function cw(t){yr===null?yr=t:yr.push.apply(yr,t)}function PB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Oi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~gb,e&=~Kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ci(e),r=1<<n;t[n]=-1,e&=~r}}function aP(t){if(Ge&6)throw Error(Y(327));vc();var e=Dm(t,0);if(!(e&1))return Ir(t,Wt()),null;var n=Jm(t,e);if(t.tag!==0&&n===2){var r=D0(t);r!==0&&(e=r,n=lw(t,r))}if(n===1)throw n=Ih,Oa(t,0),fs(t,e),Ir(t,Wt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,yr,yo),Ir(t,Wt()),null}function vb(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Lc=Wt()+500,qg&&Gs())}}function Wa(t){ys!==null&&ys.tag===0&&!(Ge&6)&&vc();var e=Ge;Ge|=1;var n=li.transition,r=rt;try{if(li.transition=null,rt=1,t)return t()}finally{rt=r,li.transition=n,Ge=e,!(Ge&6)&&Gs()}}function _b(){Dr=uc.current,yt(uc)}function Oa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rB(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(ZE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$m();break;case 3:Dc(),yt(br),yt(Kn),lb();break;case 5:ab(r);break;case 4:Dc();break;case 13:yt(St);break;case 19:yt(St);break;case 10:rb(r.type._context);break;case 22:case 23:_b()}n=n.return}if(mn=t,tn=t=As(t.current,null),Ln=Dr=e,ln=0,Ih=null,gb=Kg=qa=0,yr=zd=null,Ta!==null){for(e=0;e<Ta.length;e++)if(n=Ta[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ta=null}return t}function BO(t,e){do{var n=tn;try{if(nb(),tm.current=Km,Gm){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gm=!1}if(za=0,fn=an=Rt=null,jd=!1,Eh=0,mb.current=null,n===null||n.return===null){ln=1,Ih=e,tn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=KR(s);if(p!==null){p.flags&=-257,QR(p,s,a,o,e),p.mode&1&&GR(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){GR(o,c,e),wb();break e}l=Error(Y(426))}}else if(Et&&a.mode&1){var E=KR(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),QR(E,s,a,o,e),eb(Mc(l,a));break e}}o=l=Mc(l,a),ln!==4&&(ln=2),zd===null?zd=[o]:zd.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=SO(o,l,e);jR(o,v);break e;case 1:a=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ps===null||!Ps.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=RO(o,a,e);jR(o,S);break e}}o=o.return}while(o!==null)}WO(n)}catch(k){e=k,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function zO(){var t=Qm.current;return Qm.current=Km,t===null?Km:t}function wb(){(ln===0||ln===3||ln===2)&&(ln=4),mn===null||!(qa&268435455)&&!(Kg&268435455)||fs(mn,Ln)}function Jm(t,e){var n=Ge;Ge|=2;var r=zO();(mn!==t||Ln!==e)&&(yo=null,Oa(t,e));do try{xB();break}catch(i){BO(t,i)}while(!0);if(nb(),Ge=n,Qm.current=r,tn!==null)throw Error(Y(261));return mn=null,Ln=0,ln}function xB(){for(;tn!==null;)qO(tn)}function AB(){for(;tn!==null&&!ej();)qO(tn)}function qO(t){var e=GO(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?WO(t):tn=e,mb.current=null}function WO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bB(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,tn=null;return}}else if(n=EB(n,e,Dr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);ln===0&&(ln=5)}function ha(t,e,n){var r=rt,i=li.transition;try{li.transition=null,rt=1,CB(t,e,n,r)}finally{li.transition=i,rt=r}return null}function CB(t,e,n,r){do vc();while(ys!==null);if(Ge&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uj(t,o),t===mn&&(tn=mn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sp||(Sp=!0,KO(Nm,function(){return vc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=li.transition,li.transition=null;var s=rt;rt=1;var a=Ge;Ge|=4,mb.current=null,IB(t,n),$O(n,t),Yj(U0),Mm=!!$0,U0=$0=null,t.current=n,SB(n),tj(),Ge=a,rt=s,li.transition=o}else t.current=n;if(Sp&&(Sp=!1,ys=t,Xm=i),o=t.pendingLanes,o===0&&(Ps=null),ij(n.stateNode),Ir(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ym)throw Ym=!1,t=sw,sw=null,t;return Xm&1&&t.tag!==0&&vc(),o=t.pendingLanes,o&1?t===aw?qd++:(qd=0,aw=t):qd=0,Gs(),null}function vc(){if(ys!==null){var t=Sk(Xm),e=li.transition,n=rt;try{if(li.transition=null,rt=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,Xm=0,Ge&6)throw Error(Y(331));var i=Ge;for(Ge|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Bd(8,d,o)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var f=d.sibling,p=d.return;if(LO(d),d===c){oe=null;break}if(f!==null){f.return=p,oe=f;break}oe=p}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bd(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,oe=v;break e}oe=o.return}}var y=t.current;for(oe=y;oe!==null;){s=oe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,oe=w;else e:for(s=y;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gg(9,a)}}catch(k){Lt(a,a.return,k)}if(a===s){oe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,oe=S;break e}oe=a.return}}if(Ge=i,Gs(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot($g,t)}catch{}r=!0}return r}finally{rt=n,li.transition=e}}return!1}function lP(t,e,n){e=Mc(n,e),e=SO(t,e,1),t=Rs(t,e,1),e=or(),t!==null&&(af(t,1,e),Ir(t,e))}function Lt(t,e,n){if(t.tag===3)lP(t,t,n);else for(;e!==null;){if(e.tag===3){lP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=Mc(n,t),t=RO(e,t,1),e=Rs(e,t,1),t=or(),e!==null&&(af(e,1,t),Ir(e,t));break}}e=e.return}}function kB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(Ln&n)===n&&(ln===4||ln===3&&(Ln&130023424)===Ln&&500>Wt()-yb?Oa(t,0):gb|=n),Ir(t,e)}function HO(t,e){e===0&&(t.mode&1?(e=mp,mp<<=1,!(mp&130023424)&&(mp=4194304)):e=1);var n=or();t=Oo(t,e),t!==null&&(af(t,e,n),Ir(t,n))}function OB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HO(t,n)}function NB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),HO(t,n)}var GO;GO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vr=!1,wB(t,e,n);vr=!!(t.flags&131072)}else vr=!1,Et&&e.flags&1048576&&Xk(e,Bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rm(t,e),t=e.pendingProps;var i=kc(e,Kn.current);yc(e,n),i=ub(null,e,r,t,i,n);var o=db();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tr(r)?(o=!0,Um(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ob(e),i.updater=Hg,e.stateNode=i,i._reactInternals=e,Q0(e,r,t,n),e=J0(null,e,r,!0,o,n)):(e.tag=0,Et&&o&&JE(e),tr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MB(r),t=Ii(r,t),i){case 0:e=X0(null,e,r,t,n);break e;case 1:e=JR(null,e,r,t,n);break e;case 11:e=YR(null,e,r,t,n);break e;case 14:e=XR(null,e,r,Ii(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ii(r,i),X0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ii(r,i),JR(t,e,r,i,n);case 3:e:{if(CO(e),t===null)throw Error(Y(387));r=e.pendingProps,o=e.memoizedState,i=o.element,rO(t,e),Wm(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Mc(Error(Y(423)),e),e=ZR(t,e,r,n,i);break e}else if(r!==i){i=Mc(Error(Y(424)),e),e=ZR(t,e,r,n,i);break e}else for($r=Ss(e.stateNode.containerInfo.firstChild),jr=e,Et=!0,Ri=null,n=tO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){e=No(t,e,n);break e}tr(t,e,r,n)}e=e.child}return e;case 5:return iO(e),t===null&&H0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,j0(r,i)?s=null:o!==null&&j0(r,o)&&(e.flags|=32),AO(t,e),tr(t,e,s,n),e.child;case 6:return t===null&&H0(e),null;case 13:return kO(t,e,n);case 4:return sb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nc(e,null,r,n):tr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ii(r,i),YR(t,e,r,i,n);case 7:return tr(t,e,e.pendingProps,n),e.child;case 8:return tr(t,e,e.pendingProps.children,n),e.child;case 12:return tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dt(zm,r._currentValue),r._currentValue=s,o!==null)if(Oi(o.value,s)){if(o.children===i.children&&!br.current){e=No(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Po(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),G0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Y(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),G0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}tr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yc(e,n),i=hi(i),r=r(i),e.flags|=1,tr(t,e,r,n),e.child;case 14:return r=e.type,i=Ii(r,e.pendingProps),i=Ii(r.type,i),XR(t,e,r,i,n);case 15:return PO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ii(r,i),rm(t,e),e.tag=1,Tr(r)?(t=!0,Um(e)):t=!1,yc(e,n),IO(e,r,i),Q0(e,r,i,n),J0(null,e,r,!0,t,n);case 19:return OO(t,e,n);case 22:return xO(t,e,n)}throw Error(Y(156,e.tag))};function KO(t,e){return Ek(t,e)}function DB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,e,n,r){return new DB(t,e,n,r)}function Eb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MB(t){if(typeof t=="function")return Eb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UE)return 11;if(t===jE)return 14}return 2}function As(t,e){var n=t.alternate;return n===null?(n=oi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Eb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ec:return Na(n.children,i,o,e);case $E:s=8,i|=8;break;case _0:return t=oi(12,n,e,i|2),t.elementType=_0,t.lanes=o,t;case w0:return t=oi(13,n,e,i),t.elementType=w0,t.lanes=o,t;case E0:return t=oi(19,n,e,i),t.elementType=E0,t.lanes=o,t;case ik:return Qg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nk:s=10;break e;case rk:s=9;break e;case UE:s=11;break e;case jE:s=14;break e;case us:s=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=oi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Na(t,e,n,r){return t=oi(7,t,r,e),t.lanes=n,t}function Qg(t,e,n,r){return t=oi(22,t,r,e),t.elementType=ik,t.lanes=n,t.stateNode={isHidden:!1},t}function I_(t,e,n){return t=oi(6,t,null,e),t.lanes=n,t}function S_(t,e,n){return e=oi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o_(0),this.expirationTimes=o_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bb(t,e,n,r,i,o,s,a,l){return t=new LB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=oi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ob(o),t}function VB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QO(t){if(!t)return Ns;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Tr(n))return Qk(t,n,e)}return e}function YO(t,e,n,r,i,o,s,a,l){return t=bb(n,r,!0,t,i,o,s,a,l),t.context=QO(null),n=t.current,r=or(),i=xs(n),o=Po(r,i),o.callback=e??null,Rs(n,o,i),t.current.lanes=i,af(t,i,r),Ir(t,r),t}function Yg(t,e,n,r){var i=e.current,o=or(),s=xs(i);return n=QO(n),e.context===null?e.context=n:e.pendingContext=n,e=Po(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rs(i,e,s),t!==null&&(ki(t,i,s,o),em(t,i,s)),s}function Zm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tb(t,e){cP(t,e),(t=t.alternate)&&cP(t,e)}function FB(){return null}var XO=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ib(t){this._internalRoot=t}Xg.prototype.render=Ib.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Yg(t,e,null,null)};Xg.prototype.unmount=Ib.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wa(function(){Yg(null,t,null,null)}),e[ko]=null}};function Xg(t){this._internalRoot=t}Xg.prototype.unstable_scheduleHydration=function(t){if(t){var e=xk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&Ck(t)}};function Sb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uP(){}function $B(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Zm(s);o.call(c)}}var s=YO(e,r,t,0,null,!1,!1,"",uP);return t._reactRootContainer=s,t[ko]=s.current,gh(t.nodeType===8?t.parentNode:t),Wa(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Zm(l);a.call(c)}}var l=bb(t,0,!1,null,null,!1,!1,"",uP);return t._reactRootContainer=l,t[ko]=l.current,gh(t.nodeType===8?t.parentNode:t),Wa(function(){Yg(e,l,n,r)}),l}function Zg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Zm(s);a.call(l)}}Yg(e,s,t,i)}else s=$B(n,e,t,i,r);return Zm(s)}Rk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sd(e.pendingLanes);n!==0&&(qE(e,n|1),Ir(e,Wt()),!(Ge&6)&&(Lc=Wt()+500,Gs()))}break;case 13:Wa(function(){var r=Oo(t,1);if(r!==null){var i=or();ki(r,t,1,i)}}),Tb(t,1)}};WE=function(t){if(t.tag===13){var e=Oo(t,134217728);if(e!==null){var n=or();ki(e,t,134217728,n)}Tb(t,134217728)}};Pk=function(t){if(t.tag===13){var e=xs(t),n=Oo(t,e);if(n!==null){var r=or();ki(n,t,e,r)}Tb(t,e)}};xk=function(){return rt};Ak=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};k0=function(t,e,n){switch(e){case"input":if(I0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zg(r);if(!i)throw Error(Y(90));sk(r),I0(r,i)}}}break;case"textarea":lk(t,n);break;case"select":e=n.value,e!=null&&fc(t,!!n.multiple,e,!1)}};mk=vb;gk=Wa;var UB={usingClientEntryPoint:!1,Events:[cf,ic,zg,fk,pk,vb]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jB={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_k(t),t===null?null:t.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||FB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{$g=Rp.inject(jB),Zi=Rp}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UB;Kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sb(e))throw Error(Y(200));return VB(t,e,null,n)};Kr.createRoot=function(t,e){if(!Sb(t))throw Error(Y(299));var n=!1,r="",i=XO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bb(t,1,!1,null,null,n,!1,r,i),t[ko]=e.current,gh(t.nodeType===8?t.parentNode:t),new Ib(e)};Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=_k(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t){return Wa(t)};Kr.hydrate=function(t,e,n){if(!Jg(e))throw Error(Y(200));return Zg(null,t,e,!0,n)};Kr.hydrateRoot=function(t,e,n){if(!Sb(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=XO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=YO(e,null,t,1,n??null,i,!1,o,s),t[ko]=e.current,gh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xg(e)};Kr.render=function(t,e,n){if(!Jg(e))throw Error(Y(200));return Zg(null,t,e,!1,n)};Kr.unmountComponentAtNode=function(t){if(!Jg(t))throw Error(Y(40));return t._reactRootContainer?(Wa(function(){Zg(null,null,t,!1,function(){t._reactRootContainer=null,t[ko]=null})}),!0):!1};Kr.unstable_batchedUpdates=vb;Kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jg(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Zg(t,e,n,!1,r)};Kr.version="18.3.1-next-f1338f8080-20240426";function JO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JO)}catch(t){console.error(t)}}JO(),JC.exports=Kr;var Rb=JC.exports;const Pp=uu(Rb);var dP=Rb;y0.createRoot=dP.createRoot,y0.hydrateRoot=dP.hydrateRoot;var ZO={exports:{}},eN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=P;function BB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zB=typeof Object.is=="function"?Object.is:BB,qB=df.useSyncExternalStore,WB=df.useRef,HB=df.useEffect,GB=df.useMemo,KB=df.useDebugValue;eN.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=WB(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=GB(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,zB(d,p))return g;var _=r(p);return i!==void 0&&i(g,_)?g:(d=p,h=_)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=qB(t,o[0],o[1]);return HB(function(){s.hasValue=!0,s.value=a},[a]),KB(a),a};ZO.exports=eN;var QB=ZO.exports,Be="default"in Ac?xi:Ac,hP=Symbol.for("react-redux-context"),fP=typeof globalThis<"u"?globalThis:{};function YB(){if(!Be.createContext)return{};const t=fP[hP]??(fP[hP]=new Map);let e=t.get(Be.createContext);return e||(e=Be.createContext(null),t.set(Be.createContext,e)),e}var Do=YB(),tN=()=>{throw new Error("uSES not initialized!")};function Pb(t=Do){return function(){return Be.useContext(t)}}var nN=Pb(),rN=tN,XB=t=>{rN=t},JB=(t,e)=>t===e;function ZB(t=Do){const e=t===Do?nN:Pb(t),n=(r,i={})=>{const{equalityFn:o=JB,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:h}=e();Be.useRef(!0);const f=Be.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,s.stabilityCheck]),p=rN(l.addNestedSub,a.getState,c||a.getState,f,o);return Be.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var He=ZB(),e4=Symbol.for("react.element"),t4=Symbol.for("react.portal"),n4=Symbol.for("react.fragment"),r4=Symbol.for("react.strict_mode"),i4=Symbol.for("react.profiler"),o4=Symbol.for("react.provider"),s4=Symbol.for("react.context"),a4=Symbol.for("react.server_context"),iN=Symbol.for("react.forward_ref"),l4=Symbol.for("react.suspense"),c4=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),u4=Symbol.for("react.lazy"),d4=iN,h4=xb;function f4(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case e4:{const n=t.type;switch(n){case n4:case i4:case r4:case l4:case c4:return n;default:{const r=n&&n.$$typeof;switch(r){case a4:case s4:case iN:case u4:case xb:case o4:return r;default:return e}}}}case t4:return e}}}function p4(t){return f4(t)===xb}function m4(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,d,h,f;function p(y,w){return l=y,c=w,d=t(l,c),h=e(r,c),f=n(d,h,c),a=!0,f}function g(){return d=t(l,c),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function _(){return t.dependsOnOwnProps&&(d=t(l,c)),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function E(){const y=t(l,c),w=!s(y,d);return d=y,w&&(f=n(d,h,c)),f}function v(y,w){const S=!o(w,c),k=!i(y,l,w,c);return l=y,c=w,S&&k?g():S?_():k?E():f}return function(w,S){return a?v(w,S):p(w,S)}}function g4(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=e(t,i),s=n(t,i),a=r(t,i);return m4(o,s,a,t,i)}function y4(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function uw(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function pP(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function oN(t,e){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=pP(t);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=pP(c),c=o(a,l)),c},o}}function Ab(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function v4(t){return t&&typeof t=="object"?uw(e=>y4(t,e)):t?typeof t=="function"?oN(t):Ab(t,"mapDispatchToProps"):uw(e=>({dispatch:e}))}function _4(t){return t?typeof t=="function"?oN(t):Ab(t,"mapStateToProps"):uw(()=>({}))}function w4(t,e,n){return{...n,...t,...e}}function E4(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,d){const h=t(l,c,d);return o?i(h,s)||(s=h):(o=!0,s=h),s}}}function b4(t){return t?typeof t=="function"?E4(t):Ab(t,"mergeProps"):()=>w4}function T4(t){t()}function I4(){let t=null,e=null;return{clear(){t=null,e=null},notify(){T4(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var mP={notify(){},get:()=>[]};function sN(t,e){let n,r=mP,i=0,o=!1;function s(_){d();const E=r.subscribe(_);let v=!1;return()=>{v||(v=!0,E(),h())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return o}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=I4())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mP)}function f(){o||(o=!0,d())}function p(){o&&(o=!1,h())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var S4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R4=typeof navigator<"u"&&navigator.product==="ReactNative",eg=S4||R4?Be.useLayoutEffect:Be.useEffect;function gP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function R_(t,e){if(gP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!gP(t[n[i]],e[n[i]]))return!1;return!0}var P4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},x4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},A4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C4={[d4]:A4,[h4]:aN};function yP(t){return p4(t)?aN:C4[t.$$typeof]||P4}var k4=Object.defineProperty,O4=Object.getOwnPropertyNames,vP=Object.getOwnPropertySymbols,N4=Object.getOwnPropertyDescriptor,D4=Object.getPrototypeOf,_P=Object.prototype;function dw(t,e){if(typeof e!="string"){if(_P){const o=D4(e);o&&o!==_P&&dw(t,o)}let n=O4(e);vP&&(n=n.concat(vP(e)));const r=yP(t),i=yP(e);for(let o=0;o<n.length;++o){const s=n[o];if(!x4[s]&&!(i&&i[s])&&!(r&&r[s])){const a=N4(e,s);try{k4(t,s,a)}catch{}}}}return t}var lN=tN,M4=t=>{lN=t},L4=[null,null];function V4(t,e,n){eg(()=>t(...e),n)}function F4(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function $4(t,e,n,r,i,o,s,a,l,c,d){if(!t)return()=>{};let h=!1,f=null;const p=()=>{if(h||!a.current)return;const _=e.getState();let E,v;try{E=r(_,i.current)}catch(y){v=y,f=y}v||(f=null),E===o.current?s.current||c():(o.current=E,l.current=E,s.current=!0,d())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function U4(t,e){return t===e}function j4(t,e,n,{pure:r,areStatesEqual:i=U4,areOwnPropsEqual:o=R_,areStatePropsEqual:s=R_,areMergedPropsEqual:a=R_,forwardRef:l=!1,context:c=Do}={}){const d=c,h=_4(t),f=v4(e),p=b4(n),g=!!t;return E=>{const v=E.displayName||E.name||"Component",y=`Connect(${v})`,w={shouldHandleStateChanges:g,displayName:y,wrappedComponentName:v,WrappedComponent:E,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function S(T){const[I,R,x]=Be.useMemo(()=>{const{reactReduxForwardedRef:Ee,...ge}=T;return[T.context,Ee,ge]},[T]),D=Be.useMemo(()=>{let Ee=d;return I!=null&&I.Consumer,Ee},[I,d]),L=Be.useContext(D),A=!!T.store&&!!T.store.getState&&!!T.store.dispatch,z=!!L&&!!L.store,q=A?T.store:L.store,W=z?L.getServerState:q.getState,Q=Be.useMemo(()=>g4(q.dispatch,w),[q]),[$,G]=Be.useMemo(()=>{if(!g)return L4;const Ee=sN(q,A?void 0:L.subscription),ge=Ee.notifyNestedSubs.bind(Ee);return[Ee,ge]},[q,A,L]),Z=Be.useMemo(()=>A?L:{...L,subscription:$},[A,L,$]),ye=Be.useRef(void 0),se=Be.useRef(x),ue=Be.useRef(void 0),de=Be.useRef(!1),ve=Be.useRef(!1),_e=Be.useRef(void 0);eg(()=>(ve.current=!0,()=>{ve.current=!1}),[]);const Ne=Be.useMemo(()=>()=>ue.current&&x===se.current?ue.current:Q(q.getState(),x),[q,x]),Fe=Be.useMemo(()=>ge=>$?$4(g,q,$,Q,se,ye,de,ve,ue,G,ge):()=>{},[$]);V4(F4,[se,ye,de,x,ue,G]);let Re;try{Re=lN(Fe,Ne,W?()=>Q(W(),x):Ne)}catch(Ee){throw _e.current&&(Ee.message+=`
The error may be correlated with this previous error:
${_e.current.stack}

`),Ee}eg(()=>{_e.current=void 0,ue.current=void 0,ye.current=Re});const tt=Be.useMemo(()=>Be.createElement(E,{...Re,ref:R}),[R,E,Re]);return Be.useMemo(()=>g?Be.createElement(D.Provider,{value:Z},tt):tt,[D,tt,Z])}const C=Be.memo(S);if(C.WrappedComponent=E,C.displayName=S.displayName=y,l){const I=Be.forwardRef(function(x,D){return Be.createElement(C,{...x,reactReduxForwardedRef:D})});return I.displayName=y,I.WrappedComponent=E,dw(I,E)}return dw(C,E)}}var B4=j4;function z4({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=Be.useMemo(()=>{const c=sN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[t,r,i,o]),a=Be.useMemo(()=>t.getState(),[t]);eg(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||Do;return Be.createElement(l.Provider,{value:s},n)}var q4=z4;function cN(t=Do){const e=t===Do?nN:Pb(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var W4=cN();function H4(t=Do){const e=t===Do?W4:cN(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Bo=H4();XB(QB.useSyncExternalStoreWithSelector);M4(P.useSyncExternalStore);function Ti(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var G4=typeof Symbol=="function"&&Symbol.observable||"@@observable",wP=G4,P_=()=>Math.random().toString(36).substring(7).split("").join("."),K4={INIT:`@@redux/INIT${P_()}`,REPLACE:`@@redux/REPLACE${P_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P_()}`},EP=K4;function Q4(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Y4(t,e,n){if(typeof t!="function")throw new Error(Ti(2));let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((E,v)=>{s.set(v,E)}))}function d(){if(l)throw new Error(Ti(3));return i}function h(E){if(typeof E!="function")throw new Error(Ti(4));if(l)throw new Error(Ti(5));let v=!0;c();const y=a++;return s.set(y,E),function(){if(v){if(l)throw new Error(Ti(6));v=!1,c(),s.delete(y),o=null}}}function f(E){if(!Q4(E))throw new Error(Ti(7));if(typeof E.type>"u")throw new Error(Ti(8));if(typeof E.type!="string")throw new Error(Ti(17));if(l)throw new Error(Ti(9));try{l=!0,i=r(i,E)}finally{l=!1}return(o=s).forEach(y=>{y()}),E}function p(E){if(typeof E!="function")throw new Error(Ti(10));r=E,f({type:EP.REPLACE})}function g(){const E=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ti(11));function y(){const S=v;S.next&&S.next(d())}return y(),{unsubscribe:E(y)}},[wP](){return this}}}return f({type:EP.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[wP]:g}}/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}var vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vs||(vs={}));const bP="popstate";function X4(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return hw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dN(i)}return Z4(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J4(){return Math.random().toString(36).substr(2,8)}function TP(t,e){return{usr:t.state,key:t.key,idx:e}}function hw(t,e,n,r){return n===void 0&&(n=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pu(e):e,{state:n,key:e&&e.key||r||J4()})}function dN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=vs.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Sh({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=vs.Pop;let E=d(),v=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:v})}function f(E,v){a=vs.Push;let y=hw(_.location,E,v);c=d()+1;let w=TP(y,c),S=_.createHref(y);try{s.pushState(w,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}o&&l&&l({action:a,location:_.location,delta:1})}function p(E,v){a=vs.Replace;let y=hw(_.location,E,v);c=d();let w=TP(y,c),S=_.createHref(y);s.replaceState(w,"",S),o&&l&&l({action:a,location:_.location,delta:0})}function g(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:dN(E);return y=y.replace(/ $/,"%20"),cn(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bP,h),l=E,()=>{i.removeEventListener(bP,h),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let v=g(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(E){return s.go(E)}};return _}var IP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IP||(IP={}));function ez(t,e,n){return n===void 0&&(n="/"),tz(t,e,n,!1)}function tz(t,e,n,r){let i=typeof e=="string"?pu(e):e,o=pN(i.pathname||"/",n);if(o==null)return null;let s=hN(t);nz(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=fz(o);a=dz(s[l],c,r)}return a}function hN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(cn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Da([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(cn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hN(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:cz(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of fN(o.path))i(o,s,l)}),e}function fN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=fN(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rz=/^:[\w-]+$/,iz=3,oz=2,sz=1,az=10,lz=-2,SP=t=>t==="*";function cz(t,e){let n=t.split("/"),r=n.length;return n.some(SP)&&(r+=lz),e&&(r+=oz),n.filter(i=>!SP(i)).reduce((i,o)=>i+(rz.test(o)?iz:o===""?sz:az),r)}function uz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dz(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=RP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=RP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Da([o,h.pathname]),pathnameBase:_z(Da([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Da([o,h.pathnameBase]))}return s}function RP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function hz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pu(t):t;return{pathname:n?n.startsWith("/")?n:mz(n,e):e,search:wz(r),hash:Ez(i)}}function mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yz(t,e){let n=gz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vz(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pu(t):(i=Sh({},t),cn(!i.pathname||!i.pathname.includes("?"),x_("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),x_("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),x_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=pz(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Da=t=>t.join("/").replace(/\/\/+/g,"/"),_z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ez=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mN=["post","put","patch","delete"];new Set(mN);const Tz=["get",...mN];new Set(Tz);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}const Cb=P.createContext(null),Iz=P.createContext(null),ey=P.createContext(null),ty=P.createContext(null),mu=P.createContext({outlet:null,matches:[],isDataRoute:!1}),gN=P.createContext(null);function ny(){return P.useContext(ty)!=null}function yN(){return ny()||cn(!1),P.useContext(ty).location}function vN(t){P.useContext(ey).static||P.useLayoutEffect(t)}function Sz(){let{isDataRoute:t}=P.useContext(mu);return t?Fz():Rz()}function Rz(){ny()||cn(!1);let t=P.useContext(Cb),{basename:e,future:n,navigator:r}=P.useContext(ey),{matches:i}=P.useContext(mu),{pathname:o}=yN(),s=JSON.stringify(yz(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return vN(()=>{a.current=!0}),P.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=vz(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Da([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}function Pz(t,e){return xz(t,e)}function xz(t,e,n,r){ny()||cn(!1);let{navigator:i}=P.useContext(ey),{matches:o}=P.useContext(mu),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=yN(),d;if(e){var h;let E=typeof e=="string"?pu(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||cn(!1),d=E}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=ez(t,{pathname:p}),_=Nz(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Da([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Da([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&_?P.createElement(ty.Provider,{value:{location:Rh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vs.Pop}},_):_}function Az(){let t=Vz(),e=bz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const Cz=P.createElement(Az,null);class kz extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(mu.Provider,{value:this.props.routeContext},P.createElement(gN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oz(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Cb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(mu.Provider,{value:e},r)}function Nz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||cn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,g=!1,_=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||Cz,l&&(c<0&&f===0?(g=!0,E=null):c===f&&(g=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),y=()=>{let w;return p?w=_:g?w=E:h.route.Component?w=P.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,P.createElement(Oz,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(kz,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var _N=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_N||{}),tg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tg||{});function Dz(t){let e=P.useContext(Cb);return e||cn(!1),e}function Mz(t){let e=P.useContext(Iz);return e||cn(!1),e}function Lz(t){let e=P.useContext(mu);return e||cn(!1),e}function wN(t){let e=Lz(),n=e.matches[e.matches.length-1];return n.route.id||cn(!1),n.route.id}function Vz(){var t;let e=P.useContext(gN),n=Mz(tg.UseRouteError),r=wN(tg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Fz(){let{router:t}=Dz(_N.UseNavigateStable),e=wN(tg.UseNavigateStable),n=P.useRef(!1);return vN(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rh({fromRouteId:e},o)))},[t,e])}function fw(t){cn(!1)}function $z(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vs.Pop,navigator:o,static:s=!1,future:a}=t;ny()&&cn(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:o,static:s,future:Rh({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=pu(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,_=P.useMemo(()=>{let E=pN(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return _==null?null:P.createElement(ey.Provider,{value:c},P.createElement(ty.Provider,{children:n,value:_}))}function Uz(t){let{children:e,location:n}=t;return Pz(pw(e),n)}new Promise(()=>{});function pw(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let o=[...e,i];if(r.type===P.Fragment){n.push.apply(n,pw(r.props.children,o));return}r.type!==fw&&cn(!1),!r.props.index||!r.props.children||cn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pw(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const jz="6";try{window.__reactRouterVersion=jz}catch{}const Bz="startTransition",PP=Ac[Bz];function zz(t){let{basename:e,children:n,future:r,window:i}=t,o=P.useRef();o.current==null&&(o.current=X4({window:i,v5Compat:!0}));let s=o.current,[a,l]=P.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=P.useCallback(h=>{c&&PP?PP(()=>l(h)):l(h)},[l,c]);return P.useLayoutEffect(()=>s.listen(d),[s,d]),P.createElement($z,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var xP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xP||(xP={}));var AP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AP||(AP={}));const qz={isMobile:!1,theme:{black:"#000",white:"#FFF",grey:"#878787",primary:"#ab47bc",secondary:"#ce93d8",tertiary:"#f3e5f5"},auth:{isAuthenticated:!1,token:null,user:null},previousUser:null,activeScreen:null,searchQuery:"",searchCriterion:{playlists:[],artists:[],users:[]},allowShortPlaylists:!1,searchUsers:!1,songStep:"video",activeSongNumer:0,songSet:{source:null,sourceId:null,tracks:[]},isPlaying:!0},Wz=(t=qz,e)=>{switch(e.type){case"SET_MOBILE":return{...t,isMobile:e.payload};case"SET_AUTH":return{...t,auth:{...t.auth,isAuthenticated:e.payload.isAuthenticated,token:e.payload.token,user:e.payload.user}};case"SET_PREVIOUS_USER":return{...t,previousUser:e.payload};case"SET_SONG_STEP":return{...t,songStep:e.payload};case"SET_SONG_NUMBER":return{...t,activeSongNumer:e.payload};case"SET_ACTIVE_SCREEN":return{...t,activeScreen:e.payload};case"SET_PLAY_PAUSE":return{...t,isPlaying:e.payload};case"SET_SEARCH_CRITERION":const{key:n,value:r}=e.payload;return{...t,searchCriterion:{...t.searchCriterion,[n]:r}};case"SET_SONG_SET":const{songSetKey:i,songSetValue:o}=e.payload;return{...t,songSet:{...t.songSet,[i]:o}};case"SET_ALLOW_SHORT_PLAYLISTS":return{...t,allowShortPlaylists:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"SET_SEARCH_USERS":return{...t,searchUsers:e.payload};default:return t}},Ph={black:"#000",white:"#fff"},Ol={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Nl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Dl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ml={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ll={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nd={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Hz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ha(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Gz=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"})),ry="$$material";function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N.apply(null,arguments)}function ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function EN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Kz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Qz=EN(function(t){return Kz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Yz=!1;function Xz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Jz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Zz=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Yz:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Jz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Xz(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Wn="-ms-",ng="-moz-",Je="-webkit-",bN="comm",kb="rule",Ob="decl",e5="@import",TN="@keyframes",t5="@layer",n5=Math.abs,iy=String.fromCharCode,r5=Object.assign;function i5(t,e){return Nn(t,0)^45?(((e<<2^Nn(t,0))<<2^Nn(t,1))<<2^Nn(t,2))<<2^Nn(t,3):0}function IN(t){return t.trim()}function o5(t,e){return(t=e.exec(t))?t[0]:t}function Ze(t,e,n){return t.replace(e,n)}function mw(t,e){return t.indexOf(e)}function Nn(t,e){return t.charCodeAt(e)|0}function xh(t,e,n){return t.slice(e,n)}function Bi(t){return t.length}function Nb(t){return t.length}function xp(t,e){return e.push(t),t}function s5(t,e){return t.map(e).join("")}var oy=1,Vc=1,SN=0,Cr=0,en=0,gu="";function sy(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:oy,column:Vc,length:s,return:""}}function rd(t,e){return r5(sy("",null,null,"",null,null,0),t,{length:-t.length},e)}function a5(){return en}function l5(){return en=Cr>0?Nn(gu,--Cr):0,Vc--,en===10&&(Vc=1,oy--),en}function Br(){return en=Cr<SN?Nn(gu,Cr++):0,Vc++,en===10&&(Vc=1,oy++),en}function to(){return Nn(gu,Cr)}function am(){return Cr}function hf(t,e){return xh(gu,t,e)}function Ah(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RN(t){return oy=Vc=1,SN=Bi(gu=t),Cr=0,[]}function PN(t){return gu="",t}function lm(t){return IN(hf(Cr-1,gw(t===91?t+2:t===40?t+1:t)))}function c5(t){for(;(en=to())&&en<33;)Br();return Ah(t)>2||Ah(en)>3?"":" "}function u5(t,e){for(;--e&&Br()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return hf(t,am()+(e<6&&to()==32&&Br()==32))}function gw(t){for(;Br();)switch(en){case t:return Cr;case 34:case 39:t!==34&&t!==39&&gw(en);break;case 40:t===41&&gw(t);break;case 92:Br();break}return Cr}function d5(t,e){for(;Br()&&t+en!==57;)if(t+en===84&&to()===47)break;return"/*"+hf(e,Cr-1)+"*"+iy(t===47?t:Br())}function h5(t){for(;!Ah(to());)Br();return hf(t,Cr)}function f5(t){return PN(cm("",null,null,null,[""],t=RN(t),0,[0],t))}function cm(t,e,n,r,i,o,s,a,l){for(var c=0,d=0,h=s,f=0,p=0,g=0,_=1,E=1,v=1,y=0,w="",S=i,k=o,C=r,T=w;E;)switch(g=y,y=Br()){case 40:if(g!=108&&Nn(T,h-1)==58){mw(T+=Ze(lm(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=lm(y);break;case 9:case 10:case 13:case 32:T+=c5(g);break;case 92:T+=u5(am()-1,7);continue;case 47:switch(to()){case 42:case 47:xp(p5(d5(Br(),am()),e,n),l);break;default:T+="/"}break;case 123*_:a[c++]=Bi(T)*v;case 125*_:case 59:case 0:switch(y){case 0:case 125:E=0;case 59+d:v==-1&&(T=Ze(T,/\f/g,"")),p>0&&Bi(T)-h&&xp(p>32?kP(T+";",r,n,h-1):kP(Ze(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(xp(C=CP(T,e,n,c,d,i,a,w,S=[],k=[],h),o),y===123)if(d===0)cm(T,e,C,C,S,o,h,a,k);else switch(f===99&&Nn(T,3)===110?100:f){case 100:case 108:case 109:case 115:cm(t,C,C,r&&xp(CP(t,C,C,0,0,i,a,w,i,S=[],h),k),i,k,h,a,r?S:k);break;default:cm(T,C,C,C,[""],k,0,a,k)}}c=d=p=0,_=v=1,w=T="",h=s;break;case 58:h=1+Bi(T),p=g;default:if(_<1){if(y==123)--_;else if(y==125&&_++==0&&l5()==125)continue}switch(T+=iy(y),y*_){case 38:v=d>0?1:(T+="\f",-1);break;case 44:a[c++]=(Bi(T)-1)*v,v=1;break;case 64:to()===45&&(T+=lm(Br())),f=to(),d=h=Bi(w=T+=h5(am())),y++;break;case 45:g===45&&Bi(T)==2&&(_=0)}}return o}function CP(t,e,n,r,i,o,s,a,l,c,d){for(var h=i-1,f=i===0?o:[""],p=Nb(f),g=0,_=0,E=0;g<r;++g)for(var v=0,y=xh(t,h+1,h=n5(_=s[g])),w=t;v<p;++v)(w=IN(_>0?f[v]+" "+y:Ze(y,/&\f/g,f[v])))&&(l[E++]=w);return sy(t,e,n,i===0?kb:a,l,c,d)}function p5(t,e,n){return sy(t,e,n,bN,iy(a5()),xh(t,2,-2),0)}function kP(t,e,n,r){return sy(t,e,n,Ob,xh(t,0,r),xh(t,r+1,-1),r)}function _c(t,e){for(var n="",r=Nb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function m5(t,e,n,r){switch(t.type){case t5:if(t.children.length)break;case e5:case Ob:return t.return=t.return||t.value;case bN:return"";case TN:return t.return=t.value+"{"+_c(t.children,r)+"}";case kb:t.value=t.props.join(",")}return Bi(n=_c(t.children,r))?t.return=t.value+"{"+n+"}":""}function g5(t){var e=Nb(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function y5(t){return function(e){e.root||(e=e.return)&&t(e)}}var v5=function(e,n,r){for(var i=0,o=0;i=o,o=to(),i===38&&o===12&&(n[r]=1),!Ah(o);)Br();return hf(e,Cr)},_5=function(e,n){var r=-1,i=44;do switch(Ah(i)){case 0:i===38&&to()===12&&(n[r]=1),e[r]+=v5(Cr-1,n,r);break;case 2:e[r]+=lm(i);break;case 4:if(i===44){e[++r]=to()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=iy(i)}while(i=Br());return e},w5=function(e,n){return PN(_5(RN(e),n))},OP=new WeakMap,E5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OP.get(r))&&!i){OP.set(e,!0);for(var o=[],s=w5(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},b5=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function xN(t,e){switch(i5(t,e)){case 5103:return Je+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+t+ng+t+Wn+t+t;case 6828:case 4268:return Je+t+Wn+t+t;case 6165:return Je+t+Wn+"flex-"+t+t;case 5187:return Je+t+Ze(t,/(\w+).+(:[^]+)/,Je+"box-$1$2"+Wn+"flex-$1$2")+t;case 5443:return Je+t+Wn+"flex-item-"+Ze(t,/flex-|-self/,"")+t;case 4675:return Je+t+Wn+"flex-line-pack"+Ze(t,/align-content|flex-|-self/,"")+t;case 5548:return Je+t+Wn+Ze(t,"shrink","negative")+t;case 5292:return Je+t+Wn+Ze(t,"basis","preferred-size")+t;case 6060:return Je+"box-"+Ze(t,"-grow","")+Je+t+Wn+Ze(t,"grow","positive")+t;case 4554:return Je+Ze(t,/([^-])(transform)/g,"$1"+Je+"$2")+t;case 6187:return Ze(Ze(Ze(t,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),t,"")+t;case 5495:case 3959:return Ze(t,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Ze(Ze(t,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+Wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+t+t;case 4095:case 3583:case 4068:case 2532:return Ze(t,/(.+)-inline(.+)/,Je+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bi(t)-1-e>6)switch(Nn(t,e+1)){case 109:if(Nn(t,e+4)!==45)break;case 102:return Ze(t,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+ng+(Nn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mw(t,"stretch")?xN(Ze(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nn(t,e+1)!==115)break;case 6444:switch(Nn(t,Bi(t)-3-(~mw(t,"!important")&&10))){case 107:return Ze(t,":",":"+Je)+t;case 101:return Ze(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Je+(Nn(t,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+Wn+"$2box$3")+t}break;case 5936:switch(Nn(t,e+11)){case 114:return Je+t+Wn+Ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Je+t+Wn+Ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Je+t+Wn+Ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Je+t+Wn+t+t}return t}var T5=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Ob:e.return=xN(e.value,e.length);break;case TN:return _c([rd(e,{value:Ze(e.value,"@","@"+Je)})],i);case kb:if(e.length)return s5(e.props,function(o){switch(o5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _c([rd(e,{props:[Ze(o,/:(read-\w+)/,":"+ng+"$1")]})],i);case"::placeholder":return _c([rd(e,{props:[Ze(o,/:(plac\w+)/,":"+Je+"input-$1")]}),rd(e,{props:[Ze(o,/:(plac\w+)/,":"+ng+"$1")]}),rd(e,{props:[Ze(o,/:(plac\w+)/,Wn+"input-$1")]})],i)}return""})}},I5=[T5],AN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var E=_.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||I5,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var E=_.getAttribute("data-emotion").split(" "),v=1;v<E.length;v++)o[E[v]]=!0;a.push(_)});var l,c=[E5,b5];{var d,h=[m5,y5(function(_){d.insert(_)})],f=g5(c.concat(i,h)),p=function(E){return _c(f5(E),f)};l=function(E,v,y,w){d=y,p(E?E+"{"+v.styles+"}":v.styles),w&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new Zz({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},CN={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=typeof Symbol=="function"&&Symbol.for,Db=En?Symbol.for("react.element"):60103,Mb=En?Symbol.for("react.portal"):60106,ay=En?Symbol.for("react.fragment"):60107,ly=En?Symbol.for("react.strict_mode"):60108,cy=En?Symbol.for("react.profiler"):60114,uy=En?Symbol.for("react.provider"):60109,dy=En?Symbol.for("react.context"):60110,Lb=En?Symbol.for("react.async_mode"):60111,hy=En?Symbol.for("react.concurrent_mode"):60111,fy=En?Symbol.for("react.forward_ref"):60112,py=En?Symbol.for("react.suspense"):60113,S5=En?Symbol.for("react.suspense_list"):60120,my=En?Symbol.for("react.memo"):60115,gy=En?Symbol.for("react.lazy"):60116,R5=En?Symbol.for("react.block"):60121,P5=En?Symbol.for("react.fundamental"):60117,x5=En?Symbol.for("react.responder"):60118,A5=En?Symbol.for("react.scope"):60119;function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Db:switch(t=t.type,t){case Lb:case hy:case ay:case cy:case ly:case py:return t;default:switch(t=t&&t.$$typeof,t){case dy:case fy:case gy:case my:case uy:return t;default:return e}}case Mb:return e}}}function kN(t){return Yr(t)===hy}it.AsyncMode=Lb;it.ConcurrentMode=hy;it.ContextConsumer=dy;it.ContextProvider=uy;it.Element=Db;it.ForwardRef=fy;it.Fragment=ay;it.Lazy=gy;it.Memo=my;it.Portal=Mb;it.Profiler=cy;it.StrictMode=ly;it.Suspense=py;it.isAsyncMode=function(t){return kN(t)||Yr(t)===Lb};it.isConcurrentMode=kN;it.isContextConsumer=function(t){return Yr(t)===dy};it.isContextProvider=function(t){return Yr(t)===uy};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Db};it.isForwardRef=function(t){return Yr(t)===fy};it.isFragment=function(t){return Yr(t)===ay};it.isLazy=function(t){return Yr(t)===gy};it.isMemo=function(t){return Yr(t)===my};it.isPortal=function(t){return Yr(t)===Mb};it.isProfiler=function(t){return Yr(t)===cy};it.isStrictMode=function(t){return Yr(t)===ly};it.isSuspense=function(t){return Yr(t)===py};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ay||t===hy||t===cy||t===ly||t===py||t===S5||typeof t=="object"&&t!==null&&(t.$$typeof===gy||t.$$typeof===my||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===fy||t.$$typeof===P5||t.$$typeof===x5||t.$$typeof===A5||t.$$typeof===R5)};it.typeOf=Yr;CN.exports=it;var C5=CN.exports,ON=C5,k5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NN={};NN[ON.ForwardRef]=k5;NN[ON.Memo]=O5;var N5=!0;function D5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var DN=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||N5===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MN=function(e,n,r){DN(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function M5(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var L5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V5=!1,F5=/[A-Z]|^ms/g,$5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LN=function(e){return e.charCodeAt(1)===45},NP=function(e){return e!=null&&typeof e!="boolean"},A_=EN(function(t){return LN(t)?t:t.replace(F5,"-$&").toLowerCase()}),DP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($5,function(r,i,o){return zi={name:i,styles:o,next:zi},i})}return L5[e]!==1&&!LN(e)&&typeof n=="number"&&n!==0?n+"px":n},U5="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ch(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return zi={name:i.name,styles:i.styles,next:zi},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)zi={name:s.name,styles:s.styles,next:zi},s=s.next;var a=o.styles+";";return a}return j5(t,e,n)}case"function":{if(t!==void 0){var l=zi,c=n(t);return zi=l,Ch(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function j5(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ch(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":NP(a)&&(r+=A_(o)+":"+DP(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&V5)throw new Error(U5);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)NP(s[l])&&(r+=A_(o)+":"+DP(o,s[l])+";");else{var c=Ch(t,e,s);switch(o){case"animation":case"animationName":{r+=A_(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}}return r}var MP=/label:\s*([^\s;{]+)\s*(;|$)/g,zi;function Vb(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";zi=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Ch(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Ch(n,e,t[a]),r){var l=o;i+=l[a]}MP.lastIndex=0;for(var c="",d;(d=MP.exec(i))!==null;)c+="-"+d[1];var h=M5(i)+c;return{name:h,styles:i,next:zi}}var B5=function(e){return e()},VN=Ac.useInsertionEffect?Ac.useInsertionEffect:!1,z5=VN||B5,LP=VN||P.useLayoutEffect,FN=P.createContext(typeof HTMLElement<"u"?AN({key:"css"}):null),q5=FN.Provider,$N=function(e){return P.forwardRef(function(n,r){var i=P.useContext(FN);return e(n,i,r)})},yy=P.createContext({}),C_={exports:{}},VP;function UN(){return VP||(VP=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(C_)),C_.exports}UN();var W5=$N(function(t,e){var n=t.styles,r=Vb([n],void 0,P.useContext(yy)),i=P.useRef();return LP(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),LP(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&MN(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function vy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vb(e)}var yu=function(){var e=vy.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},H5=Qz,G5=function(e){return e!=="theme"},FP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?H5:G5},$P=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},K5=!1,Q5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DN(n,r,i),z5(function(){return MN(n,r,i)}),null},Y5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=$P(e,n,r),l=a||FP(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var g=$N(function(_,E,v){var y=c&&_.as||i,w="",S=[],k=_;if(_.theme==null){k={};for(var C in _)k[C]=_[C];k.theme=P.useContext(yy)}typeof _.className=="string"?w=D5(E.registered,S,_.className):_.className!=null&&(w=_.className+" ");var T=Vb(h.concat(S),E.registered,k);w+=E.key+"-"+T.name,s!==void 0&&(w+=" "+s);var I=c&&a===void 0?FP(y):l,R={};for(var x in _)c&&x==="as"||I(x)&&(R[x]=_[x]);return R.className=w,v&&(R.ref=v),P.createElement(P.Fragment,null,P.createElement(Q5,{cache:E,serialized:T,isStringTag:typeof y=="string"}),P.createElement(y,R))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return s===void 0&&K5?"NO_COMPONENT_SELECTOR":"."+s}}),g.withComponent=function(_,E){return t(_,N({},n,E,{shouldForwardProp:$P(g,E,!0)})).apply(void 0,h)},g}},X5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yw=Y5.bind();X5.forEach(function(t){yw[t]=yw(t)});var jN={exports:{}},J5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z5=J5,e3=Z5;function BN(){}function zN(){}zN.resetWarningCache=BN;var t3=function(){function t(r,i,o,s,a,l){if(l!==e3){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zN,resetWarningCache:BN};return n.PropTypes=n,n};jN.exports=t3();var qN=jN.exports;const et=uu(qN);let vw;typeof document=="object"&&(vw=AN({key:"css",prepend:!0}));function n3(t){const{injectFirst:e,children:n}=t;return e&&vw?M.jsx(q5,{value:vw,children:n}):n}function r3(t){return t==null||Object.keys(t).length===0}function WN(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(r3(i)?n:i):e;return M.jsx(W5,{styles:r})}function Fb(t,e){return yw(t,e)}const HN=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},i3=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:WN,StyledEngineProvider:n3,ThemeContext:yy,css:vy,default:Fb,internal_processStyles:HN,keyframes:yu},Symbol.toStringTag,{value:"Module"}));function _o(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function GN(t){if(!_o(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=GN(t[n])}),e}function sr(t,e,n={clone:!0}){const r=n.clone?N({},t):t;return _o(t)&&_o(e)&&Object.keys(e).forEach(i=>{_o(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&_o(t[i])?r[i]=sr(t[i],e[i],n):n.clone?r[i]=_o(e[i])?GN(e[i]):e[i]:r[i]=e[i]}),r}const o3=Object.freeze(Object.defineProperty({__proto__:null,default:sr,isPlainObject:_o},Symbol.toStringTag,{value:"Module"})),s3=["values","unit","step"],a3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>N({},n,{[r.key]:r.val}),{})};function KN(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,s3),o=a3(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function d(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function h(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return N({keys:s,values:o,up:a,down:l,between:c,only:d,not:h,unit:n},i)}const l3={borderRadius:4};function Wd(t,e){return e?sr(t,e,{clone:!1}):t}const $b={xs:0,sm:600,md:900,lg:1200,xl:1536},UP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${$b[t]}px)`};function Ni(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||UP;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||UP;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||$b).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function QN(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function YN(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function c3(t,...e){const n=QN(t),r=[n,...e].reduce((i,o)=>sr(i,o),{});return YN(Object.keys(n),r)}function u3(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function k_({values:t,breakpoints:e,base:n}){const r=n||u3(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function ae(t){if(typeof t!="string")throw new Error(Ha(7));return t.charAt(0).toUpperCase()+t.slice(1)}const d3=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));function _y(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function rg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=_y(t,n)||r,e&&(i=e(i,r,t)),i}function Qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=_y(l,r)||{};return Ni(s,a,h=>{let f=rg(c,i,h);return h===f&&typeof h=="string"&&(f=rg(c,i,`${e}${h==="default"?"":ae(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function h3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const f3={m:"margin",p:"padding"},p3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},m3=h3(t=>{if(t.length>2)if(jP[t])t=jP[t];else return[t];const[e,n]=t.split(""),r=f3[e],i=p3[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Ub=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ub,...jb];function ff(t,e,n,r){var i;const o=(i=_y(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function Bb(t){return ff(t,"spacing",8)}function Ga(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function g3(t,e){return n=>t.reduce((r,i)=>(r[i]=Ga(e,n),r),{})}function y3(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=m3(n),o=g3(i,r),s=t[n];return Ni(t,s,o)}function XN(t,e){const n=Bb(t.theme);return Object.keys(t).map(r=>y3(t,e,r,n)).reduce(Wd,{})}function Dt(t){return XN(t,Ub)}Dt.propTypes={};Dt.filterProps=Ub;function Mt(t){return XN(t,jb)}Mt.propTypes={};Mt.filterProps=jb;function v3(t=8){if(t.mui)return t;const e=Bb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function wy(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Wd(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ii(t){return typeof t!="number"?t:`${t}px solid`}function vi(t,e){return Qt({prop:t,themeKey:"borders",transform:e})}const _3=vi("border",ii),w3=vi("borderTop",ii),E3=vi("borderRight",ii),b3=vi("borderBottom",ii),T3=vi("borderLeft",ii),I3=vi("borderColor"),S3=vi("borderTopColor"),R3=vi("borderRightColor"),P3=vi("borderBottomColor"),x3=vi("borderLeftColor"),A3=vi("outline",ii),C3=vi("outlineColor"),Ey=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ff(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ga(e,r)});return Ni(t,t.borderRadius,n)}return null};Ey.propTypes={};Ey.filterProps=["borderRadius"];wy(_3,w3,E3,b3,T3,I3,S3,R3,P3,x3,Ey,A3,C3);const by=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ff(t.theme,"spacing",8),n=r=>({gap:Ga(e,r)});return Ni(t,t.gap,n)}return null};by.propTypes={};by.filterProps=["gap"];const Ty=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ff(t.theme,"spacing",8),n=r=>({columnGap:Ga(e,r)});return Ni(t,t.columnGap,n)}return null};Ty.propTypes={};Ty.filterProps=["columnGap"];const Iy=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ff(t.theme,"spacing",8),n=r=>({rowGap:Ga(e,r)});return Ni(t,t.rowGap,n)}return null};Iy.propTypes={};Iy.filterProps=["rowGap"];const k3=Qt({prop:"gridColumn"}),O3=Qt({prop:"gridRow"}),N3=Qt({prop:"gridAutoFlow"}),D3=Qt({prop:"gridAutoColumns"}),M3=Qt({prop:"gridAutoRows"}),L3=Qt({prop:"gridTemplateColumns"}),V3=Qt({prop:"gridTemplateRows"}),F3=Qt({prop:"gridTemplateAreas"}),$3=Qt({prop:"gridArea"});wy(by,Ty,Iy,k3,O3,N3,D3,M3,L3,V3,F3,$3);function wc(t,e){return e==="grey"?e:t}const U3=Qt({prop:"color",themeKey:"palette",transform:wc}),j3=Qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wc}),B3=Qt({prop:"backgroundColor",themeKey:"palette",transform:wc});wy(U3,j3,B3);function Vr(t){return t<=1&&t!==0?`${t*100}%`:t}const z3=Qt({prop:"width",transform:Vr}),zb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||$b[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Vr(n)}};return Ni(t,t.maxWidth,e)}return null};zb.filterProps=["maxWidth"];const q3=Qt({prop:"minWidth",transform:Vr}),W3=Qt({prop:"height",transform:Vr}),H3=Qt({prop:"maxHeight",transform:Vr}),G3=Qt({prop:"minHeight",transform:Vr});Qt({prop:"size",cssProperty:"width",transform:Vr});Qt({prop:"size",cssProperty:"height",transform:Vr});const K3=Qt({prop:"boxSizing"});wy(z3,zb,q3,W3,H3,G3,K3);const pf={border:{themeKey:"borders",transform:ii},borderTop:{themeKey:"borders",transform:ii},borderRight:{themeKey:"borders",transform:ii},borderBottom:{themeKey:"borders",transform:ii},borderLeft:{themeKey:"borders",transform:ii},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ii},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ey},color:{themeKey:"palette",transform:wc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wc},backgroundColor:{themeKey:"palette",transform:wc},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Dt},mt:{style:Dt},mr:{style:Dt},mb:{style:Dt},ml:{style:Dt},mx:{style:Dt},my:{style:Dt},margin:{style:Dt},marginTop:{style:Dt},marginRight:{style:Dt},marginBottom:{style:Dt},marginLeft:{style:Dt},marginX:{style:Dt},marginY:{style:Dt},marginInline:{style:Dt},marginInlineStart:{style:Dt},marginInlineEnd:{style:Dt},marginBlock:{style:Dt},marginBlockStart:{style:Dt},marginBlockEnd:{style:Dt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:by},rowGap:{style:Iy},columnGap:{style:Ty},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vr},maxWidth:{style:zb},minWidth:{transform:Vr},height:{transform:Vr},maxHeight:{transform:Vr},minHeight:{transform:Vr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Q3(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Y3(t,e){return typeof t=="function"?t(e):t}function JN(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=_y(i,c)||{};return h?h(s):Ni(s,r,g=>{let _=rg(f,d,g);return g===_&&typeof g=="string"&&(_=rg(f,d,`${n}${g==="default"?"":ae(g)}`,g)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:pf;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const d=QN(o.breakpoints),h=Object.keys(d);let f=d;return Object.keys(c).forEach(p=>{const g=Y3(c[p],o);if(g!=null)if(typeof g=="object")if(s[p])f=Wd(f,t(p,g,o,s));else{const _=Ni({theme:o},g,E=>({[p]:E}));Q3(_,g)?f[p]=e({sx:g,theme:o}):f=Wd(f,_)}else f=Wd(f,t(p,g,o,s))}),YN(h,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const vu=JN();vu.filterProps=["sx"];function ZN(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const X3=["breakpoints","palette","spacing","shape"];function mf(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=ie(t,X3),a=KN(n),l=v3(i);let c=sr({breakpoints:a,direction:"ltr",components:{},palette:N({mode:"light"},r),spacing:l,shape:N({},l3,o)},s);return c.applyStyles=ZN,c=e.reduce((d,h)=>sr(d,h),c),c.unstable_sxConfig=N({},pf,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return vu({sx:h,theme:this})},c}const J3=Object.freeze(Object.defineProperty({__proto__:null,default:mf,private_createBreakpoints:KN,unstable_applyStyles:ZN},Symbol.toStringTag,{value:"Module"}));function Z3(t){return Object.keys(t).length===0}function e6(t=null){const e=P.useContext(yy);return!e||Z3(e)?t:e}const t6=mf();function Sy(t=t6){return e6(t)}function n6({styles:t,themeId:e,defaultTheme:n={}}){const r=Sy(n),i=typeof t=="function"?t(e&&r[e]||r):t;return M.jsx(WN,{styles:i})}const r6=["sx"],i6=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:pf;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Ry(t){const{sx:e}=t,n=ie(t,r6),{systemProps:r,otherProps:i}=i6(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return _o(a)?N({},r,a):r}:o=N({},r,e),N({},i,{sx:o})}const o6=Object.freeze(Object.defineProperty({__proto__:null,default:vu,extendSxProp:Ry,unstable_createStyleFunctionSx:JN,unstable_defaultSxConfig:pf},Symbol.toStringTag,{value:"Module"})),BP=t=>t,s6=()=>{let t=BP;return{configure(e){t=e},generate(e){return t(e)},reset(){t=BP}}},eD=s6();function tD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tD(t))&&(r&&(r+=" "),r+=e);return r}const a6=["className","component"];function l6(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=Fb("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(vu);return P.forwardRef(function(l,c){const d=Sy(n),h=Ry(l),{className:f,component:p="div"}=h,g=ie(h,a6);return M.jsx(o,N({as:p,ref:c,className:me(f,i?i(r):r),theme:e&&d[e]||d},g))})}const c6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ve(t,e,n="Mui"){const r=c6[e];return r?`${n}-${r}`:`${eD.generate(t)}-${e}`}function Ae(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ve(t,i,n)}),r}var nD={exports:{}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=Symbol.for("react.element"),Wb=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),xy=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),ky=Symbol.for("react.context"),u6=Symbol.for("react.server_context"),Oy=Symbol.for("react.forward_ref"),Ny=Symbol.for("react.suspense"),Dy=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),Ly=Symbol.for("react.lazy"),d6=Symbol.for("react.offscreen"),rD;rD=Symbol.for("react.module.reference");function _i(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qb:switch(t=t.type,t){case Py:case Ay:case xy:case Ny:case Dy:return t;default:switch(t=t&&t.$$typeof,t){case u6:case ky:case Oy:case Ly:case My:case Cy:return t;default:return e}}case Wb:return e}}}ot.ContextConsumer=ky;ot.ContextProvider=Cy;ot.Element=qb;ot.ForwardRef=Oy;ot.Fragment=Py;ot.Lazy=Ly;ot.Memo=My;ot.Portal=Wb;ot.Profiler=Ay;ot.StrictMode=xy;ot.Suspense=Ny;ot.SuspenseList=Dy;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return _i(t)===ky};ot.isContextProvider=function(t){return _i(t)===Cy};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qb};ot.isForwardRef=function(t){return _i(t)===Oy};ot.isFragment=function(t){return _i(t)===Py};ot.isLazy=function(t){return _i(t)===Ly};ot.isMemo=function(t){return _i(t)===My};ot.isPortal=function(t){return _i(t)===Wb};ot.isProfiler=function(t){return _i(t)===Ay};ot.isStrictMode=function(t){return _i(t)===xy};ot.isSuspense=function(t){return _i(t)===Ny};ot.isSuspenseList=function(t){return _i(t)===Dy};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Py||t===Ay||t===xy||t===Ny||t===Dy||t===d6||typeof t=="object"&&t!==null&&(t.$$typeof===Ly||t.$$typeof===My||t.$$typeof===Cy||t.$$typeof===ky||t.$$typeof===Oy||t.$$typeof===rD||t.getModuleId!==void 0)};ot.typeOf=_i;nD.exports=ot;var zP=nD.exports;const h6=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function iD(t){const e=`${t}`.match(h6);return e&&e[1]||""}function oD(t,e=""){return t.displayName||t.name||iD(t)||e}function qP(t,e,n){const r=oD(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function f6(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return oD(t,"Component");if(typeof t=="object")switch(t.$$typeof){case zP.ForwardRef:return qP(t,t.render,"ForwardRef");case zP.Memo:return qP(t,t.type,"memo");default:return}}}const p6=Object.freeze(Object.defineProperty({__proto__:null,default:f6,getFunctionName:iD},Symbol.toStringTag,{value:"Module"})),m6=["ownerState"],g6=["variants"],y6=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function v6(t){return Object.keys(t).length===0}function _6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function O_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const w6=mf(),E6=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ap({defaultTheme:t,theme:e,themeId:n}){return v6(e)?t:e[n]||e}function b6(t){return t?(e,n)=>n[t]:null}function um(t,e){let{ownerState:n}=e,r=ie(e,m6);const i=typeof t=="function"?t(N({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>um(o,N({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=ie(i,g6);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(N({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(N({ownerState:n},r,n)):l.style))}),a}return i}function T6(t={}){const{themeId:e,defaultTheme:n=w6,rootShouldForwardProp:r=O_,slotShouldForwardProp:i=O_}=t,o=s=>vu(N({},s,{theme:Ap(N({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{HN(s,k=>k.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=b6(E6(c))}=a,p=ie(a,y6),g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,_=h||!1;let E,v=O_;c==="Root"||c==="root"?v=r:c?v=i:_6(s)&&(v=void 0);const y=Fb(s,N({shouldForwardProp:v,label:E},p)),w=k=>typeof k=="function"&&k.__emotion_real!==k||_o(k)?C=>um(k,N({},C,{theme:Ap({theme:C.theme,defaultTheme:n,themeId:e})})):k,S=(k,...C)=>{let T=w(k);const I=C?C.map(w):[];l&&f&&I.push(D=>{const L=Ap(N({},D,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const A=L.components[l].styleOverrides,z={};return Object.entries(A).forEach(([q,W])=>{z[q]=um(W,N({},D,{theme:L}))}),f(D,z)}),l&&!g&&I.push(D=>{var L;const A=Ap(N({},D,{defaultTheme:n,themeId:e})),z=A==null||(L=A.components)==null||(L=L[l])==null?void 0:L.variants;return um({variants:z},N({},D,{theme:A}))}),_||I.push(o);const R=I.length-C.length;if(Array.isArray(k)&&R>0){const D=new Array(R).fill("");T=[...k,...D],T.raw=[...k.raw,...D]}const x=y(T,...I);return s.muiName&&(x.muiName=s.muiName),x};return y.withConfig&&(S.withConfig=y.withConfig),S}}const I6=T6();function kh(t,e){const n=N({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=N({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=N({},o),Object.keys(i).forEach(s=>{n[r][s]=kh(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function S6(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:kh(e.components[n].defaultProps,r)}function R6({props:t,name:e,defaultTheme:n,themeId:r}){let i=Sy(n);return r&&(i=i[r]||i),S6({theme:i,name:e,props:t})}const so=typeof window<"u"?P.useLayoutEffect:P.useEffect;function P6(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const x6=Object.freeze(Object.defineProperty({__proto__:null,default:P6},Symbol.toStringTag,{value:"Module"}));function WP(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function sD(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function N_(t,e){var n,r;return P.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function gn(t){return t&&t.ownerDocument||document}function Ka(t){return gn(t).defaultView||window}function _w(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let HP=0;function A6(t){const[e,n]=P.useState(t),r=t||e;return P.useEffect(()=>{e==null&&(HP+=1,n(`mui-${HP}`))},[e]),r}const GP=Ac.useId;function Hb(t){if(GP!==void 0){const e=GP();return t??e}return A6(t)}function ig({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=P.useRef(t!==void 0),[o,s]=P.useState(e),a=i?t:o,l=P.useCallback(c=>{i||s(c)},[]);return[a,l]}function Ai(t){const e=P.useRef(t);return so(()=>{e.current=t}),P.useRef((...n)=>(0,e.current)(...n)).current}function Kt(...t){return P.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{_w(n,e)})},t)}const KP={};function C6(t,e){const n=P.useRef(KP);return n.current===KP&&(n.current=t(e)),n}const k6=[];function O6(t){P.useEffect(t,k6)}class gf{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new gf}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Sa(){const t=C6(gf.create).current;return O6(t.disposeEffect),t}let Vy=!0,ww=!1;const N6=new gf,D6={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function M6(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&D6[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function L6(t){t.metaKey||t.altKey||t.ctrlKey||(Vy=!0)}function D_(){Vy=!1}function V6(){this.visibilityState==="hidden"&&ww&&(Vy=!0)}function F6(t){t.addEventListener("keydown",L6,!0),t.addEventListener("mousedown",D_,!0),t.addEventListener("pointerdown",D_,!0),t.addEventListener("touchstart",D_,!0),t.addEventListener("visibilitychange",V6,!0)}function $6(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Vy||M6(e)}function aD(){const t=P.useCallback(i=>{i!=null&&F6(i.ownerDocument)},[]),e=P.useRef(!1);function n(){return e.current?(ww=!0,N6.start(100,()=>{ww=!1}),e.current=!1,!0):!1}function r(i){return $6(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function lD(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ue(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}function og(t){return typeof t=="string"}function dc(t,e,n){return t===void 0||og(t)?e:N({},e,{ownerState:N({},e.ownerState,n)})}function sg(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function QP(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cD(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=me(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=N({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=N({},n,i,r);return p.length>0&&(_.className=p),Object.keys(g).length>0&&(_.style=g),{props:_,internalRef:void 0}}const s=sg(N({},i,r)),a=QP(r),l=QP(i),c=e(s),d=me(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h=N({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=N({},c,n,l,a);return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function uD(t,e,n){return typeof t=="function"?t(e,n):t}const U6=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ds(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=ie(t,U6),a=o?{}:uD(r,i),{props:l,internalRef:c}=cD(N({},s,{externalSlotProps:a})),d=Kt(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return dc(n,N({},l,{ref:d}),i)}const j6=P.createContext(),dD=()=>{const t=P.useContext(j6);return t??!1},B6=P.createContext(void 0);function z6(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?kh(i.defaultProps,r):!i.styleOverrides&&!i.variants?kh(i,r):r}function q6({props:t,name:e}){const n=P.useContext(B6);return z6({props:t,name:e,theme:{components:n}})}const W6=["component","direction","spacing","divider","children","className","useFlexGap"],H6=mf(),G6=I6("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function K6(t){return R6({props:t,name:"MuiStack",defaultTheme:H6})}function Q6(t,e){const n=P.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(P.cloneElement(e,{key:`separator-${o}`})),r),[])}const Y6=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],X6=({ownerState:t,theme:e})=>{let n=N({display:"flex",flexDirection:"column"},Ni({theme:e},k_({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Bb(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=k_({values:t.direction,base:i}),s=k_({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,d)=>{if(!o[l]){const f=c>0?o[d[c-1]]:"column";o[l]=f}}),n=sr(n,Ni({theme:e},s,(l,c)=>t.useFlexGap?{gap:Ga(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Y6(c?o[c]:t.direction)}`]:Ga(r,l)}}))}return n=c3(e.breakpoints,n),n};function J6(t={}){const{createStyledComponent:e=G6,useThemeProps:n=K6,componentName:r="MuiStack"}=t,i=()=>Ue({root:["root"]},l=>Ve(r,l),{}),o=e(X6);return P.forwardRef(function(l,c){const d=n(l),h=Ry(d),{component:f="div",direction:p="column",spacing:g=0,divider:_,children:E,className:v,useFlexGap:y=!1}=h,w=ie(h,W6),S={direction:p,spacing:g,useFlexGap:y},k=i();return M.jsx(o,N({as:f,ownerState:S,ref:c,className:me(k.root,v)},w,{children:_?Q6(E,_):E}))})}function Z6(t,e){return N({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Yt={},hD={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(hD);var fD=hD.exports;const e9=Uo(Gz),t9=Uo(x6);var pD=fD;Object.defineProperty(Yt,"__esModule",{value:!0});var Mn=Yt.alpha=vD;Yt.blend=f9;Yt.colorChannel=void 0;var ag=Yt.darken=Kb;Yt.decomposeColor=pi;var n9=Yt.emphasize=_D,r9=Yt.getContrastRatio=l9;Yt.getLuminance=cg;Yt.hexToRgb=mD;Yt.hslToRgb=yD;var lg=Yt.lighten=Qb;Yt.private_safeAlpha=c9;Yt.private_safeColorChannel=void 0;Yt.private_safeDarken=u9;Yt.private_safeEmphasize=h9;Yt.private_safeLighten=d9;Yt.recomposeColor=_u;Yt.rgbToHex=a9;var YP=pD(e9),i9=pD(t9);function Gb(t,e=0,n=1){return(0,i9.default)(t,e,n)}function mD(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function o9(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function pi(t){if(t.type)return t;if(t.charAt(0)==="#")return pi(mD(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,YP.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,YP.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const gD=t=>{const e=pi(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Yt.colorChannel=gD;const s9=(t,e)=>{try{return gD(t)}catch{return t}};Yt.private_safeColorChannel=s9;function _u(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function a9(t){if(t.indexOf("#")===0)return t;const{values:e}=pi(t);return`#${e.map((n,r)=>o9(r===3?Math.round(255*n):n)).join("")}`}function yD(t){t=pi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,d=(c+n/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),_u({type:a,values:l})}function cg(t){t=pi(t);let e=t.type==="hsl"||t.type==="hsla"?pi(yD(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l9(t,e){const n=cg(t),r=cg(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vD(t,e){return t=pi(t),e=Gb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,_u(t)}function c9(t,e,n){try{return vD(t,e)}catch{return t}}function Kb(t,e){if(t=pi(t),e=Gb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return _u(t)}function u9(t,e,n){try{return Kb(t,e)}catch{return t}}function Qb(t,e){if(t=pi(t),e=Gb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return _u(t)}function d9(t,e,n){try{return Qb(t,e)}catch{return t}}function _D(t,e=.15){return cg(t)>.5?Kb(t,e):Qb(t,e)}function h9(t,e,n){try{return _D(t,e)}catch{return t}}function f9(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=pi(t),s=pi(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return _u({type:"rgb",values:a})}const p9=["mode","contrastThreshold","tonalOffset"],XP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ph.white,default:Ph.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},M_={text:{primary:Ph.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ph.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function JP(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=lg(t.main,i):e==="dark"&&(t.dark=ag(t.main,o)))}function m9(t="light"){return t==="dark"?{main:Dl[200],light:Dl[50],dark:Dl[400]}:{main:Dl[700],light:Dl[400],dark:Dl[800]}}function g9(t="light"){return t==="dark"?{main:Nl[200],light:Nl[50],dark:Nl[400]}:{main:Nl[500],light:Nl[300],dark:Nl[700]}}function y9(t="light"){return t==="dark"?{main:Ol[500],light:Ol[300],dark:Ol[700]}:{main:Ol[700],light:Ol[400],dark:Ol[800]}}function v9(t="light"){return t==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:Ml[700],light:Ml[500],dark:Ml[900]}}function _9(t="light"){return t==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:Ll[800],light:Ll[500],dark:Ll[900]}}function w9(t="light"){return t==="dark"?{main:nd[400],light:nd[300],dark:nd[700]}:{main:"#ed6c02",light:nd[500],dark:nd[900]}}function E9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,p9),o=t.primary||m9(e),s=t.secondary||g9(e),a=t.error||y9(e),l=t.info||v9(e),c=t.success||_9(e),d=t.warning||w9(e);function h(_){return r9(_,M_.text.primary)>=n?M_.text.primary:XP.text.primary}const f=({color:_,name:E,mainShade:v=500,lightShade:y=300,darkShade:w=700})=>{if(_=N({},_),!_.main&&_[v]&&(_.main=_[v]),!_.hasOwnProperty("main"))throw new Error(Ha(11,E?` (${E})`:"",v));if(typeof _.main!="string")throw new Error(Ha(12,E?` (${E})`:"",JSON.stringify(_.main)));return JP(_,"light",y,r),JP(_,"dark",w,r),_.contrastText||(_.contrastText=h(_.main)),_},p={dark:M_,light:XP};return sr(N({common:N({},Ph),mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:Hz,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},p[e]),i)}const b9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function T9(t){return Math.round(t*1e5)/1e5}const ZP={textTransform:"uppercase"},e1='"Roboto", "Helvetica", "Arial", sans-serif';function I9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=e1,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:h}=n,f=ie(n,b9),p=i/14,g=h||(v=>`${v/c*p}rem`),_=(v,y,w,S,k)=>N({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:w},r===e1?{letterSpacing:`${T9(S/y)}em`}:{},k,d),E={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,ZP),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,ZP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sr(N({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},E),f,{clone:!1})}const S9=.2,R9=.14,P9=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${S9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${R9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${P9})`].join(",")}const x9=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],A9=["duration","easing","delay"],C9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},k9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function t1(t){return`${Math.round(t)}ms`}function O9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function N9(t){const e=N({},C9,t.easing),n=N({},k9,t.duration);return N({getAutoHeightDuration:O9,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return ie(o,A9),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:t1(s)} ${a} ${typeof l=="string"?l:t1(l)}`).join(",")}},t,{easing:e,duration:n})}const D9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},M9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wD(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=ie(t,M9);if(t.vars)throw new Error(Ha(18));const a=E9(r),l=mf(t);let c=sr(l,{mixins:Z6(l.breakpoints,n),palette:a,shadows:x9.slice(),typography:I9(a,o),transitions:N9(i),zIndex:N({},D9)});return c=sr(c,s),c=e.reduce((d,h)=>sr(d,h),c),c.unstable_sxConfig=N({},pf,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(h){return vu({sx:h,theme:this})},c}const Yb=wD();function yf(){const t=Sy(Yb);return t[ry]||t}var vf={},L_={exports:{}},n1;function L9(){return n1||(n1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.includes(o))continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(L_)),L_.exports}const ED=Uo(i3),V9=Uo(o3),F9=Uo(d3),$9=Uo(p6),U9=Uo(J3),j9=Uo(o6);var wu=fD;Object.defineProperty(vf,"__esModule",{value:!0});var B9=vf.default=tq;vf.shouldForwardProp=dm;vf.systemDefaultTheme=void 0;var Zr=wu(UN()),Ew=wu(L9()),r1=Q9(ED),z9=V9;wu(F9);wu($9);var q9=wu(U9),W9=wu(j9);const H9=["ownerState"],G9=["variants"],K9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bD=function(r){return r?n:e})(t)}function Q9(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=bD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Y9(t){return Object.keys(t).length===0}function X9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function dm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const J9=vf.systemDefaultTheme=(0,q9.default)(),Z9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Cp({defaultTheme:t,theme:e,themeId:n}){return Y9(e)?t:e[n]||e}function eq(t){return t?(e,n)=>n[t]:null}function hm(t,e){let{ownerState:n}=e,r=(0,Ew.default)(e,H9);const i=typeof t=="function"?t((0,Zr.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>hm(o,(0,Zr.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,Ew.default)(i,G9);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Zr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Zr.default)({ownerState:n},r,n)):l.style))}),a}return i}function tq(t={}){const{themeId:e,defaultTheme:n=J9,rootShouldForwardProp:r=dm,slotShouldForwardProp:i=dm}=t,o=s=>(0,W9.default)((0,Zr.default)({},s,{theme:Cp((0,Zr.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,r1.internal_processStyles)(s,k=>k.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=eq(Z9(c))}=a,p=(0,Ew.default)(a,K9),g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,_=h||!1;let E,v=dm;c==="Root"||c==="root"?v=r:c?v=i:X9(s)&&(v=void 0);const y=(0,r1.default)(s,(0,Zr.default)({shouldForwardProp:v,label:E},p)),w=k=>typeof k=="function"&&k.__emotion_real!==k||(0,z9.isPlainObject)(k)?C=>hm(k,(0,Zr.default)({},C,{theme:Cp({theme:C.theme,defaultTheme:n,themeId:e})})):k,S=(k,...C)=>{let T=w(k);const I=C?C.map(w):[];l&&f&&I.push(D=>{const L=Cp((0,Zr.default)({},D,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const A=L.components[l].styleOverrides,z={};return Object.entries(A).forEach(([q,W])=>{z[q]=hm(W,(0,Zr.default)({},D,{theme:L}))}),f(D,z)}),l&&!g&&I.push(D=>{var L;const A=Cp((0,Zr.default)({},D,{defaultTheme:n,themeId:e})),z=A==null||(L=A.components)==null||(L=L[l])==null?void 0:L.variants;return hm({variants:z},(0,Zr.default)({},D,{theme:A}))}),_||I.push(o);const R=I.length-C.length;if(Array.isArray(k)&&R>0){const D=new Array(R).fill("");T=[...k,...D],T.raw=[...k.raw,...D]}const x=y(T,...I);return s.muiName&&(x.muiName=s.muiName),x};return y.withConfig&&(S.withConfig=y.withConfig),S}}function TD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Xr=t=>TD(t)&&t!=="classes",ne=B9({themeId:ry,defaultTheme:Yb,rootShouldForwardProp:Xr}),i1=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function ze(t){return q6(t)}function nq(t){return Ve("MuiSvgIcon",t)}Ae("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rq=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iq=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ae(e)}`,`fontSize${ae(n)}`]};return Ue(i,nq,r)},oq=ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ae(n.color)}`],e[`fontSize${ae(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,c,d,h,f,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),bw=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,p=ie(r,rq),g=P.isValidElement(i)&&i.type==="svg",_=N({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:g}),E={};d||(E.viewBox=f);const v=iq(_);return M.jsxs(oq,N({as:a,className:me(v.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},E,p,g&&i.props,{ownerState:_,children:[g?i.props.children:i,h?M.jsx("title",{children:h}):null]}))});bw.muiName="SvgIcon";function zo(t,e){function n(r,i){return M.jsx(bw,N({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=bw.muiName,P.memo(P.forwardRef(n))}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tw(t,e)}function ID(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tw(t,e)}const o1={disabled:!1},ug=xi.createContext(null);var sq=function(e){return e.scrollTop},Pd="unmounted",fa="exited",pa="entering",Hl="entered",Iw="exiting",Li=function(t){ID(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=fa,o.appearStatus=pa):l=Hl:r.unmountOnExit||r.mountOnEnter?l=Pd:l=fa,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Pd?{status:fa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==pa&&s!==Hl&&(o=pa):(s===pa||s===Hl)&&(o=Iw)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===pa){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Pp.findDOMNode(this);s&&sq(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fa&&this.setState({status:Pd})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Pp.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||o1.disabled){this.safeSetState({status:Hl},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:pa},function(){o.props.onEntering(c,d),o.onTransitionEnd(f,function(){o.safeSetState({status:Hl},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Pp.findDOMNode(this);if(!o||o1.disabled){this.safeSetState({status:fa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Iw},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:fa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Pp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Pd)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=ie(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xi.createElement(ug.Provider,{value:null},typeof s=="function"?s(i,a):xi.cloneElement(xi.Children.only(s),a))},e}(xi.Component);Li.contextType=ug;Li.propTypes={};function Vl(){}Li.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vl,onEntering:Vl,onEntered:Vl,onExit:Vl,onExiting:Vl,onExited:Vl};Li.UNMOUNTED=Pd;Li.EXITED=fa;Li.ENTERING=pa;Li.ENTERED=Hl;Li.EXITING=Iw;function aq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xb(t,e){var n=function(o){return e&&P.isValidElement(o)?e(o):o},r=Object.create(null);return t&&P.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function lq(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ra(t,e,n){return n[e]!=null?n[e]:t.props[e]}function cq(t,e){return Xb(t.children,function(n){return P.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ra(n,"appear",t),enter:Ra(n,"enter",t),exit:Ra(n,"exit",t)})})}function uq(t,e,n){var r=Xb(t.children),i=lq(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(P.isValidElement(s)){var a=o in e,l=o in r,c=e[o],d=P.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[o]=P.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ra(s,"exit",t),enter:Ra(s,"enter",t)}):!l&&a&&!d?i[o]=P.cloneElement(s,{in:!1}):l&&a&&P.isValidElement(c)&&(i[o]=P.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ra(s,"exit",t),enter:Ra(s,"enter",t)}))}}),i}var dq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},hq={component:"div",childFactory:function(e){return e}},Jb=function(t){ID(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(aq(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?cq(i,a):uq(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Xb(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=N({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,c=dq(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?xi.createElement(ug.Provider,{value:l},c):xi.createElement(ug.Provider,{value:l},xi.createElement(o,a,c))},e}(xi.Component);Jb.propTypes={};Jb.defaultProps=hq;const Zb=t=>t.scrollTop;function Fc(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function fq(t){return Ve("MuiPaper",t)}Ae("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pq=["className","component","elevation","square","variant"],mq=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ue(o,fq,i)},gq=ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return N({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&N({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Mn("#fff",i1(e.elevation))}, ${Mn("#fff",i1(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),eT=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=ie(r,pq),d=N({},r,{component:o,elevation:s,square:a,variant:l}),h=mq(d);return M.jsx(gq,N({as:o,ownerState:d,className:me(h.root,i),ref:n},c))}),yq=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],vq=["component","slots","slotProps"],_q=["component"];function Sw(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=ie(e,yq),{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0}}=o,f=ie(o,vq),p=d[t]||r,g=uD(h[t],i),_=cD(N({className:n},l,{externalForwardedProps:t==="root"?f:void 0,externalSlotProps:g})),{props:{component:E},internalRef:v}=_,y=ie(_.props,_q),w=Kt(v,g==null?void 0:g.ref,e.ref),S=s?s(y):{},k=N({},i,S),C=t==="root"?E||c:E,T=dc(p,N({},t==="root"&&!c&&!d[t]&&a,t!=="root"&&!d[t]&&a,y,C&&{as:C},{ref:w}),k);return Object.keys(S).forEach(I=>{delete T[I]}),[p,T]}function wq(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[d,h]=P.useState(!1),f=me(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=me(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&h(!0),P.useEffect(()=>{if(!a&&l!=null){const _=setTimeout(l,c);return()=>{clearTimeout(_)}}},[l,a,c]),M.jsx("span",{className:f,style:p,children:M.jsx("span",{className:g})})}const ti=Ae("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Eq=["center","classes","className"];let Fy=t=>t,s1,a1,l1,c1;const Rw=550,bq=80,Tq=yu(s1||(s1=Fy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Iq=yu(a1||(a1=Fy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Sq=yu(l1||(l1=Fy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Rq=ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Pq=ne(wq,{name:"MuiTouchRipple",slot:"Ripple"})(c1||(c1=Fy`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ti.rippleVisible,Tq,Rw,({theme:t})=>t.transitions.easing.easeInOut,ti.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ti.child,ti.childLeaving,Iq,Rw,({theme:t})=>t.transitions.easing.easeInOut,ti.childPulsate,Sq,({theme:t})=>t.transitions.easing.easeInOut),xq=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=ie(r,Eq),[l,c]=P.useState([]),d=P.useRef(0),h=P.useRef(null);P.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=P.useRef(!1),p=Sa(),g=P.useRef(null),_=P.useRef(null),E=P.useCallback(S=>{const{pulsate:k,rippleX:C,rippleY:T,rippleSize:I,cb:R}=S;c(x=>[...x,M.jsx(Pq,{classes:{ripple:me(o.ripple,ti.ripple),rippleVisible:me(o.rippleVisible,ti.rippleVisible),ripplePulsate:me(o.ripplePulsate,ti.ripplePulsate),child:me(o.child,ti.child),childLeaving:me(o.childLeaving,ti.childLeaving),childPulsate:me(o.childPulsate,ti.childPulsate)},timeout:Rw,pulsate:k,rippleX:C,rippleY:T,rippleSize:I},d.current)]),d.current+=1,h.current=R},[o]),v=P.useCallback((S={},k={},C=()=>{})=>{const{pulsate:T=!1,center:I=i||k.pulsate,fakeElement:R=!1}=k;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const x=R?null:_.current,D=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,A,z;if(I||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)L=Math.round(D.width/2),A=Math.round(D.height/2);else{const{clientX:q,clientY:W}=S.touches&&S.touches.length>0?S.touches[0]:S;L=Math.round(q-D.left),A=Math.round(W-D.top)}if(I)z=Math.sqrt((2*D.width**2+D.height**2)/3),z%2===0&&(z+=1);else{const q=Math.max(Math.abs((x?x.clientWidth:0)-L),L)*2+2,W=Math.max(Math.abs((x?x.clientHeight:0)-A),A)*2+2;z=Math.sqrt(q**2+W**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{E({pulsate:T,rippleX:L,rippleY:A,rippleSize:z,cb:C})},p.start(bq,()=>{g.current&&(g.current(),g.current=null)})):E({pulsate:T,rippleX:L,rippleY:A,rippleSize:z,cb:C})},[i,E,p]),y=P.useCallback(()=>{v({},{pulsate:!0})},[v]),w=P.useCallback((S,k)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{w(S,k)});return}g.current=null,c(C=>C.length>0?C.slice(1):C),h.current=k},[p]);return P.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:w}),[y,v,w]),M.jsx(Rq,N({className:me(ti.root,o.root,s),ref:_},a,{children:M.jsx(Jb,{component:null,exit:!0,children:l})}))});function Aq(t){return Ve("MuiButtonBase",t)}const Cq=Ae("MuiButtonBase",["root","disabled","focusVisible"]),kq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Oq=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Ue({root:["root",e&&"disabled",n&&"focusVisible"]},Aq,i);return n&&r&&(s.root+=` ${r}`),s},Nq=ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Cq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$y=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:g,onClick:_,onContextMenu:E,onDragLeave:v,onFocus:y,onFocusVisible:w,onKeyDown:S,onKeyUp:k,onMouseDown:C,onMouseLeave:T,onMouseUp:I,onTouchEnd:R,onTouchMove:x,onTouchStart:D,tabIndex:L=0,TouchRippleProps:A,touchRippleRef:z,type:q}=r,W=ie(r,kq),Q=P.useRef(null),$=P.useRef(null),G=Kt($,z),{isFocusVisibleRef:Z,onFocus:ye,onBlur:se,ref:ue}=aD(),[de,ve]=P.useState(!1);c&&de&&ve(!1),P.useImperativeHandle(i,()=>({focusVisible:()=>{ve(!0),Q.current.focus()}}),[]);const[_e,Ne]=P.useState(!1);P.useEffect(()=>{Ne(!0)},[]);const Fe=_e&&!d&&!c;P.useEffect(()=>{de&&f&&!d&&_e&&$.current.pulsate()},[d,f,de,_e]);function Re(pe,Ot,wi=h){return Ai(In=>(Ot&&Ot(In),!wi&&$.current&&$.current[pe](In),!0))}const tt=Re("start",C),we=Re("stop",E),Ee=Re("stop",v),ge=Re("stop",I),Ce=Re("stop",pe=>{de&&pe.preventDefault(),T&&T(pe)}),xe=Re("start",D),Tn=Re("stop",R),nn=Re("stop",x),kt=Re("stop",pe=>{se(pe),Z.current===!1&&ve(!1),g&&g(pe)},!1),rn=Ai(pe=>{Q.current||(Q.current=pe.currentTarget),ye(pe),Z.current===!0&&(ve(!0),w&&w(pe)),y&&y(pe)}),st=()=>{const pe=Q.current;return l&&l!=="button"&&!(pe.tagName==="A"&&pe.href)},qe=P.useRef(!1),on=Ai(pe=>{f&&!qe.current&&de&&$.current&&pe.key===" "&&(qe.current=!0,$.current.stop(pe,()=>{$.current.start(pe)})),pe.target===pe.currentTarget&&st()&&pe.key===" "&&pe.preventDefault(),S&&S(pe),pe.target===pe.currentTarget&&st()&&pe.key==="Enter"&&!c&&(pe.preventDefault(),_&&_(pe))}),ft=Ai(pe=>{f&&pe.key===" "&&$.current&&de&&!pe.defaultPrevented&&(qe.current=!1,$.current.stop(pe,()=>{$.current.pulsate(pe)})),k&&k(pe),_&&pe.target===pe.currentTarget&&st()&&pe.key===" "&&!pe.defaultPrevented&&_(pe)});let $e=l;$e==="button"&&(W.href||W.to)&&($e=p);const Xt={};$e==="button"?(Xt.type=q===void 0?"button":q,Xt.disabled=c):(!W.href&&!W.to&&(Xt.role="button"),c&&(Xt["aria-disabled"]=c));const We=Kt(n,ue,Q),Ye=N({},r,{centerRipple:o,component:l,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:f,tabIndex:L,focusVisible:de}),De=Oq(Ye);return M.jsxs(Nq,N({as:$e,className:me(De.root,a),ownerState:Ye,onBlur:kt,onClick:_,onContextMenu:we,onFocus:rn,onKeyDown:on,onKeyUp:ft,onMouseDown:tt,onMouseLeave:Ce,onMouseUp:ge,onDragLeave:Ee,onTouchEnd:Tn,onTouchMove:nn,onTouchStart:xe,ref:We,tabIndex:c?-1:L,type:q},Xt,W,{children:[s,Fe?M.jsx(xq,N({ref:G,center:o},A)):null]}))});function Dq(t){return Ve("MuiAlert",t)}const u1=Ae("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Mq(t){return Ve("MuiIconButton",t)}const Lq=Ae("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Vq=["edge","children","className","color","disabled","disableFocusRipple","size"],Fq=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${ae(r)}`,i&&`edge${ae(i)}`,`size${ae(o)}`]};return Ue(s,Mq,e)},$q=ne($y,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ae(n.color)}`],n.edge&&e[`edge${ae(n.edge)}`],e[`size${ae(n.size)}`]]}})(({theme:t,ownerState:e})=>N({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return N({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&N({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":N({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Lq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),SD=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=r,h=ie(r,Vq),f=N({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:d}),p=Fq(f);return M.jsx($q,N({className:me(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},h,{ownerState:f,children:o}))}),Uq=zo(M.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),jq=zo(M.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Bq=zo(M.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),zq=zo(M.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),qq=zo(M.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Wq=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Hq=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${ae(n||r)}`,`${e}${ae(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Ue(o,Dq,i)},Gq=ne(eT,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ae(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?ag:lg,n=t.palette.mode==="light"?lg:ag;return N({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${u1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${u1.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:N({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),Kq=ne("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Qq=ne("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),d1=ne("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),h1={success:M.jsx(Uq,{fontSize:"inherit"}),warning:M.jsx(jq,{fontSize:"inherit"}),error:M.jsx(Bq,{fontSize:"inherit"}),info:M.jsx(zq,{fontSize:"inherit"})},Yq=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:c={},componentsProps:d={},icon:h,iconMapping:f=h1,onClose:p,role:g="alert",severity:_="success",slotProps:E={},slots:v={},variant:y="standard"}=r,w=ie(r,Wq),S=N({},r,{color:l,severity:_,variant:y,colorSeverity:l||_}),k=Hq(S),C={slots:N({closeButton:c.CloseButton,closeIcon:c.CloseIcon},v),slotProps:N({},d,E)},[T,I]=Sw("closeButton",{elementType:SD,externalForwardedProps:C,ownerState:S}),[R,x]=Sw("closeIcon",{elementType:qq,externalForwardedProps:C,ownerState:S});return M.jsxs(Gq,N({role:g,elevation:0,ownerState:S,className:me(k.root,s),ref:n},w,{children:[h!==!1?M.jsx(Kq,{ownerState:S,className:k.icon,children:h||f[_]||h1[_]}):null,M.jsx(Qq,{ownerState:S,className:k.message,children:o}),i!=null?M.jsx(d1,{ownerState:S,className:k.action,children:i}):null,i==null&&p?M.jsx(d1,{ownerState:S,className:k.action,children:M.jsx(T,N({size:"small","aria-label":a,title:a,color:"inherit",onClick:p},I,{children:M.jsx(R,N({fontSize:"small"},x))}))}):null]}))});function Xq(t){return Ve("MuiTypography",t)}Ae("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Jq=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Zq=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${ae(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ue(a,Xq,s)},eW=ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ae(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>N({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),f1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},nW=t=>tW[t]||t,Oh=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiTypography"}),i=nW(r.color),o=Ry(N({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:f="body1",variantMapping:p=f1}=o,g=ie(o,Jq),_=N({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:d,paragraph:h,variant:f,variantMapping:p}),E=l||(h?"p":p[f]||f1[f])||"span",v=Zq(_);return M.jsx(eW,N({as:E,ref:n,ownerState:_,className:me(v.root,a)},g))});var tT={};Object.defineProperty(tT,"__esModule",{value:!0});var RD=tT.default=void 0,rW=oW(P),iW=ED;function PD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(PD=function(r){return r?n:e})(t)}function oW(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=PD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function sW(t){return Object.keys(t).length===0}function aW(t=null){const e=rW.useContext(iW.ThemeContext);return!e||sW(e)?t:e}RD=tT.default=aW;var Sr="top",mi="bottom",gi="right",Rr="left",nT="auto",_f=[Sr,mi,gi,Rr],$c="start",Nh="end",lW="clippingParents",xD="viewport",id="popper",cW="reference",p1=_f.reduce(function(t,e){return t.concat([e+"-"+$c,e+"-"+Nh])},[]),AD=[].concat(_f,[nT]).reduce(function(t,e){return t.concat([e,e+"-"+$c,e+"-"+Nh])},[]),uW="beforeRead",dW="read",hW="afterRead",fW="beforeMain",pW="main",mW="afterMain",gW="beforeWrite",yW="write",vW="afterWrite",_W=[uW,dW,hW,fW,pW,mW,gW,yW,vW];function ao(t){return t?(t.nodeName||"").toLowerCase():null}function Wr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qa(t){var e=Wr(t).Element;return t instanceof e||t instanceof Element}function ci(t){var e=Wr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rT(t){if(typeof ShadowRoot>"u")return!1;var e=Wr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wW(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ci(o)||!ao(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function EW(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!ci(i)||!ao(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const bW={name:"applyStyles",enabled:!0,phase:"write",fn:wW,effect:EW,requires:["computeStyles"]};function no(t){return t.split("-")[0]}var Ma=Math.max,dg=Math.min,Uc=Math.round;function Pw(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function CD(){return!/^((?!chrome|android).)*safari/i.test(Pw())}function jc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ci(t)&&(i=t.offsetWidth>0&&Uc(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Uc(r.height)/t.offsetHeight||1);var s=Qa(t)?Wr(t):window,a=s.visualViewport,l=!CD()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,f=r.height/o;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c,x:c,y:d}}function iT(t){var e=jc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function kD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&rT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mo(t){return Wr(t).getComputedStyle(t)}function TW(t){return["table","td","th"].indexOf(ao(t))>=0}function Ks(t){return((Qa(t)?t.ownerDocument:t.document)||window.document).documentElement}function Uy(t){return ao(t)==="html"?t:t.assignedSlot||t.parentNode||(rT(t)?t.host:null)||Ks(t)}function m1(t){return!ci(t)||Mo(t).position==="fixed"?null:t.offsetParent}function IW(t){var e=/firefox/i.test(Pw()),n=/Trident/i.test(Pw());if(n&&ci(t)){var r=Mo(t);if(r.position==="fixed")return null}var i=Uy(t);for(rT(i)&&(i=i.host);ci(i)&&["html","body"].indexOf(ao(i))<0;){var o=Mo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function wf(t){for(var e=Wr(t),n=m1(t);n&&TW(n)&&Mo(n).position==="static";)n=m1(n);return n&&(ao(n)==="html"||ao(n)==="body"&&Mo(n).position==="static")?e:n||IW(t)||e}function oT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Hd(t,e,n){return Ma(t,dg(e,n))}function SW(t,e,n){var r=Hd(t,e,n);return r>n?n:r}function OD(){return{top:0,right:0,bottom:0,left:0}}function ND(t){return Object.assign({},OD(),t)}function DD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var RW=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ND(typeof e!="number"?e:DD(e,_f))};function PW(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=no(n.placement),l=oT(a),c=[Rr,gi].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var h=RW(i.padding,n),f=iT(o),p=l==="y"?Sr:Rr,g=l==="y"?mi:gi,_=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],E=s[l]-n.rects.reference[l],v=wf(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=_/2-E/2,S=h[p],k=y-f[d]-h[g],C=y/2-f[d]/2+w,T=Hd(S,C,k),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-C,e)}}function xW(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||kD(e.elements.popper,i)&&(e.elements.arrow=i))}const AW={name:"arrow",enabled:!0,phase:"main",fn:PW,effect:xW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bc(t){return t.split("-")[1]}var CW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Uc(n*i)/i||0,y:Uc(r*i)/i||0}}function g1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=s.x,p=f===void 0?0:f,g=s.y,_=g===void 0?0:g,E=typeof d=="function"?d({x:p,y:_}):{x:p,y:_};p=E.x,_=E.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=Rr,S=Sr,k=window;if(c){var C=wf(n),T="clientHeight",I="clientWidth";if(C===Wr(n)&&(C=Ks(n),Mo(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),C=C,i===Sr||(i===Rr||i===gi)&&o===Nh){S=mi;var R=h&&C===k&&k.visualViewport?k.visualViewport.height:C[T];_-=R-r.height,_*=l?1:-1}if(i===Rr||(i===Sr||i===mi)&&o===Nh){w=gi;var x=h&&C===k&&k.visualViewport?k.visualViewport.width:C[I];p-=x-r.width,p*=l?1:-1}}var D=Object.assign({position:a},c&&CW),L=d===!0?kW({x:p,y:_},Wr(n)):{x:p,y:_};if(p=L.x,_=L.y,l){var A;return Object.assign({},D,(A={},A[S]=y?"0":"",A[w]=v?"0":"",A.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",A))}return Object.assign({},D,(e={},e[S]=y?_+"px":"",e[w]=v?p+"px":"",e.transform="",e))}function OW(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:no(e.placement),variation:Bc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,g1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,g1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const NW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OW,data:{}};var kp={passive:!0};function DW(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Wr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,kp)}),a&&l.addEventListener("resize",n.update,kp),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,kp)}),a&&l.removeEventListener("resize",n.update,kp)}}const MW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DW,data:{}};var LW={left:"right",right:"left",bottom:"top",top:"bottom"};function fm(t){return t.replace(/left|right|bottom|top/g,function(e){return LW[e]})}var VW={start:"end",end:"start"};function y1(t){return t.replace(/start|end/g,function(e){return VW[e]})}function sT(t){var e=Wr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aT(t){return jc(Ks(t)).left+sT(t).scrollLeft}function FW(t,e){var n=Wr(t),r=Ks(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=CD();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+aT(t),y:l}}function $W(t){var e,n=Ks(t),r=sT(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ma(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ma(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+aT(t),l=-r.scrollTop;return Mo(i||n).direction==="rtl"&&(a+=Ma(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function lT(t){var e=Mo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function MD(t){return["html","body","#document"].indexOf(ao(t))>=0?t.ownerDocument.body:ci(t)&&lT(t)?t:MD(Uy(t))}function Gd(t,e){var n;e===void 0&&(e=[]);var r=MD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Wr(r),s=i?[o].concat(o.visualViewport||[],lT(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Gd(Uy(s)))}function xw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function UW(t,e){var n=jc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function v1(t,e,n){return e===xD?xw(FW(t,n)):Qa(e)?UW(e,n):xw($W(Ks(t)))}function jW(t){var e=Gd(Uy(t)),n=["absolute","fixed"].indexOf(Mo(t).position)>=0,r=n&&ci(t)?wf(t):t;return Qa(r)?e.filter(function(i){return Qa(i)&&kD(i,r)&&ao(i)!=="body"}):[]}function BW(t,e,n,r){var i=e==="clippingParents"?jW(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var d=v1(t,c,r);return l.top=Ma(d.top,l.top),l.right=dg(d.right,l.right),l.bottom=dg(d.bottom,l.bottom),l.left=Ma(d.left,l.left),l},v1(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function LD(t){var e=t.reference,n=t.element,r=t.placement,i=r?no(r):null,o=r?Bc(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Sr:l={x:s,y:e.y-n.height};break;case mi:l={x:s,y:e.y+e.height};break;case gi:l={x:e.x+e.width,y:a};break;case Rr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?oT(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case $c:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Nh:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function Dh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?lW:a,c=n.rootBoundary,d=c===void 0?xD:c,h=n.elementContext,f=h===void 0?id:h,p=n.altBoundary,g=p===void 0?!1:p,_=n.padding,E=_===void 0?0:_,v=ND(typeof E!="number"?E:DD(E,_f)),y=f===id?cW:id,w=t.rects.popper,S=t.elements[g?y:f],k=BW(Qa(S)?S:S.contextElement||Ks(t.elements.popper),l,d,s),C=jc(t.elements.reference),T=LD({reference:C,element:w,strategy:"absolute",placement:i}),I=xw(Object.assign({},w,T)),R=f===id?I:C,x={top:k.top-R.top+v.top,bottom:R.bottom-k.bottom+v.bottom,left:k.left-R.left+v.left,right:R.right-k.right+v.right},D=t.modifiersData.offset;if(f===id&&D){var L=D[i];Object.keys(x).forEach(function(A){var z=[gi,mi].indexOf(A)>=0?1:-1,q=[Sr,mi].indexOf(A)>=0?"y":"x";x[A]+=L[q]*z})}return x}function zW(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?AD:l,d=Bc(r),h=d?a?p1:p1.filter(function(g){return Bc(g)===d}):_f,f=h.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=h);var p=f.reduce(function(g,_){return g[_]=Dh(t,{placement:_,boundary:i,rootBoundary:o,padding:s})[no(_)],g},{});return Object.keys(p).sort(function(g,_){return p[g]-p[_]})}function qW(t){if(no(t)===nT)return[];var e=fm(t);return[y1(t),e,y1(e)]}function WW(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,_=n.allowedAutoPlacements,E=e.options.placement,v=no(E),y=v===E,w=l||(y||!g?[fm(E)]:qW(E)),S=[E].concat(w).reduce(function(de,ve){return de.concat(no(ve)===nT?zW(e,{placement:ve,boundary:d,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:_}):ve)},[]),k=e.rects.reference,C=e.rects.popper,T=new Map,I=!0,R=S[0],x=0;x<S.length;x++){var D=S[x],L=no(D),A=Bc(D)===$c,z=[Sr,mi].indexOf(L)>=0,q=z?"width":"height",W=Dh(e,{placement:D,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),Q=z?A?gi:Rr:A?mi:Sr;k[q]>C[q]&&(Q=fm(Q));var $=fm(Q),G=[];if(o&&G.push(W[L]<=0),a&&G.push(W[Q]<=0,W[$]<=0),G.every(function(de){return de})){R=D,I=!1;break}T.set(D,G)}if(I)for(var Z=g?3:1,ye=function(ve){var _e=S.find(function(Ne){var Fe=T.get(Ne);if(Fe)return Fe.slice(0,ve).every(function(Re){return Re})});if(_e)return R=_e,"break"},se=Z;se>0;se--){var ue=ye(se);if(ue==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const HW={name:"flip",enabled:!0,phase:"main",fn:WW,requiresIfExists:["offset"],data:{_skip:!1}};function _1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function w1(t){return[Sr,gi,mi,Rr].some(function(e){return t[e]>=0})}function GW(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Dh(e,{elementContext:"reference"}),a=Dh(e,{altBoundary:!0}),l=_1(s,r),c=_1(a,i,o),d=w1(l),h=w1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const KW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GW};function QW(t,e,n){var r=no(t),i=[Rr,Sr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Rr,gi].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function YW(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=AD.reduce(function(d,h){return d[h]=QW(h,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const XW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YW};function JW(t){var e=t.state,n=t.name;e.modifiersData[n]=LD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ZW={name:"popperOffsets",enabled:!0,phase:"read",fn:JW,data:{}};function eH(t){return t==="x"?"y":"x"}function tH(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,_=g===void 0?0:g,E=Dh(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),v=no(e.placement),y=Bc(e.placement),w=!y,S=oT(v),k=eH(S),C=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,R=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,x=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(C){if(o){var A,z=S==="y"?Sr:Rr,q=S==="y"?mi:gi,W=S==="y"?"height":"width",Q=C[S],$=Q+E[z],G=Q-E[q],Z=p?-I[W]/2:0,ye=y===$c?T[W]:I[W],se=y===$c?-I[W]:-T[W],ue=e.elements.arrow,de=p&&ue?iT(ue):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OD(),_e=ve[z],Ne=ve[q],Fe=Hd(0,T[W],de[W]),Re=w?T[W]/2-Z-Fe-_e-x.mainAxis:ye-Fe-_e-x.mainAxis,tt=w?-T[W]/2+Z+Fe+Ne+x.mainAxis:se+Fe+Ne+x.mainAxis,we=e.elements.arrow&&wf(e.elements.arrow),Ee=we?S==="y"?we.clientTop||0:we.clientLeft||0:0,ge=(A=D==null?void 0:D[S])!=null?A:0,Ce=Q+Re-ge-Ee,xe=Q+tt-ge,Tn=Hd(p?dg($,Ce):$,Q,p?Ma(G,xe):G);C[S]=Tn,L[S]=Tn-Q}if(a){var nn,kt=S==="x"?Sr:Rr,rn=S==="x"?mi:gi,st=C[k],qe=k==="y"?"height":"width",on=st+E[kt],ft=st-E[rn],$e=[Sr,Rr].indexOf(v)!==-1,Xt=(nn=D==null?void 0:D[k])!=null?nn:0,We=$e?on:st-T[qe]-I[qe]-Xt+x.altAxis,Ye=$e?st+T[qe]+I[qe]-Xt-x.altAxis:ft,De=p&&$e?SW(We,st,Ye):Hd(p?We:on,st,p?Ye:ft);C[k]=De,L[k]=De-st}e.modifiersData[r]=L}}const nH={name:"preventOverflow",enabled:!0,phase:"main",fn:tH,requiresIfExists:["offset"]};function rH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function iH(t){return t===Wr(t)||!ci(t)?sT(t):rH(t)}function oH(t){var e=t.getBoundingClientRect(),n=Uc(e.width)/t.offsetWidth||1,r=Uc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sH(t,e,n){n===void 0&&(n=!1);var r=ci(e),i=ci(e)&&oH(e),o=Ks(e),s=jc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ao(e)!=="body"||lT(o))&&(a=iH(e)),ci(e)?(l=jc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=aT(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function aH(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function lH(t){var e=aH(t);return _W.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function cH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function uH(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var E1={placement:"bottom",modifiers:[],strategy:"absolute"};function b1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dH(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?E1:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},E1,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:d,setOptions:function(v){var y=typeof v=="function"?v(d.options):v;_(),d.options=Object.assign({},o,d.options,y),d.scrollParents={reference:Qa(a)?Gd(a):a.contextElement?Gd(a.contextElement):[],popper:Gd(l)};var w=lH(uH([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var v=d.elements,y=v.reference,w=v.popper;if(b1(y,w)){d.rects={reference:sH(y,wf(w),d.options.strategy==="fixed"),popper:iT(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(x){return d.modifiersData[x.name]=Object.assign({},x.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var k=d.orderedModifiers[S],C=k.fn,T=k.options,I=T===void 0?{}:T,R=k.name;typeof C=="function"&&(d=C({state:d,options:I,name:R,instance:p})||d)}}}},update:cH(function(){return new Promise(function(E){p.forceUpdate(),E(d)})}),destroy:function(){_(),f=!0}};if(!b1(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function g(){d.orderedModifiers.forEach(function(E){var v=E.name,y=E.options,w=y===void 0?{}:y,S=E.effect;if(typeof S=="function"){var k=S({state:d,name:v,instance:p,options:w}),C=function(){};h.push(k||C)}})}function _(){h.forEach(function(E){return E()}),h=[]}return p}}var hH=[MW,ZW,NW,bW,XW,HW,nH,AW,KW],fH=dH({defaultModifiers:hH});function pH(t){return typeof t=="function"?t():t}const VD=P.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=P.useState(null),l=Kt(P.isValidElement(r)?r.ref:null,n);if(so(()=>{o||a(pH(i)||document.body)},[i,o]),so(()=>{if(s&&!o)return _w(n,s),()=>{_w(n,null)}},[n,s,o]),o){if(P.isValidElement(r)){const c={ref:l};return P.cloneElement(r,c)}return M.jsx(P.Fragment,{children:r})}return M.jsx(P.Fragment,{children:s&&Rb.createPortal(r,s)})});function mH(t){return Ve("MuiPopper",t)}Ae("MuiPopper",["root"]);const gH=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],yH=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function vH(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Aw(t){return typeof t=="function"?t():t}function _H(t){return t.nodeType!==void 0}const wH=t=>{const{classes:e}=t;return Ue({root:["root"]},mH,e)},EH={},bH=P.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:d,popperOptions:h,popperRef:f,slotProps:p={},slots:g={},TransitionProps:_}=e,E=ie(e,gH),v=P.useRef(null),y=Kt(v,n),w=P.useRef(null),S=Kt(w,f),k=P.useRef(S);so(()=>{k.current=S},[S]),P.useImperativeHandle(f,()=>w.current,[]);const C=vH(d,s),[T,I]=P.useState(C),[R,x]=P.useState(Aw(i));P.useEffect(()=>{w.current&&w.current.forceUpdate()}),P.useEffect(()=>{i&&x(Aw(i))},[i]),so(()=>{if(!R||!c)return;const q=$=>{I($.placement)};let W=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{q($)}}];l!=null&&(W=W.concat(l)),h&&h.modifiers!=null&&(W=W.concat(h.modifiers));const Q=fH(R,v.current,N({placement:C},h,{modifiers:W}));return k.current(Q),()=>{Q.destroy(),k.current(null)}},[R,a,l,c,h,C]);const D={placement:T};_!==null&&(D.TransitionProps=_);const L=wH(e),A=(r=g.root)!=null?r:"div",z=Ds({elementType:A,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:L.root});return M.jsx(A,N({},z,{children:typeof o=="function"?o(D):o}))}),TH=P.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:d,placement:h="bottom",popperOptions:f=EH,popperRef:p,style:g,transition:_=!1,slotProps:E={},slots:v={}}=e,y=ie(e,yH),[w,S]=P.useState(!0),k=()=>{S(!1)},C=()=>{S(!0)};if(!l&&!d&&(!_||w))return null;let T;if(o)T=o;else if(r){const x=Aw(r);T=x&&_H(x)?gn(x).body:gn(null).body}const I=!d&&l&&(!_||w)?"none":void 0,R=_?{in:d,onEnter:k,onExited:C}:void 0;return M.jsx(VD,{disablePortal:a,container:T,children:M.jsx(bH,N({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:_?!w:d,placement:h,popperOptions:f,popperRef:p,slotProps:E,slots:v},y,{style:N({position:"fixed",top:0,left:0,display:I},g),TransitionProps:R,children:i}))})}),IH=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],SH=ne(TH,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),FD=P.forwardRef(function(e,n){var r;const i=RD(),o=ze({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:d,disablePortal:h,keepMounted:f,modifiers:p,open:g,placement:_,popperOptions:E,popperRef:v,transition:y,slots:w,slotProps:S}=o,k=ie(o,IH),C=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,T=N({anchorEl:s,container:d,disablePortal:h,keepMounted:f,modifiers:p,open:g,placement:_,popperOptions:E,popperRef:v,transition:y},k);return M.jsx(SH,N({as:a,direction:i==null?void 0:i.direction,slots:{root:C},slotProps:S??c},T,{ref:n}))}),RH=["onChange","maxRows","minRows","style","value"];function Op(t){return parseInt(t,10)||0}const PH={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function xH(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const AH=P.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=ie(e,RH),{current:c}=P.useRef(a!=null),d=P.useRef(null),h=Kt(n,d),f=P.useRef(null),p=P.useRef(null),g=P.useCallback(()=>{const v=d.current,w=Ka(v).getComputedStyle(v);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};const S=p.current;S.style.width=w.width,S.value=v.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const k=w.boxSizing,C=Op(w.paddingBottom)+Op(w.paddingTop),T=Op(w.borderBottomWidth)+Op(w.borderTopWidth),I=S.scrollHeight;S.value="x";const R=S.scrollHeight;let x=I;o&&(x=Math.max(Number(o)*R,x)),i&&(x=Math.min(Number(i)*R,x)),x=Math.max(x,R);const D=x+(k==="border-box"?C+T:0),L=Math.abs(x-I)<=1;return{outerHeightStyle:D,overflowing:L}},[i,o,e.placeholder]),_=P.useCallback(()=>{const v=g();if(xH(v))return;const y=v.outerHeightStyle,w=d.current;f.current!==y&&(f.current=y,w.style.height=`${y}px`),w.style.overflow=v.overflowing?"hidden":""},[g]);so(()=>{const v=()=>{_()};let y;const w=sD(v),S=d.current,k=Ka(S);k.addEventListener("resize",w);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(v),C.observe(S)),()=>{w.clear(),cancelAnimationFrame(y),k.removeEventListener("resize",w),C&&C.disconnect()}},[g,_]),so(()=>{_()});const E=v=>{c||_(),r&&r(v)};return M.jsxs(P.Fragment,{children:[M.jsx("textarea",N({value:a,onChange:E,ref:h,rows:o,style:s},l)),M.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:N({},PH.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function pl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const cT=P.createContext(void 0);function Qs(){return P.useContext(cT)}function CH(t){return M.jsx(n6,N({},t,{defaultTheme:Yb,themeId:ry}))}function T1(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function hg(t,e=!1){return t&&(T1(t.value)&&t.value!==""||e&&T1(t.defaultValue)&&t.defaultValue!=="")}function kH(t){return t.startAdornment}function OH(t){return Ve("MuiInputBase",t)}const zc=Ae("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),NH=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],jy=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ae(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},By=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},DH=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:f,startAdornment:p,type:g}=t,_={root:["root",`color${ae(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${ae(f)}`,d&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return Ue(_,OH,e)},zy=ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:jy})(({theme:t,ownerState:e})=>N({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&N({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),qy=ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:By})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=N({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return N({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${zc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),MH=M.jsx(CH,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),uT=P.forwardRef(function(e,n){var r;const i=ze({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:d={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:_=!1,id:E,inputComponent:v="input",inputProps:y={},inputRef:w,maxRows:S,minRows:k,multiline:C=!1,name:T,onBlur:I,onChange:R,onClick:x,onFocus:D,onKeyDown:L,onKeyUp:A,placeholder:z,readOnly:q,renderSuffix:W,rows:Q,slotProps:$={},slots:G={},startAdornment:Z,type:ye="text",value:se}=i,ue=ie(i,NH),de=y.value!=null?y.value:se,{current:ve}=P.useRef(de!=null),_e=P.useRef(),Ne=P.useCallback(De=>{},[]),Fe=Kt(_e,w,y.ref,Ne),[Re,tt]=P.useState(!1),we=Qs(),Ee=pl({props:i,muiFormControl:we,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=we?we.focused:Re,P.useEffect(()=>{!we&&f&&Re&&(tt(!1),I&&I())},[we,f,Re,I]);const ge=we&&we.onFilled,Ce=we&&we.onEmpty,xe=P.useCallback(De=>{hg(De)?ge&&ge():Ce&&Ce()},[ge,Ce]);so(()=>{ve&&xe({value:de})},[de,xe,ve]);const Tn=De=>{if(Ee.disabled){De.stopPropagation();return}D&&D(De),y.onFocus&&y.onFocus(De),we&&we.onFocus?we.onFocus(De):tt(!0)},nn=De=>{I&&I(De),y.onBlur&&y.onBlur(De),we&&we.onBlur?we.onBlur(De):tt(!1)},kt=(De,...pe)=>{if(!ve){const Ot=De.target||_e.current;if(Ot==null)throw new Error(Ha(1));xe({value:Ot.value})}y.onChange&&y.onChange(De,...pe),R&&R(De,...pe)};P.useEffect(()=>{xe(_e.current)},[]);const rn=De=>{_e.current&&De.currentTarget===De.target&&_e.current.focus(),x&&x(De)};let st=v,qe=y;C&&st==="input"&&(Q?qe=N({type:void 0,minRows:Q,maxRows:Q},qe):qe=N({type:void 0,maxRows:S,minRows:k},qe),st=AH);const on=De=>{xe(De.animationName==="mui-auto-fill-cancel"?_e.current:{value:"x"})};P.useEffect(()=>{we&&we.setAdornedStart(!!Z)},[we,Z]);const ft=N({},i,{color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:g,error:Ee.error,focused:Ee.focused,formControl:we,fullWidth:_,hiddenLabel:Ee.hiddenLabel,multiline:C,size:Ee.size,startAdornment:Z,type:ye}),$e=DH(ft),Xt=G.root||c.Root||zy,We=$.root||d.root||{},Ye=G.input||c.Input||qy;return qe=N({},qe,(r=$.input)!=null?r:d.input),M.jsxs(P.Fragment,{children:[!p&&MH,M.jsxs(Xt,N({},We,!og(Xt)&&{ownerState:N({},ft,We.ownerState)},{ref:n,onClick:rn},ue,{className:me($e.root,We.className,l,q&&"MuiInputBase-readOnly"),children:[Z,M.jsx(cT.Provider,{value:null,children:M.jsx(Ye,N({ownerState:ft,"aria-invalid":Ee.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:h,disabled:Ee.disabled,id:E,onAnimationStart:on,name:T,placeholder:z,readOnly:q,required:Ee.required,rows:Q,value:de,onKeyDown:L,onKeyUp:A,type:ye},qe,!og(Ye)&&{as:st,ownerState:N({},ft,qe.ownerState)},{ref:Fe,className:me($e.input,qe.className,q&&"MuiInputBase-readOnly"),onBlur:nn,onChange:kt,onFocus:Tn}))}),g,W?W(N({},Ee,{startAdornment:Z})):null]}))]})});function LH(t){return Ve("MuiInput",t)}const od=N({},zc,Ae("MuiInput",["root","underline","input"]));function VH(t){return Ve("MuiOutlinedInput",t)}const rs=N({},zc,Ae("MuiOutlinedInput",["root","notchedOutline","input"]));function FH(t){return Ve("MuiFilledInput",t)}const ca=N({},zc,Ae("MuiFilledInput",["root","underline","input"])),$H=zo(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),UH=zo(M.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function jH(t){return Ve("MuiAvatar",t)}Ae("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const BH=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],zH=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Ue({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},jH,e)},qH=ne("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:N({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:N({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),WH=ne("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),HH=ne(UH,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function GH({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=P.useState(!1);return P.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const $D=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:d,sizes:h,src:f,srcSet:p,variant:g="circular"}=r,_=ie(r,BH);let E=null;const v=GH(N({},d,{src:f,srcSet:p})),y=f||p,w=y&&v!=="error",S=N({},r,{colorDefault:!w,component:a,variant:g}),k=zH(S),[C,T]=Sw("img",{className:k.img,elementType:WH,externalForwardedProps:{slots:l,slotProps:{img:N({},d,c.img)}},additionalProps:{alt:i,src:f,srcSet:p,sizes:h},ownerState:S});return w?E=M.jsx(C,N({},T)):o||o===0?E=o:y&&i?E=i[0]:E=M.jsx(HH,{ownerState:S,className:k.fallback}),M.jsx(qH,N({as:a,ownerState:S,className:me(k.root,s),ref:n},_,{children:E}))}),KH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],QH={entering:{opacity:1},entered:{opacity:1}},Fr=P.forwardRef(function(e,n){const r=yf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:p,onExited:g,onExiting:_,style:E,timeout:v=i,TransitionComponent:y=Li}=e,w=ie(e,KH),S=P.useRef(null),k=Kt(S,a.ref,n),C=z=>q=>{if(z){const W=S.current;q===void 0?z(W):z(W,q)}},T=C(f),I=C((z,q)=>{Zb(z);const W=Fc({style:E,timeout:v,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",W),z.style.transition=r.transitions.create("opacity",W),d&&d(z,q)}),R=C(h),x=C(_),D=C(z=>{const q=Fc({style:E,timeout:v,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",q),z.style.transition=r.transitions.create("opacity",q),p&&p(z)}),L=C(g),A=z=>{o&&o(S.current,z)};return M.jsx(y,N({appear:s,in:c,nodeRef:S,onEnter:I,onEntered:R,onEntering:T,onExit:D,onExited:L,onExiting:x,addEndListener:A,timeout:v},w,{children:(z,q)=>P.cloneElement(a,N({style:N({opacity:0,visibility:z==="exited"&&!c?"hidden":void 0},QH[z],E,a.props.style),ref:k},q))}))});function YH(t){return Ve("MuiBackdrop",t)}Ae("MuiBackdrop",["root","invisible"]);const XH=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],JH=t=>{const{classes:e,invisible:n}=t;return Ue({root:["root",n&&"invisible"]},YH,e)},ZH=ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>N({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),e8=P.forwardRef(function(e,n){var r,i,o;const s=ze({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:d={},componentsProps:h={},invisible:f=!1,open:p,slotProps:g={},slots:_={},TransitionComponent:E=Fr,transitionDuration:v}=s,y=ie(s,XH),w=N({},s,{component:c,invisible:f}),S=JH(w),k=(r=g.root)!=null?r:h.root;return M.jsx(E,N({in:p,timeout:v},y,{children:M.jsx(ZH,N({"aria-hidden":!0},k,{as:(i=(o=_.root)!=null?o:d.Root)!=null?i:c,className:me(S.root,l,k==null?void 0:k.className),ownerState:N({},w,k==null?void 0:k.ownerState),classes:S,ref:n,children:a}))}))}),t8=Ae("MuiBox",["root"]),n8=wD(),be=l6({themeId:ry,defaultTheme:n8,defaultClassName:t8.root,generateClassName:eD.generate});function r8(t){return Ve("MuiButton",t)}const Np=Ae("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),i8=P.createContext({}),o8=P.createContext(void 0),s8=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],a8=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${ae(e)}`,`size${ae(i)}`,`${o}Size${ae(i)}`,`color${ae(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ae(i)}`],endIcon:["icon","endIcon",`iconSize${ae(i)}`]},l=Ue(a,r8,s);return N({},s,l)},UD=t=>N({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),l8=ne($y,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ae(n.color)}`],e[`size${ae(n.size)}`],e[`${n.variant}Size${ae(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return N({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":N({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":N({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Np.focusVisible}`]:N({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Np.disabled}`]:N({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Mn(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Np.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Np.disabled}`]:{boxShadow:"none"}}),c8=ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ae(n.size)}`]]}})(({ownerState:t})=>N({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},UD(t))),u8=ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ae(n.size)}`]]}})(({ownerState:t})=>N({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},UD(t))),Kd=P.forwardRef(function(e,n){const r=P.useContext(i8),i=P.useContext(o8),o=kh(r,e),s=ze({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:_,fullWidth:E=!1,size:v="medium",startIcon:y,type:w,variant:S="text"}=s,k=ie(s,s8),C=N({},s,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:p,fullWidth:E,size:v,type:w,variant:S}),T=a8(C),I=y&&M.jsx(c8,{className:T.startIcon,ownerState:C,children:y}),R=g&&M.jsx(u8,{className:T.endIcon,ownerState:C,children:g}),x=i||"";return M.jsxs(l8,N({ownerState:C,className:me(r.className,T.root,d,x),component:c,disabled:h,focusRipple:!p,focusVisibleClassName:me(T.focusVisible,_),ref:n,type:w},k,{classes:T,children:[I,a,R]}))});function d8(t){return Ve("PrivateSwitchBase",t)}Ae("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const h8=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],f8=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${ae(i)}`],input:["input"]};return Ue(o,d8,e)},p8=ne($y)(({ownerState:t})=>N({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),m8=ne("input",{shouldForwardProp:Xr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g8=P.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:d=!1,icon:h,id:f,inputProps:p,inputRef:g,name:_,onBlur:E,onChange:v,onFocus:y,readOnly:w,required:S=!1,tabIndex:k,type:C,value:T}=e,I=ie(e,h8),[R,x]=ig({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),D=Qs(),L=G=>{y&&y(G),D&&D.onFocus&&D.onFocus(G)},A=G=>{E&&E(G),D&&D.onBlur&&D.onBlur(G)},z=G=>{if(G.nativeEvent.defaultPrevented)return;const Z=G.target.checked;x(Z),v&&v(G,Z)};let q=l;D&&typeof q>"u"&&(q=D.disabled);const W=C==="checkbox"||C==="radio",Q=N({},e,{checked:R,disabled:q,disableFocusRipple:c,edge:d}),$=f8(Q);return M.jsxs(p8,N({component:"span",className:me($.root,s),centerRipple:!0,focusRipple:!c,disabled:q,tabIndex:null,role:void 0,onFocus:L,onBlur:A,ownerState:Q,ref:n},I,{children:[M.jsx(m8,N({autoFocus:r,checked:i,defaultChecked:a,className:$.input,disabled:q,id:W?f:void 0,name:_,onChange:z,readOnly:w,ref:g,required:S,ownerState:Q,tabIndex:k,type:C},C==="checkbox"&&T===void 0?{}:{value:T},p)),R?o:h]}))});function y8(t){return Ve("MuiCircularProgress",t)}Ae("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const v8=["className","color","disableShrink","size","style","thickness","value","variant"];let Wy=t=>t,I1,S1,R1,P1;const is=44,_8=yu(I1||(I1=Wy`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w8=yu(S1||(S1=Wy`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),E8=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ae(r)}`],svg:["svg"],circle:["circle",`circle${ae(n)}`,i&&"circleDisableShrink"]};return Ue(o,y8,e)},b8=ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ae(n.color)}`]]}})(({ownerState:t,theme:e})=>N({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&vy(R1||(R1=Wy`
      animation: ${0} 1.4s linear infinite;
    `),_8)),T8=ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),I8=ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ae(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>N({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&vy(P1||(P1=Wy`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w8)),qc=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:h="indeterminate"}=r,f=ie(r,v8),p=N({},r,{color:o,disableShrink:s,size:a,thickness:c,value:d,variant:h}),g=E8(p),_={},E={},v={};if(h==="determinate"){const y=2*Math.PI*((is-c)/2);_.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(d),_.strokeDashoffset=`${((100-d)/100*y).toFixed(3)}px`,E.transform="rotate(-90deg)"}return M.jsx(b8,N({className:me(g.root,i),style:N({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},v,f,{children:M.jsx(T8,{className:g.svg,ownerState:p,viewBox:`${is/2} ${is/2} ${is} ${is}`,children:M.jsx(I8,{className:g.circle,style:_,ownerState:p,cx:is,cy:is,r:(is-c)/2,fill:"none",strokeWidth:c})})}))});function x1(t){return t.substring(2).toLowerCase()}function S8(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function R8(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=t,s=P.useRef(!1),a=P.useRef(null),l=P.useRef(!1),c=P.useRef(!1);P.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Kt(e.ref,a),h=Ai(g=>{const _=c.current;c.current=!1;const E=gn(a.current);if(!l.current||!a.current||"clientX"in g&&S8(g,E))return;if(s.current){s.current=!1;return}let v;g.composedPath?v=g.composedPath().indexOf(a.current)>-1:v=!E.documentElement.contains(g.target)||a.current.contains(g.target),!v&&(n||!_)&&i(g)}),f=g=>_=>{c.current=!0;const E=e.props[g];E&&E(_)},p={ref:d};return o!==!1&&(p[o]=f(o)),P.useEffect(()=>{if(o!==!1){const g=x1(o),_=gn(a.current),E=()=>{s.current=!0};return _.addEventListener(g,h),_.addEventListener("touchmove",E),()=>{_.removeEventListener(g,h),_.removeEventListener("touchmove",E)}}},[h,o]),r!==!1&&(p[r]=f(r)),P.useEffect(()=>{if(r!==!1){const g=x1(r),_=gn(a.current);return _.addEventListener(g,h),()=>{_.removeEventListener(g,h)}}},[h,r]),M.jsx(P.Fragment,{children:P.cloneElement(e,p)})}function P8(t){const e=gn(t);return e.body===t?Ka(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Qd(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function A1(t){return parseInt(Ka(t).getComputedStyle(t).paddingRight,10)||0}function x8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function C1(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!x8(s);a&&l&&Qd(s,i)})}function V_(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function A8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(P8(r)){const s=lD(gn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${A1(r)+s}px`;const a=gn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${A1(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=gn(r).body;else{const s=r.parentElement,a=Ka(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function C8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class k8{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Qd(e.modalRef,!1);const i=C8(n);C1(n,e.mount,e.modalRef,i,!0);const o=V_(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=V_(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=A8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=V_(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Qd(e.modalRef,n),C1(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Qd(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const O8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function N8(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function D8(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function M8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||D8(t))}function L8(t){const e=[],n=[];return Array.from(t.querySelectorAll(O8)).forEach((r,i)=>{const o=N8(r);o===-1||!M8(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function V8(){return!0}function F8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=L8,isEnabled:s=V8,open:a}=t,l=P.useRef(!1),c=P.useRef(null),d=P.useRef(null),h=P.useRef(null),f=P.useRef(null),p=P.useRef(!1),g=P.useRef(null),_=Kt(e.ref,g),E=P.useRef(null);P.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),P.useEffect(()=>{if(!a||!g.current)return;const w=gn(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),P.useEffect(()=>{if(!a||!g.current)return;const w=gn(g.current),S=T=>{E.current=T,!(r||!s()||T.key!=="Tab")&&w.activeElement===g.current&&T.shiftKey&&(l.current=!0,d.current&&d.current.focus())},k=()=>{const T=g.current;if(T===null)return;if(!w.hasFocus()||!s()||l.current){l.current=!1;return}if(T.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==d.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((w.activeElement===c.current||w.activeElement===d.current)&&(I=o(g.current)),I.length>0){var R,x;const D=!!((R=E.current)!=null&&R.shiftKey&&((x=E.current)==null?void 0:x.key)==="Tab"),L=I[0],A=I[I.length-1];typeof L!="string"&&typeof A!="string"&&(D?A.focus():L.focus())}else T.focus()};w.addEventListener("focusin",k),w.addEventListener("keydown",S,!0);const C=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(C),w.removeEventListener("focusin",k),w.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const v=w=>{h.current===null&&(h.current=w.relatedTarget),p.current=!0,f.current=w.target;const S=e.props.onFocus;S&&S(w)},y=w=>{h.current===null&&(h.current=w.relatedTarget),p.current=!0};return M.jsxs(P.Fragment,{children:[M.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),P.cloneElement(e,{ref:_,onFocus:v}),M.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}function $8(t){return typeof t=="function"?t():t}function U8(t){return t?t.props.hasOwnProperty("in"):!1}const j8=new k8;function B8(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=j8,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:h}=t,f=P.useRef({}),p=P.useRef(null),g=P.useRef(null),_=Kt(g,h),[E,v]=P.useState(!d),y=U8(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const S=()=>gn(p.current),k=()=>(f.current.modalRef=g.current,f.current.mount=p.current,f.current),C=()=>{i.mount(k(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},T=Ai(()=>{const W=$8(e)||S().body;i.add(k(),W),g.current&&C()}),I=P.useCallback(()=>i.isTopModal(k()),[i]),R=Ai(W=>{p.current=W,W&&(d&&I()?C():g.current&&Qd(g.current,w))}),x=P.useCallback(()=>{i.remove(k(),w)},[w,i]);P.useEffect(()=>()=>{x()},[x]),P.useEffect(()=>{d?T():(!y||!o)&&x()},[d,x,y,o,T]);const D=W=>Q=>{var $;($=W.onKeyDown)==null||$.call(W,Q),!(Q.key!=="Escape"||Q.which===229||!I())&&(n||(Q.stopPropagation(),c&&c(Q,"escapeKeyDown")))},L=W=>Q=>{var $;($=W.onClick)==null||$.call(W,Q),Q.target===Q.currentTarget&&c&&c(Q,"backdropClick")};return{getRootProps:(W={})=>{const Q=sg(t);delete Q.onTransitionEnter,delete Q.onTransitionExited;const $=N({},Q,W);return N({role:"presentation"},$,{onKeyDown:D($),ref:_})},getBackdropProps:(W={})=>{const Q=W;return N({"aria-hidden":!0},Q,{onClick:L(Q),open:d})},getTransitionProps:()=>{const W=()=>{v(!1),s&&s()},Q=()=>{v(!0),a&&a(),o&&x()};return{onEnter:WP(W,l==null?void 0:l.props.onEnter),onExited:WP(Q,l==null?void 0:l.props.onExited)}},rootRef:_,portalRef:R,isTopModal:I,exited:E,hasTransition:y}}function z8(t){return Ve("MuiModal",t)}Ae("MuiModal",["root","hidden","backdrop"]);const q8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],W8=t=>{const{open:e,exited:n,classes:r}=t;return Ue({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},z8,r)},H8=ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>N({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),G8=ne(e8,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),K8=P.forwardRef(function(e,n){var r,i,o,s,a,l;const c=ze({name:"MuiModal",props:e}),{BackdropComponent:d=G8,BackdropProps:h,className:f,closeAfterTransition:p=!1,children:g,container:_,component:E,components:v={},componentsProps:y={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:I=!1,hideBackdrop:R=!1,keepMounted:x=!1,onBackdropClick:D,open:L,slotProps:A,slots:z}=c,q=ie(c,q8),W=N({},c,{closeAfterTransition:p,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:C,disableRestoreFocus:T,disableScrollLock:I,hideBackdrop:R,keepMounted:x}),{getRootProps:Q,getBackdropProps:$,getTransitionProps:G,portalRef:Z,isTopModal:ye,exited:se,hasTransition:ue}=B8(N({},W,{rootRef:n})),de=N({},W,{exited:se}),ve=W8(de),_e={};if(g.props.tabIndex===void 0&&(_e.tabIndex="-1"),ue){const{onEnter:ge,onExited:Ce}=G();_e.onEnter=ge,_e.onExited=Ce}const Ne=(r=(i=z==null?void 0:z.root)!=null?i:v.Root)!=null?r:H8,Fe=(o=(s=z==null?void 0:z.backdrop)!=null?s:v.Backdrop)!=null?o:d,Re=(a=A==null?void 0:A.root)!=null?a:y.root,tt=(l=A==null?void 0:A.backdrop)!=null?l:y.backdrop,we=Ds({elementType:Ne,externalSlotProps:Re,externalForwardedProps:q,getSlotProps:Q,additionalProps:{ref:n,as:E},ownerState:de,className:me(f,Re==null?void 0:Re.className,ve==null?void 0:ve.root,!de.open&&de.exited&&(ve==null?void 0:ve.hidden))}),Ee=Ds({elementType:Fe,externalSlotProps:tt,additionalProps:h,getSlotProps:ge=>$(N({},ge,{onClick:Ce=>{D&&D(Ce),ge!=null&&ge.onClick&&ge.onClick(Ce)}})),className:me(tt==null?void 0:tt.className,h==null?void 0:h.className,ve==null?void 0:ve.backdrop),ownerState:de});return!x&&!L&&(!ue||se)?null:M.jsx(VD,{ref:Z,container:_,disablePortal:C,children:M.jsxs(Ne,N({},we,{children:[!R&&d?M.jsx(Fe,N({},Ee)):null,M.jsx(F8,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:T,isEnabled:ye,open:L,children:P.cloneElement(g,_e)})]}))})});function Q8(t){return Ve("MuiDivider",t)}const k1=Ae("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Y8=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],X8=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Ue({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Q8,r)},J8=ne("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>N({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Mn(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>N({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>N({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>N({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>N({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Z8=ne("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>N({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),jD=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:d="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth"}=r,g=ie(r,Y8),_=N({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:d,role:h,textAlign:f,variant:p}),E=X8(_);return M.jsx(J8,N({as:a,className:me(E.root,s),role:h,ref:n,ownerState:_},g,{children:o?M.jsx(Z8,{className:E.wrapper,ownerState:_,children:o}):null}))});jD.muiSkipListHighlight=!0;const e7=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],t7=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},FH,e);return N({},e,i)},n7=ne(zy,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...jy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return N({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${ca.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${ca.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ca.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ca.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ca.disabled}, .${ca.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ca.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&N({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),r7=ne(qy,{name:"MuiFilledInput",slot:"Input",overridesResolver:By})(({theme:t,ownerState:e})=>N({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),dT=P.forwardRef(function(e,n){var r,i,o,s;const a=ze({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:_="text"}=a,E=ie(a,e7),v=N({},a,{fullWidth:d,inputComponent:h,multiline:f,type:_}),y=t7(a),w={root:{ownerState:v},input:{ownerState:v}},S=p??c?sr(w,p??c):w,k=(r=(i=g.root)!=null?i:l.Root)!=null?r:n7,C=(o=(s=g.input)!=null?s:l.Input)!=null?o:r7;return M.jsx(uT,N({slots:{root:k,input:C},componentsProps:S,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:_},E,{classes:y}))});dT.muiName="Input";function i7(t){return Ve("MuiFormControl",t)}Ae("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const o7=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],s7=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ae(n)}`,r&&"fullWidth"]};return Ue(i,i7,e)},a7=ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>N({},e.root,e[`margin${ae(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>N({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),l7=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:h=!1,hiddenLabel:f=!1,margin:p="none",required:g=!1,size:_="medium",variant:E="outlined"}=r,v=ie(r,o7),y=N({},r,{color:s,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:p,required:g,size:_,variant:E}),w=s7(y),[S,k]=P.useState(()=>{let A=!1;return i&&P.Children.forEach(i,z=>{if(!N_(z,["Input","Select"]))return;const q=N_(z,["Select"])?z.props.input:z;q&&kH(q.props)&&(A=!0)}),A}),[C,T]=P.useState(()=>{let A=!1;return i&&P.Children.forEach(i,z=>{N_(z,["Input","Select"])&&(hg(z.props,!0)||hg(z.props.inputProps,!0))&&(A=!0)}),A}),[I,R]=P.useState(!1);l&&I&&R(!1);const x=d!==void 0&&!l?d:I;let D;const L=P.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:s,disabled:l,error:c,filled:C,focused:x,fullWidth:h,hiddenLabel:f,size:_,onBlur:()=>{R(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{R(!0)},registerEffect:D,required:g,variant:E}),[S,s,l,c,C,x,h,f,D,g,_,E]);return M.jsx(cT.Provider,{value:L,children:M.jsx(a7,N({as:a,ownerState:y,className:me(w.root,o),ref:n},v,{children:i}))})}),c7=J6({createStyledComponent:ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>ze({props:t,name:"MuiStack"})});function u7(t){return Ve("MuiFormControlLabel",t)}const xd=Ae("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),d7=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],h7=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${ae(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Ue(s,u7,e)},f7=ne("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xd.label}`]:e.label},e.root,e[`labelPlacement${ae(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>N({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${xd.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${xd.label}`]:{[`&.${xd.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),p7=ne("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xd.error}`]:{color:(t.vars||t).palette.error.main}})),Cw=P.forwardRef(function(e,n){var r,i;const o=ze({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:d,label:h,labelPlacement:f="end",required:p,slotProps:g={}}=o,_=ie(o,d7),E=Qs(),v=(r=c??l.props.disabled)!=null?r:E==null?void 0:E.disabled,y=p??l.props.required,w={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof l.props[R]>"u"&&typeof o[R]<"u"&&(w[R]=o[R])});const S=pl({props:o,muiFormControl:E,states:["error"]}),k=N({},o,{disabled:v,labelPlacement:f,required:y,error:S.error}),C=h7(k),T=(i=g.typography)!=null?i:a.typography;let I=h;return I!=null&&I.type!==Oh&&!d&&(I=M.jsx(Oh,N({component:"span"},T,{className:me(C.label,T==null?void 0:T.className),children:I}))),M.jsxs(f7,N({className:me(C.root,s),ownerState:k,ref:n},_,{children:[P.cloneElement(l,w),y?M.jsxs(c7,{display:"block",children:[I,M.jsxs(p7,{ownerState:k,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]}):I]}))});function m7(t){return Ve("MuiFormHelperText",t)}const O1=Ae("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var N1;const g7=["children","className","component","disabled","error","filled","focused","margin","required","variant"],y7=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${ae(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Ue(c,m7,e)},v7=ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ae(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>N({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${O1.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${O1.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),_7=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=ie(r,g7),l=Qs(),c=pl({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=N({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=y7(d);return M.jsx(v7,N({as:s,ownerState:d,className:me(h.root,o),ref:n},a,{children:i===" "?N1||(N1=M.jsx("span",{className:"notranslate",children:""})):i}))});function w7(t){return Ve("MuiFormLabel",t)}const Yd=Ae("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),E7=["children","className","color","component","disabled","error","filled","focused","required"],b7=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${ae(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Ue(l,w7,e)},T7=ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>N({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>N({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Yd.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Yd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yd.error}`]:{color:(t.vars||t).palette.error.main}})),I7=ne("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Yd.error}`]:{color:(t.vars||t).palette.error.main}})),S7=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=ie(r,E7),l=Qs(),c=pl({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=N({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=b7(d);return M.jsxs(T7,N({as:s,ownerState:d,className:me(h.root,o),ref:n},a,{children:[i,c.required&&M.jsxs(I7,{ownerState:d,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),R7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function kw(t){return`scale(${t}, ${t**2})`}const P7={entering:{opacity:1,transform:kw(1)},entered:{opacity:1,transform:"none"}},F_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Mh=P.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:h,onExited:f,onExiting:p,style:g,timeout:_="auto",TransitionComponent:E=Li}=e,v=ie(e,R7),y=Sa(),w=P.useRef(),S=yf(),k=P.useRef(null),C=Kt(k,o.ref,n),T=q=>W=>{if(q){const Q=k.current;W===void 0?q(Q):q(Q,W)}},I=T(d),R=T((q,W)=>{Zb(q);const{duration:Q,delay:$,easing:G}=Fc({style:g,timeout:_,easing:s},{mode:"enter"});let Z;_==="auto"?(Z=S.transitions.getAutoHeightDuration(q.clientHeight),w.current=Z):Z=Q,q.style.transition=[S.transitions.create("opacity",{duration:Z,delay:$}),S.transitions.create("transform",{duration:F_?Z:Z*.666,delay:$,easing:G})].join(","),l&&l(q,W)}),x=T(c),D=T(p),L=T(q=>{const{duration:W,delay:Q,easing:$}=Fc({style:g,timeout:_,easing:s},{mode:"exit"});let G;_==="auto"?(G=S.transitions.getAutoHeightDuration(q.clientHeight),w.current=G):G=W,q.style.transition=[S.transitions.create("opacity",{duration:G,delay:Q}),S.transitions.create("transform",{duration:F_?G:G*.666,delay:F_?Q:Q||G*.333,easing:$})].join(","),q.style.opacity=0,q.style.transform=kw(.75),h&&h(q)}),A=T(f),z=q=>{_==="auto"&&y.start(w.current||0,q),r&&r(k.current,q)};return M.jsx(E,N({appear:i,in:a,nodeRef:k,onEnter:R,onEntered:x,onEntering:I,onExit:L,onExited:A,onExiting:D,addEndListener:z,timeout:_==="auto"?null:_},v,{children:(q,W)=>P.cloneElement(o,N({style:N({opacity:0,transform:kw(.75),visibility:q==="exited"&&!a?"hidden":void 0},P7[q],g,o.props.style),ref:C},W))}))});Mh.muiSupportAuto=!0;const x7=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],A7=t=>{const{classes:e,disableUnderline:n}=t,i=Ue({root:["root",!n&&"underline"],input:["input"]},LH,e);return N({},e,i)},C7=ne(zy,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...jy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),N({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${od.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${od.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${od.disabled}, .${od.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${od.disabled}:before`]:{borderBottomStyle:"dotted"}})}),k7=ne(qy,{name:"MuiInput",slot:"Input",overridesResolver:By})({}),hT=P.forwardRef(function(e,n){var r,i,o,s;const a=ze({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:d,fullWidth:h=!1,inputComponent:f="input",multiline:p=!1,slotProps:g,slots:_={},type:E="text"}=a,v=ie(a,x7),y=A7(a),S={root:{ownerState:{disableUnderline:l}}},k=g??d?sr(g??d,S):S,C=(r=(i=_.root)!=null?i:c.Root)!=null?r:C7,T=(o=(s=_.input)!=null?s:c.Input)!=null?o:k7;return M.jsx(uT,N({slots:{root:C,input:T},slotProps:k,fullWidth:h,inputComponent:f,multiline:p,ref:n,type:E},v,{classes:y}))});hT.muiName="Input";function O7(t){return Ve("MuiInputLabel",t)}Ae("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const N7=["disableAnimation","margin","shrink","variant","className"],D7=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ae(r)}`,s],asterisk:[a&&"asterisk"]},c=Ue(l,O7,e);return N({},e,c)},M7=ne(S7,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Yd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>N({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&N({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&N({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&N({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),L7=P.forwardRef(function(e,n){const r=ze({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=ie(r,N7),l=Qs();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const d=pl({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),h=N({},r,{disableAnimation:i,formControl:l,shrink:c,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),f=D7(h);return M.jsx(M7,N({"data-shrink":c,ownerState:h,ref:n,className:me(f.root,s)},a,{classes:f}))}),Ow=P.createContext({});function V7(t){return Ve("MuiList",t)}Ae("MuiList",["root","padding","dense","subheader"]);const F7=["children","className","component","dense","disablePadding","subheader"],$7=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ue({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},V7,e)},U7=ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>N({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),j7=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,d=ie(r,F7),h=P.useMemo(()=>({dense:a}),[a]),f=N({},r,{component:s,dense:a,disablePadding:l}),p=$7(f);return M.jsx(Ow.Provider,{value:h,children:M.jsxs(U7,N({as:s,className:me(p.root,o),ref:n,ownerState:f},d,{children:[c,i]}))})}),D1=Ae("MuiListItemIcon",["root","alignItemsFlexStart"]),M1=Ae("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),B7=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function $_(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function L1(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function BD(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function sd(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!BD(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const z7=P.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu"}=e,f=ie(e,B7),p=P.useRef(null),g=P.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});so(()=>{i&&p.current.focus()},[i]),P.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:S})=>{const k=!p.current.style.width;if(w.clientHeight<p.current.clientHeight&&k){const C=`${lD(gn(w))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const _=w=>{const S=p.current,k=w.key,C=gn(S).activeElement;if(k==="ArrowDown")w.preventDefault(),sd(S,C,c,l,$_);else if(k==="ArrowUp")w.preventDefault(),sd(S,C,c,l,L1);else if(k==="Home")w.preventDefault(),sd(S,null,c,l,$_);else if(k==="End")w.preventDefault(),sd(S,null,c,l,L1);else if(k.length===1){const T=g.current,I=k.toLowerCase(),R=performance.now();T.keys.length>0&&(R-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&I!==T.keys[0]&&(T.repeating=!1)),T.lastTime=R,T.keys.push(I);const x=C&&!T.repeating&&BD(C,T);T.previousKeyMatched&&(x||sd(S,C,!1,l,$_,T))?w.preventDefault():T.previousKeyMatched=!1}d&&d(w)},E=Kt(p,n);let v=-1;P.Children.forEach(s,(w,S)=>{if(!P.isValidElement(w)){v===S&&(v+=1,v>=s.length&&(v=-1));return}w.props.disabled||(h==="selectedMenu"&&w.props.selected||v===-1)&&(v=S),v===S&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const y=P.Children.map(s,(w,S)=>{if(S===v){const k={};return o&&(k.autoFocus=!0),w.props.tabIndex===void 0&&h==="selectedMenu"&&(k.tabIndex=0),P.cloneElement(w,k)}return w});return M.jsx(j7,N({role:"menu",ref:E,className:a,onKeyDown:_,tabIndex:i?0:-1},f,{children:y}))});function q7(t){return Ve("MuiPopover",t)}Ae("MuiPopover",["root","paper"]);const W7=["onEntering"],H7=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],G7=["slotProps"];function V1(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function F1(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function $1(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function U_(t){return typeof t=="function"?t():t}const K7=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"]},q7,e)},Q7=ne(K8,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zD=ne(eT,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Y7=P.forwardRef(function(e,n){var r,i,o;const s=ze({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:f,className:p,container:g,elevation:_=8,marginThreshold:E=16,open:v,PaperProps:y={},slots:w,slotProps:S,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:C=Mh,transitionDuration:T="auto",TransitionProps:{onEntering:I}={},disableScrollLock:R=!1}=s,x=ie(s.TransitionProps,W7),D=ie(s,H7),L=(r=S==null?void 0:S.paper)!=null?r:y,A=P.useRef(),z=Kt(A,L.ref),q=N({},s,{anchorOrigin:c,anchorReference:h,elevation:_,marginThreshold:E,externalPaperSlotProps:L,transformOrigin:k,TransitionComponent:C,transitionDuration:T,TransitionProps:x}),W=K7(q),Q=P.useCallback(()=>{if(h==="anchorPosition")return d;const ge=U_(l),xe=(ge&&ge.nodeType===1?ge:gn(A.current).body).getBoundingClientRect();return{top:xe.top+V1(xe,c.vertical),left:xe.left+F1(xe,c.horizontal)}},[l,c.horizontal,c.vertical,d,h]),$=P.useCallback(ge=>({vertical:V1(ge,k.vertical),horizontal:F1(ge,k.horizontal)}),[k.horizontal,k.vertical]),G=P.useCallback(ge=>{const Ce={width:ge.offsetWidth,height:ge.offsetHeight},xe=$(Ce);if(h==="none")return{top:null,left:null,transformOrigin:$1(xe)};const Tn=Q();let nn=Tn.top-xe.vertical,kt=Tn.left-xe.horizontal;const rn=nn+Ce.height,st=kt+Ce.width,qe=Ka(U_(l)),on=qe.innerHeight-E,ft=qe.innerWidth-E;if(E!==null&&nn<E){const $e=nn-E;nn-=$e,xe.vertical+=$e}else if(E!==null&&rn>on){const $e=rn-on;nn-=$e,xe.vertical+=$e}if(E!==null&&kt<E){const $e=kt-E;kt-=$e,xe.horizontal+=$e}else if(st>ft){const $e=st-ft;kt-=$e,xe.horizontal+=$e}return{top:`${Math.round(nn)}px`,left:`${Math.round(kt)}px`,transformOrigin:$1(xe)}},[l,h,Q,$,E]),[Z,ye]=P.useState(v),se=P.useCallback(()=>{const ge=A.current;if(!ge)return;const Ce=G(ge);Ce.top!==null&&(ge.style.top=Ce.top),Ce.left!==null&&(ge.style.left=Ce.left),ge.style.transformOrigin=Ce.transformOrigin,ye(!0)},[G]);P.useEffect(()=>(R&&window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)),[l,R,se]);const ue=(ge,Ce)=>{I&&I(ge,Ce),se()},de=()=>{ye(!1)};P.useEffect(()=>{v&&se()}),P.useImperativeHandle(a,()=>v?{updatePosition:()=>{se()}}:null,[v,se]),P.useEffect(()=>{if(!v)return;const ge=sD(()=>{se()}),Ce=Ka(l);return Ce.addEventListener("resize",ge),()=>{ge.clear(),Ce.removeEventListener("resize",ge)}},[l,v,se]);let ve=T;T==="auto"&&!C.muiSupportAuto&&(ve=void 0);const _e=g||(l?gn(U_(l)).body:void 0),Ne=(i=w==null?void 0:w.root)!=null?i:Q7,Fe=(o=w==null?void 0:w.paper)!=null?o:zD,Re=Ds({elementType:Fe,externalSlotProps:N({},L,{style:Z?L.style:N({},L.style,{opacity:0})}),additionalProps:{elevation:_,ref:z},ownerState:q,className:me(W.paper,L==null?void 0:L.className)}),tt=Ds({elementType:Ne,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:_e,open:v},ownerState:q,className:me(W.root,p)}),{slotProps:we}=tt,Ee=ie(tt,G7);return M.jsx(Ne,N({},Ee,!og(Ne)&&{slotProps:we,disableScrollLock:R},{children:M.jsx(C,N({appear:!0,in:v,onEntering:ue,onExited:de,timeout:ve},x,{children:M.jsx(Fe,N({},Re,{children:f}))}))}))});function X7(t){return Ve("MuiMenu",t)}Ae("MuiMenu",["root","paper","list"]);const J7=["onEntering"],Z7=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],eG={vertical:"top",horizontal:"right"},tG={vertical:"top",horizontal:"left"},nG=t=>{const{classes:e}=t;return Ue({root:["root"],paper:["paper"],list:["list"]},X7,e)},rG=ne(Y7,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),iG=ne(zD,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),oG=ne(z7,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),qD=P.forwardRef(function(e,n){var r,i;const o=ze({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:p={},PopoverClasses:g,transitionDuration:_="auto",TransitionProps:{onEntering:E}={},variant:v="selectedMenu",slots:y={},slotProps:w={}}=o,S=ie(o.TransitionProps,J7),k=ie(o,Z7),C=dD(),T=N({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:d,onEntering:E,PaperProps:p,transitionDuration:_,TransitionProps:S,variant:v}),I=nG(T),R=s&&!c&&f,x=P.useRef(null),D=($,G)=>{x.current&&x.current.adjustStyleForScrollbar($,{direction:C?"rtl":"ltr"}),E&&E($,G)},L=$=>{$.key==="Tab"&&($.preventDefault(),h&&h($,"tabKeyDown"))};let A=-1;P.Children.map(a,($,G)=>{P.isValidElement($)&&($.props.disabled||(v==="selectedMenu"&&$.props.selected||A===-1)&&(A=G))});const z=(r=y.paper)!=null?r:iG,q=(i=w.paper)!=null?i:p,W=Ds({elementType:y.root,externalSlotProps:w.root,ownerState:T,className:[I.root,l]}),Q=Ds({elementType:z,externalSlotProps:q,ownerState:T,className:I.paper});return M.jsx(rG,N({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?eG:tG,slots:{paper:z,root:y.root},slotProps:{root:W,paper:Q},open:f,ref:n,transitionDuration:_,TransitionProps:N({onEntering:D},S),ownerState:T},k,{classes:g,children:M.jsx(oG,N({onKeyDown:L,actions:x,autoFocus:s&&(A===-1||c),autoFocusItem:R,variant:v},d,{className:me(I.list,d.className),children:a}))}))});function sG(t){return Ve("MuiMenuItem",t)}const ad=Ae("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),aG=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],lG=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},cG=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Ue({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},sG,s);return N({},s,l)},uG=ne($y,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:lG})(({theme:t,ownerState:e})=>N({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ad.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Mn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ad.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Mn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ad.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Mn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Mn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ad.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ad.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${k1.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${k1.inset}`]:{marginLeft:52},[`& .${M1.root}`]:{marginTop:0,marginBottom:0},[`& .${M1.inset}`]:{paddingLeft:36},[`& .${D1.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&N({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${D1.root} svg`]:{fontSize:"1.25rem"}}))),U1=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:h,className:f}=r,p=ie(r,aG),g=P.useContext(Ow),_=P.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),E=P.useRef(null);so(()=>{i&&E.current&&E.current.focus()},[i]);const v=N({},r,{dense:_.dense,divider:a,disableGutters:l}),y=cG(r),w=Kt(E,n);let S;return r.disabled||(S=h!==void 0?h:-1),M.jsx(Ow.Provider,{value:_,children:M.jsx(uG,N({ref:w,role:d,tabIndex:S,component:o,focusVisibleClassName:me(y.focusVisible,c),className:me(y.root,f)},p,{ownerState:v,classes:y}))})});function dG(t){return Ve("MuiNativeSelect",t)}const fT=Ae("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hG=["className","disabled","error","IconComponent","inputRef","variant"],fG=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"]};return Ue(a,dG,e)},WD=({ownerState:t,theme:e})=>N({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":N({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${fT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),pG=ne("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Xr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${fT.multiple}`]:e.multiple}]}})(WD),HD=({ownerState:t,theme:e})=>N({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${fT.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),mG=ne("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})(HD),gG=P.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=ie(e,hG),d=N({},e,{disabled:i,variant:l,error:o}),h=fG(d);return M.jsxs(P.Fragment,{children:[M.jsx(pG,N({ownerState:d,className:me(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:M.jsx(mG,{as:s,ownerState:d,className:h.icon})]})});var j1;const yG=["children","classes","className","label","notched"],vG=ne("fieldset",{shouldForwardProp:Xr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_G=ne("legend",{shouldForwardProp:Xr})(({ownerState:t,theme:e})=>N({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&N({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function wG(t){const{className:e,label:n,notched:r}=t,i=ie(t,yG),o=n!=null&&n!=="",s=N({},t,{notched:r,withLabel:o});return M.jsx(vG,N({"aria-hidden":!0,className:e,ownerState:s},i,{children:M.jsx(_G,{ownerState:s,children:o?M.jsx("span",{children:n}):j1||(j1=M.jsx("span",{className:"notranslate",children:""}))})}))}const EG=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],bG=t=>{const{classes:e}=t,r=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},VH,e);return N({},e,r)},TG=ne(zy,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:jy})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return N({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${rs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${rs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${rs.focused} .${rs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${rs.error} .${rs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${rs.disabled} .${rs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&N({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),IG=ne(wG,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),SG=ne(qy,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:By})(({theme:t,ownerState:e})=>N({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),pT=P.forwardRef(function(e,n){var r,i,o,s,a;const l=ze({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:h="input",label:f,multiline:p=!1,notched:g,slots:_={},type:E="text"}=l,v=ie(l,EG),y=bG(l),w=Qs(),S=pl({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=N({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:d,hiddenLabel:S.hiddenLabel,multiline:p,size:S.size,type:E}),C=(r=(i=_.root)!=null?i:c.Root)!=null?r:TG,T=(o=(s=_.input)!=null?s:c.Input)!=null?o:SG;return M.jsx(uT,N({slots:{root:C,input:T},renderSuffix:I=>M.jsx(IG,{ownerState:k,className:y.notchedOutline,label:f!=null&&f!==""&&S.required?a||(a=M.jsxs(P.Fragment,{children:[f,"","*"]})):f,notched:typeof g<"u"?g:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:d,inputComponent:h,multiline:p,ref:n,type:E},v,{classes:N({},y,{notchedOutline:null})}))});pT.muiName="Input";function RG(t){return Ve("MuiSelect",t)}const ld=Ae("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var B1;const PG=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],xG=ne("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${ld.select}`]:e.select},{[`&.${ld.select}`]:e[n.variant]},{[`&.${ld.error}`]:e.error},{[`&.${ld.multiple}`]:e.multiple}]}})(WD,{[`&.${ld.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),AG=ne("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ae(n.variant)}`],n.open&&e.iconOpen]}})(HD),CG=ne("input",{shouldForwardProp:t=>TD(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function z1(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function kG(t){return t==null||typeof t=="string"&&!t.trim()}const OG=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ae(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ue(a,RG,e)},NG=P.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:p,error:g=!1,IconComponent:_,inputRef:E,labelId:v,MenuProps:y={},multiple:w,name:S,onBlur:k,onChange:C,onClose:T,onFocus:I,onOpen:R,open:x,readOnly:D,renderValue:L,SelectDisplayProps:A={},tabIndex:z,value:q,variant:W="standard"}=e,Q=ie(e,PG),[$,G]=ig({controlled:q,default:h,name:"Select"}),[Z,ye]=ig({controlled:x,default:d,name:"Select"}),se=P.useRef(null),ue=P.useRef(null),[de,ve]=P.useState(null),{current:_e}=P.useRef(x!=null),[Ne,Fe]=P.useState(),Re=Kt(n,E),tt=P.useCallback(fe=>{ue.current=fe,fe&&ve(fe)},[]),we=de==null?void 0:de.parentNode;P.useImperativeHandle(Re,()=>({focus:()=>{ue.current.focus()},node:se.current,value:$}),[$]),P.useEffect(()=>{d&&Z&&de&&!_e&&(Fe(a?null:we.clientWidth),ue.current.focus())},[de,a]),P.useEffect(()=>{s&&ue.current.focus()},[s]),P.useEffect(()=>{if(!v)return;const fe=gn(ue.current).getElementById(v);if(fe){const Xe=()=>{getSelection().isCollapsed&&ue.current.focus()};return fe.addEventListener("click",Xe),()=>{fe.removeEventListener("click",Xe)}}},[v]);const Ee=(fe,Xe)=>{fe?R&&R(Xe):T&&T(Xe),_e||(Fe(a?null:we.clientWidth),ye(fe))},ge=fe=>{fe.button===0&&(fe.preventDefault(),ue.current.focus(),Ee(!0,fe))},Ce=fe=>{Ee(!1,fe)},xe=P.Children.toArray(l),Tn=fe=>{const Xe=xe.find(ut=>ut.props.value===fe.target.value);Xe!==void 0&&(G(Xe.props.value),C&&C(fe,Xe))},nn=fe=>Xe=>{let ut;if(Xe.currentTarget.hasAttribute("tabindex")){if(w){ut=Array.isArray($)?$.slice():[];const kr=$.indexOf(fe.props.value);kr===-1?ut.push(fe.props.value):ut.splice(kr,1)}else ut=fe.props.value;if(fe.props.onClick&&fe.props.onClick(Xe),$!==ut&&(G(ut),C)){const kr=Xe.nativeEvent||Xe,Jo=new kr.constructor(kr.type,kr);Object.defineProperty(Jo,"target",{writable:!0,value:{value:ut,name:S}}),C(Jo,fe)}w||Ee(!1,Xe)}},kt=fe=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(fe.key)!==-1&&(fe.preventDefault(),Ee(!0,fe))},rn=de!==null&&Z,st=fe=>{!rn&&k&&(Object.defineProperty(fe,"target",{writable:!0,value:{value:$,name:S}}),k(fe))};delete Q["aria-invalid"];let qe,on;const ft=[];let $e=!1;(hg({value:$})||p)&&(L?qe=L($):$e=!0);const Xt=xe.map(fe=>{if(!P.isValidElement(fe))return null;let Xe;if(w){if(!Array.isArray($))throw new Error(Ha(2));Xe=$.some(ut=>z1(ut,fe.props.value)),Xe&&$e&&ft.push(fe.props.children)}else Xe=z1($,fe.props.value),Xe&&$e&&(on=fe.props.children);return P.cloneElement(fe,{"aria-selected":Xe?"true":"false",onClick:nn(fe),onKeyUp:ut=>{ut.key===" "&&ut.preventDefault(),fe.props.onKeyUp&&fe.props.onKeyUp(ut)},role:"option",selected:Xe,value:void 0,"data-value":fe.props.value})});$e&&(w?ft.length===0?qe=null:qe=ft.reduce((fe,Xe,ut)=>(fe.push(Xe),ut<ft.length-1&&fe.push(", "),fe),[]):qe=on);let We=Ne;!a&&_e&&de&&(We=we.clientWidth);let Ye;typeof z<"u"?Ye=z:Ye=f?null:0;const De=A.id||(S?`mui-component-select-${S}`:void 0),pe=N({},e,{variant:W,value:$,open:rn,error:g}),Ot=OG(pe),wi=N({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),In=Hb();return M.jsxs(P.Fragment,{children:[M.jsx(xG,N({ref:tt,tabIndex:Ye,role:"combobox","aria-controls":In,"aria-disabled":f?"true":void 0,"aria-expanded":rn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,De].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:kt,onMouseDown:f||D?null:ge,onBlur:st,onFocus:I},A,{ownerState:pe,className:me(A.className,Ot.select,c),id:De,children:kG(qe)?B1||(B1=M.jsx("span",{className:"notranslate",children:""})):qe})),M.jsx(CG,N({"aria-invalid":g,value:Array.isArray($)?$.join(","):$,name:S,ref:se,"aria-hidden":!0,onChange:Tn,tabIndex:-1,disabled:f,className:Ot.nativeInput,autoFocus:s,ownerState:pe},Q)),M.jsx(AG,{as:_,className:Ot.icon,ownerState:pe}),M.jsx(qD,N({id:`menu-${S||""}`,anchorEl:we,open:rn,onClose:Ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:N({"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:In},y.MenuListProps),slotProps:N({},y.slotProps,{paper:N({},wi,{style:N({minWidth:We},wi!=null?wi.style:null)})}),children:Xt}))]})}),DG=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],MG=["root"],LG=t=>{const{classes:e}=t;return e},mT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Xr(t)&&t!=="variant",slot:"Root"},VG=ne(hT,mT)(""),FG=ne(pT,mT)(""),$G=ne(dT,mT)(""),GD=P.forwardRef(function(e,n){const r=ze({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=$H,id:h,input:f,inputProps:p,label:g,labelId:_,MenuProps:E,multiple:v=!1,native:y=!1,onClose:w,onOpen:S,open:k,renderValue:C,SelectDisplayProps:T,variant:I="outlined"}=r,R=ie(r,DG),x=y?gG:NG,D=Qs(),L=pl({props:r,muiFormControl:D,states:["variant","error"]}),A=L.variant||I,z=N({},r,{variant:A,classes:s}),q=LG(z),W=ie(q,MG),Q=f||{standard:M.jsx(VG,{ownerState:z}),outlined:M.jsx(FG,{label:g,ownerState:z}),filled:M.jsx($G,{ownerState:z})}[A],$=Kt(n,Q.ref);return M.jsx(P.Fragment,{children:P.cloneElement(Q,N({inputComponent:x,inputProps:N({children:o,error:L.error,IconComponent:d,variant:A,type:void 0,multiple:v},y?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:_,MenuProps:E,onClose:w,onOpen:S,open:k,renderValue:C,SelectDisplayProps:N({id:h},T)},p,{classes:p?sr(W,p.classes):W},f?f.props.inputProps:{})},(v&&y||c)&&A==="outlined"?{notched:!0}:{},{ref:$,className:me(Q.props.className,a,q.root)},!f&&{variant:A},R))})});GD.muiName="Select";function UG(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=t,s=Sa();P.useEffect(()=>{if(!i)return;function v(y){y.defaultPrevented||(y.key==="Escape"||y.key==="Esc")&&(r==null||r(y,"escapeKeyDown"))}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[i,r]);const a=Ai((v,y)=>{r==null||r(v,y)}),l=Ai(v=>{!r||v==null||s.start(v,()=>{a(null,"timeout")})});P.useEffect(()=>(i&&l(e),s.clear),[i,e,l,s]);const c=v=>{r==null||r(v,"clickaway")},d=s.clear,h=P.useCallback(()=>{e!=null&&l(o??e*.5)},[e,o,l]),f=v=>y=>{const w=v.onBlur;w==null||w(y),h()},p=v=>y=>{const w=v.onFocus;w==null||w(y),d()},g=v=>y=>{const w=v.onMouseEnter;w==null||w(y),d()},_=v=>y=>{const w=v.onMouseLeave;w==null||w(y),h()};return P.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,i,h,d]),{getRootProps:(v={})=>{const y=N({},sg(t),sg(v));return N({role:"presentation"},v,y,{onBlur:f(y),onFocus:p(y),onMouseEnter:g(y),onMouseLeave:_(y)})},onClickAway:c}}function jG(t){return Ve("MuiSnackbarContent",t)}Ae("MuiSnackbarContent",["root","message","action"]);const BG=["action","className","message","role"],zG=t=>{const{classes:e}=t;return Ue({root:["root"],action:["action"],message:["message"]},jG,e)},qG=ne(eT,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=n9(t.palette.background.default,e);return N({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),WG=ne("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),HG=ne("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),GG=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,l=ie(r,BG),c=r,d=zG(c);return M.jsxs(qG,N({role:a,square:!0,elevation:6,className:me(d.root,o),ownerState:c,ref:n},l,{children:[M.jsx(WG,{className:d.message,ownerState:c,children:s}),i?M.jsx(HG,{className:d.action,ownerState:c,children:i}):null]}))});function KG(t){return Ve("MuiSnackbar",t)}Ae("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const QG=["onEnter","onExited"],YG=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],XG=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${ae(n.vertical)}${ae(n.horizontal)}`]};return Ue(r,KG,e)},q1=ne("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${ae(n.anchorOrigin.vertical)}${ae(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return N({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:N({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),JG=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiSnackbar"}),i=yf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:h,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:g=!1,message:_,open:E,TransitionComponent:v=Mh,transitionDuration:y=o,TransitionProps:{onEnter:w,onExited:S}={}}=r,k=ie(r.TransitionProps,QG),C=ie(r,YG),T=N({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:v,transitionDuration:y}),I=XG(T),{getRootProps:R,onClickAway:x}=UG(N({},T)),[D,L]=P.useState(!0),A=Ds({elementType:q1,getSlotProps:R,externalForwardedProps:C,ownerState:T,additionalProps:{ref:n},className:[I.root,h]}),z=W=>{L(!0),S&&S(W)},q=(W,Q)=>{L(!1),w&&w(W,Q)};return!E&&D?null:M.jsx(R8,N({onClickAway:x},f,{children:M.jsx(q1,N({},A,{children:M.jsx(v,N({appear:!0,in:E,timeout:y,direction:a==="top"?"down":"up",onEnter:q,onExited:z},k,{children:d||M.jsx(GG,N({message:_,action:s},p))}))}))}))}),ZG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eK={entering:{transform:"none"},entered:{transform:"none"}},Dp=P.forwardRef(function(e,n){const r=yf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:p,onExited:g,onExiting:_,style:E,timeout:v=i,TransitionComponent:y=Li}=e,w=ie(e,ZG),S=P.useRef(null),k=Kt(S,a.ref,n),C=z=>q=>{if(z){const W=S.current;q===void 0?z(W):z(W,q)}},T=C(f),I=C((z,q)=>{Zb(z);const W=Fc({style:E,timeout:v,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("transform",W),z.style.transition=r.transitions.create("transform",W),d&&d(z,q)}),R=C(h),x=C(_),D=C(z=>{const q=Fc({style:E,timeout:v,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("transform",q),z.style.transition=r.transitions.create("transform",q),p&&p(z)}),L=C(g),A=z=>{o&&o(S.current,z)};return M.jsx(y,N({appear:s,in:c,nodeRef:S,onEnter:I,onEntered:R,onEntering:T,onExit:D,onExited:L,onExiting:x,addEndListener:A,timeout:v},w,{children:(z,q)=>P.cloneElement(a,N({style:N({transform:"scale(0)",visibility:z==="exited"&&!c?"hidden":void 0},eK[z],E,a.props.style),ref:k},q))}))});function tK(t){return Ve("MuiTooltip",t)}const _s=Ae("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),nK=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function rK(t){return Math.round(t*1e5)/1e5}const iK=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ae(o.split("-")[0])}`],arrow:["arrow"]};return Ue(s,tK,e)},oK=ne(FD,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>N({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${_s.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${_s.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${_s.arrow}`]:N({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${_s.arrow}`]:N({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),sK=ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ae(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>N({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Mn(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${rK(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${_s.popper}[data-popper-placement*="left"] &`]:N({transformOrigin:"right center"},e.isRtl?N({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):N({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${_s.popper}[data-popper-placement*="right"] &`]:N({transformOrigin:"left center"},e.isRtl?N({marginRight:"14px"},e.touch&&{marginRight:"24px"}):N({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${_s.popper}[data-popper-placement*="top"] &`]:N({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${_s.popper}[data-popper-placement*="bottom"] &`]:N({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),aK=ne("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Mn(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Mp=!1;const W1=new gf;let cd={x:0,y:0};function Lp(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Vp=P.forwardRef(function(e,n){var r,i,o,s,a,l,c,d,h,f,p,g,_,E,v,y,w,S,k;const C=ze({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:I,components:R={},componentsProps:x={},describeChild:D=!1,disableFocusListener:L=!1,disableHoverListener:A=!1,disableInteractive:z=!1,disableTouchListener:q=!1,enterDelay:W=100,enterNextDelay:Q=0,enterTouchDelay:$=700,followCursor:G=!1,id:Z,leaveDelay:ye=0,leaveTouchDelay:se=1500,onClose:ue,onOpen:de,open:ve,placement:_e="bottom",PopperComponent:Ne,PopperProps:Fe={},slotProps:Re={},slots:tt={},title:we,TransitionComponent:Ee=Mh,TransitionProps:ge}=C,Ce=ie(C,nK),xe=P.isValidElement(I)?I:M.jsx("span",{children:I}),Tn=yf(),nn=dD(),[kt,rn]=P.useState(),[st,qe]=P.useState(null),on=P.useRef(!1),ft=z||G,$e=Sa(),Xt=Sa(),We=Sa(),Ye=Sa(),[De,pe]=ig({controlled:ve,default:!1,name:"Tooltip",state:"open"});let Ot=De;const wi=Hb(Z),In=P.useRef(),fe=Ai(()=>{In.current!==void 0&&(document.body.style.WebkitUserSelect=In.current,In.current=void 0),Ye.clear()});P.useEffect(()=>fe,[fe]);const Xe=Pe=>{W1.clear(),Mp=!0,pe(!0),de&&!Ot&&de(Pe)},ut=Ai(Pe=>{W1.start(800+ye,()=>{Mp=!1}),pe(!1),ue&&Ot&&ue(Pe),$e.start(Tn.transitions.duration.shortest,()=>{on.current=!1})}),kr=Pe=>{on.current&&Pe.type!=="touchstart"||(kt&&kt.removeAttribute("title"),Xt.clear(),We.clear(),W||Mp&&Q?Xt.start(Mp?Q:W,()=>{Xe(Pe)}):Xe(Pe))},Jo=Pe=>{Xt.clear(),We.start(ye,()=>{ut(Pe)})},{isFocusVisibleRef:El,onBlur:Gf,onFocus:Kf,ref:na}=aD(),[,bl]=P.useState(!1),Tl=Pe=>{Gf(Pe),El.current===!1&&(bl(!1),Jo(Pe))},Fi=Pe=>{kt||rn(Pe.currentTarget),Kf(Pe),El.current===!0&&(bl(!0),kr(Pe))},Lu=Pe=>{on.current=!0;const Pn=xe.props;Pn.onTouchStart&&Pn.onTouchStart(Pe)},Il=Pe=>{Lu(Pe),We.clear(),$e.clear(),fe(),In.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ye.start($,()=>{document.body.style.WebkitUserSelect=In.current,kr(Pe)})},Qf=Pe=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(Pe),fe(),We.start(se,()=>{ut(Pe)})};P.useEffect(()=>{if(!Ot)return;function Pe(Pn){(Pn.key==="Escape"||Pn.key==="Esc")&&ut(Pn)}return document.addEventListener("keydown",Pe),()=>{document.removeEventListener("keydown",Pe)}},[ut,Ot]);const ra=Kt(xe.ref,na,rn,n);!we&&we!==0&&(Ot=!1);const Sl=P.useRef(),Sn=Pe=>{const Pn=xe.props;Pn.onMouseMove&&Pn.onMouseMove(Pe),cd={x:Pe.clientX,y:Pe.clientY},Sl.current&&Sl.current.update()},Zo={},fo=typeof we=="string";D?(Zo.title=!Ot&&fo&&!A?we:null,Zo["aria-describedby"]=Ot?wi:null):(Zo["aria-label"]=fo?we:null,Zo["aria-labelledby"]=Ot&&!fo?wi:null);const Rn=N({},Zo,Ce,xe.props,{className:me(Ce.className,xe.props.className),onTouchStart:Lu,ref:ra},G?{onMouseMove:Sn}:{}),ia={};q||(Rn.onTouchStart=Il,Rn.onTouchEnd=Qf),A||(Rn.onMouseOver=Lp(kr,Rn.onMouseOver),Rn.onMouseLeave=Lp(Jo,Rn.onMouseLeave),ft||(ia.onMouseOver=kr,ia.onMouseLeave=Jo)),L||(Rn.onFocus=Lp(Fi,Rn.onFocus),Rn.onBlur=Lp(Tl,Rn.onBlur),ft||(ia.onFocus=Fi,ia.onBlur=Tl));const qv=P.useMemo(()=>{var Pe;let Pn=[{name:"arrow",enabled:!!st,options:{element:st,padding:4}}];return(Pe=Fe.popperOptions)!=null&&Pe.modifiers&&(Pn=Pn.concat(Fe.popperOptions.modifiers)),N({},Fe.popperOptions,{modifiers:Pn})},[st,Fe]),Jr=N({},C,{isRtl:nn,arrow:T,disableInteractive:ft,placement:_e,PopperComponentProp:Ne,touch:on.current}),Vu=iK(Jr),Yf=(r=(i=tt.popper)!=null?i:R.Popper)!=null?r:oK,oa=(o=(s=(a=tt.transition)!=null?a:R.Transition)!=null?s:Ee)!=null?o:Mh,Fu=(l=(c=tt.tooltip)!=null?c:R.Tooltip)!=null?l:sK,Rl=(d=(h=tt.arrow)!=null?h:R.Arrow)!=null?d:aK,Pl=dc(Yf,N({},Fe,(f=Re.popper)!=null?f:x.popper,{className:me(Vu.popper,Fe==null?void 0:Fe.className,(p=(g=Re.popper)!=null?g:x.popper)==null?void 0:p.className)}),Jr),$i=dc(oa,N({},ge,(_=Re.transition)!=null?_:x.transition),Jr),Xf=dc(Fu,N({},(E=Re.tooltip)!=null?E:x.tooltip,{className:me(Vu.tooltip,(v=(y=Re.tooltip)!=null?y:x.tooltip)==null?void 0:v.className)}),Jr),Jf=dc(Rl,N({},(w=Re.arrow)!=null?w:x.arrow,{className:me(Vu.arrow,(S=(k=Re.arrow)!=null?k:x.arrow)==null?void 0:S.className)}),Jr);return M.jsxs(P.Fragment,{children:[P.cloneElement(xe,Rn),M.jsx(Yf,N({as:Ne??FD,placement:_e,anchorEl:G?{getBoundingClientRect:()=>({top:cd.y,left:cd.x,right:cd.x,bottom:cd.y,width:0,height:0})}:kt,popperRef:Sl,open:kt?Ot:!1,id:wi,transition:!0},ia,Pl,{popperOptions:qv,children:({TransitionProps:Pe})=>M.jsx(oa,N({timeout:Tn.transitions.duration.shorter},Pe,$i,{children:M.jsxs(Fu,N({},Xf,{children:[we,T?M.jsx(Rl,N({},Jf,{ref:qe})):null]}))}))}))]})});function lK(t){return Ve("MuiSwitch",t)}const Zn=Ae("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),cK=["className","color","edge","size","sx"],uK=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${ae(n)}`,`size${ae(r)}`],switchBase:["switchBase",`color${ae(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Ue(a,lK,e);return N({},e,l)},dK=ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${ae(n.edge)}`],e[`size${ae(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Zn.thumb}`]:{width:16,height:16},[`& .${Zn.switchBase}`]:{padding:4,[`&.${Zn.checked}`]:{transform:"translateX(16px)"}}}}]}),hK=ne(g8,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Zn.input}`]:e.input},n.color!=="default"&&e[`color${ae(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Zn.checked}`]:{transform:"translateX(20px)"},[`&.${Zn.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Zn.checked} + .${Zn.track}`]:{opacity:.5},[`&.${Zn.disabled} + .${Zn.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Zn.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Zn.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Mn(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zn.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?lg(t.palette[e].main,.62):ag(t.palette[e].main,.55)}`}},[`&.${Zn.checked} + .${Zn.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),fK=ne("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),pK=ne("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Nw=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l}=r,c=ie(r,cK),d=N({},r,{color:o,edge:s,size:a}),h=uK(d),f=M.jsx(pK,{className:h.thumb,ownerState:d});return M.jsxs(dK,{className:me(h.root,i),sx:l,ownerState:d,children:[M.jsx(hK,N({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:d},c,{classes:N({},h,{root:h.switchBase})})),M.jsx(fK,{className:h.track,ownerState:d})]})});function mK(t){return Ve("MuiTextField",t)}Ae("MuiTextField",["root"]);const gK=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],yK={standard:hT,filled:dT,outlined:pT},vK=t=>{const{classes:e}=t;return Ue({root:["root"]},mK,e)},_K=ne(l7,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wK=P.forwardRef(function(e,n){const r=ze({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:d=!1,error:h=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:g,id:_,InputLabelProps:E,inputProps:v,InputProps:y,inputRef:w,label:S,maxRows:k,minRows:C,multiline:T=!1,name:I,onBlur:R,onChange:x,onFocus:D,placeholder:L,required:A=!1,rows:z,select:q=!1,SelectProps:W,type:Q,value:$,variant:G="outlined"}=r,Z=ie(r,gK),ye=N({},r,{autoFocus:o,color:l,disabled:d,error:h,fullWidth:p,multiline:T,required:A,select:q,variant:G}),se=vK(ye),ue={};G==="outlined"&&(E&&typeof E.shrink<"u"&&(ue.notched=E.shrink),ue.label=S),q&&((!W||!W.native)&&(ue.id=void 0),ue["aria-describedby"]=void 0);const de=Hb(_),ve=g&&de?`${de}-helper-text`:void 0,_e=S&&de?`${de}-label`:void 0,Ne=yK[G],Fe=M.jsx(Ne,N({"aria-describedby":ve,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:T,name:I,rows:z,maxRows:k,minRows:C,type:Q,value:$,id:de,inputRef:w,onBlur:R,onChange:x,onFocus:D,placeholder:L,inputProps:v},ue,y));return M.jsxs(_K,N({className:me(se.root,a),disabled:d,error:h,fullWidth:p,ref:n,required:A,color:l,variant:G,ownerState:ye},Z,{children:[S!=null&&S!==""&&M.jsx(L7,N({htmlFor:de,id:_e},E,{children:S})),q?M.jsx(GD,N({"aria-describedby":ve,id:de,labelId:_e,value:$,input:Fe},W,{children:s})):Fe,g&&M.jsx(_7,N({id:ve},f,{children:g}))]}))}),EK=t=>({type:"SET_MOBILE",payload:t}),fg=t=>({type:"SET_AUTH",payload:t}),Hy=t=>({type:"SET_ACTIVE_SCREEN",payload:t}),Ec=(t,e)=>({type:"SET_SEARCH_CRITERION",payload:{key:t,value:e}}),H1=(t,e)=>({type:"SET_SONG_SET",payload:{songSetKey:t,songSetValue:e}}),bK=t=>({type:"SET_ALLOW_SHORT_PLAYLISTS",payload:t}),G1=t=>({type:"SET_PREVIOUS_USER",payload:t}),TK=t=>({type:"SET_SEARCH_QUERY",payload:t}),KD=t=>({type:"SET_SEARCH_USERS",payload:t}),QD=t=>({type:"SET_SONG_STEP",payload:t}),IK=t=>({type:"SET_SONG_NUMBER",payload:t}),SK=t=>({type:"SET_PLAY_PAUSE",payload:t}),RK=zo(M.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),PK=zo(M.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),ei=t=>M.jsx(Oh,{sx:{fontFamily:t.fontFamily?t.fontFamily:"LogoFont, sans-serif",color:t.fontColor,fontSize:t.fontSize,fontWeight:t.fontWeight,margin:t.fontMargin,letterSpacing:"3px",textAlign:t.fontAalign,transition:"color 0.3s ease",zIndex:9},children:t.offsetColor&&t.text==="DrinkJam"?M.jsxs(be,{component:"span",children:[M.jsx(be,{component:"span",sx:{color:t.fontColor},children:"Drink"}),M.jsx(be,{component:"span",sx:{color:t.offsetColor},children:"Jam"})]}):t.text});/*! js-cookie v3.0.5 | MIT */function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var xK={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Dw(t,e){function n(i,o,s){if(!(typeof document>"u")){s=Fp({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),c=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(s[d]=t.read(c,d),i===d)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Fp({},o,{expires:-1}))},withAttributes:function(i){return Dw(this.converter,Fp({},this.attributes,i))},withConverter:function(i){return Dw(Fp({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Mr=Dw(xK,{path:"/"});function YD(){const t=Bo(),e=He(g=>g.theme),n=He(g=>g.auth);He(g=>g.previousUser);const r=He(g=>g.isMobile),i=He(g=>g.searchCriterion),o=He(g=>g.isPlaying),s=He(g=>g.activeScreen),[a,l]=P.useState(null),c=!!a,d=g=>{l(g.currentTarget)},h=()=>{l(null),console.log(i)},f=()=>{t(SK(!o))},p=()=>{h(),setTimeout(()=>{Mr.remove("spotifyAuthToken"),Mr.remove("spotifyUser"),t(fg({isAuthenticated:!1,token:null,user:null})),t(Ec("playlists",[])),t(Ec("artists",[])),t(Ec("users",[])),t(Hy(null))},250)};return M.jsxs(be,{style:{display:"flex",padding:"0px 15px",width:"calc(100vw - 30px)",height:"70px",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:e.black,position:"absolute",top:0,left:0},children:[M.jsx(ei,{text:"DrinkJam",fontColor:e.primary,offsetColor:e.white,fontWeight:700,fontSize:"45px",fontAlign:"center"}),s==="GameScreen"&&M.jsx(Kd,{variant:"contained",color:"secondary",onClick:f,style:{marginRight:r?"0px":"125px"},children:o?M.jsxs(be,{style:{display:"flex",flexDirection:"row"},children:["Pause",M.jsx(RK,{sx:{color:e.white}})]}):M.jsxs(be,{style:{display:"flex",flexDirection:"row"},children:["Play",M.jsx(PK,{sx:{color:e.white}})]})}),M.jsx(Fr,{in:n.isAuthenticated,timeout:750,children:M.jsxs(be,{children:[M.jsx(SD,{onClick:d,style:{marginLeft:"auto"},children:n.isAuthenticated&&M.jsx($D,{alt:n.user.display_name,src:n.user.images[0].url})}),M.jsxs(qD,{anchorEl:a,open:c,onClose:h,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},style:{top:"55px"},children:[n.isAuthenticated&&M.jsxs(U1,{children:[M.jsx("b",{children:"Logged in as:"}),"",n.user.display_name]}),M.jsx(jD,{}),M.jsx(U1,{onClick:p,children:M.jsx(Kd,{variant:"contained",color:"secondary",style:{margin:"auto"},children:"Logout"})})]})]})})]})}function XD(t,e){return function(){return t.apply(e,arguments)}}const{toString:AK}=Object.prototype,{getPrototypeOf:gT}=Object,Gy=(t=>e=>{const n=AK.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),e=>Gy(e)===t),Ky=t=>e=>typeof e===t,{isArray:Eu}=Array,Lh=Ky("undefined");function CK(t){return t!==null&&!Lh(t)&&t.constructor!==null&&!Lh(t.constructor)&&zr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JD=Vi("ArrayBuffer");function kK(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JD(t.buffer),e}const OK=Ky("string"),zr=Ky("function"),ZD=Ky("number"),Qy=t=>t!==null&&typeof t=="object",NK=t=>t===!0||t===!1,pm=t=>{if(Gy(t)!=="object")return!1;const e=gT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DK=Vi("Date"),MK=Vi("File"),LK=Vi("Blob"),VK=Vi("FileList"),FK=t=>Qy(t)&&zr(t.pipe),$K=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zr(t.append)&&((e=Gy(t))==="formdata"||e==="object"&&zr(t.toString)&&t.toString()==="[object FormData]"))},UK=Vi("URLSearchParams"),[jK,BK,zK,qK]=["ReadableStream","Request","Response","Headers"].map(Vi),WK=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ef(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Eu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function eM(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tM=t=>!Lh(t)&&t!==Pa;function Mw(){const{caseless:t}=tM(this)&&this||{},e={},n=(r,i)=>{const o=t&&eM(e,i)||i;pm(e[o])&&pm(r)?e[o]=Mw(e[o],r):pm(r)?e[o]=Mw({},r):Eu(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ef(arguments[r],n);return e}const HK=(t,e,n,{allOwnKeys:r}={})=>(Ef(e,(i,o)=>{n&&zr(i)?t[o]=XD(i,n):t[o]=i},{allOwnKeys:r}),t),GK=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KK=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},QK=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&gT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YK=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XK=t=>{if(!t)return null;if(Eu(t))return t;let e=t.length;if(!ZD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JK=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gT(Uint8Array)),ZK=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},eQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tQ=Vi("HTMLFormElement"),nQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),K1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rQ=Vi("RegExp"),nM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ef(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},iQ=t=>{nM(t,(e,n)=>{if(zr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oQ=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Eu(t)?r(t):r(String(t).split(e)),n},sQ=()=>{},aQ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,j_="abcdefghijklmnopqrstuvwxyz",Q1="0123456789",rM={DIGIT:Q1,ALPHA:j_,ALPHA_DIGIT:j_+j_.toUpperCase()+Q1},lQ=(t=16,e=rM.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cQ(t){return!!(t&&zr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const uQ=t=>{const e=new Array(10),n=(r,i)=>{if(Qy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Eu(r)?[]:{};return Ef(r,(s,a)=>{const l=n(s,i+1);!Lh(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},dQ=Vi("AsyncFunction"),hQ=t=>t&&(Qy(t)||zr(t))&&zr(t.then)&&zr(t.catch),iM=((t,e)=>t?setImmediate:e?((n,r)=>(Pa.addEventListener("message",({source:i,data:o})=>{i===Pa&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Pa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zr(Pa.postMessage)),fQ=typeof queueMicrotask<"u"?queueMicrotask.bind(Pa):typeof process<"u"&&process.nextTick||iM,B={isArray:Eu,isArrayBuffer:JD,isBuffer:CK,isFormData:$K,isArrayBufferView:kK,isString:OK,isNumber:ZD,isBoolean:NK,isObject:Qy,isPlainObject:pm,isReadableStream:jK,isRequest:BK,isResponse:zK,isHeaders:qK,isUndefined:Lh,isDate:DK,isFile:MK,isBlob:LK,isRegExp:rQ,isFunction:zr,isStream:FK,isURLSearchParams:UK,isTypedArray:JK,isFileList:VK,forEach:Ef,merge:Mw,extend:HK,trim:WK,stripBOM:GK,inherits:KK,toFlatObject:QK,kindOf:Gy,kindOfTest:Vi,endsWith:YK,toArray:XK,forEachEntry:ZK,matchAll:eQ,isHTMLForm:tQ,hasOwnProperty:K1,hasOwnProp:K1,reduceDescriptors:nM,freezeMethods:iQ,toObjectSet:oQ,toCamelCase:nQ,noop:sQ,toFiniteNumber:aQ,findKey:eM,global:Pa,isContextDefined:tM,ALPHABET:rM,generateString:lQ,isSpecCompliantForm:cQ,toJSONObject:uQ,isAsyncFn:dQ,isThenable:hQ,setImmediate:iM,asap:fQ};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const oM=Ie.prototype,sM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sM[t]={value:t}});Object.defineProperties(Ie,sM);Object.defineProperty(oM,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,o)=>{const s=Object.create(oM);return B.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ie.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const pQ=null;function Lw(t){return B.isPlainObject(t)||B.isArray(t)}function aM(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function Y1(t,e,n){return t?t.concat(e).map(function(i,o){return i=aM(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function mQ(t){return B.isArray(t)&&!t.some(Lw)}const gQ=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Yy(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!B.isUndefined(E[_])});const r=n.metaTokens,i=n.visitor||d,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(B.isDate(g))return g.toISOString();if(!l&&B.isBlob(g))throw new Ie("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(g)||B.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,_,E){let v=g;if(g&&!E&&typeof g=="object"){if(B.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(B.isArray(g)&&mQ(g)||(B.isFileList(g)||B.endsWith(_,"[]"))&&(v=B.toArray(g)))return _=aM(_),v.forEach(function(w,S){!(B.isUndefined(w)||w===null)&&e.append(s===!0?Y1([_],S,o):s===null?_:_+"[]",c(w))}),!1}return Lw(g)?!0:(e.append(Y1(E,_,o),c(g)),!1)}const h=[],f=Object.assign(gQ,{defaultVisitor:d,convertValue:c,isVisitable:Lw});function p(g,_){if(!B.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(g),B.forEach(g,function(v,y){(!(B.isUndefined(v)||v===null)&&i.call(e,v,B.isString(y)?y.trim():y,_,f))===!0&&p(v,_?_.concat(y):[y])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return p(t),e}function X1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yT(t,e){this._pairs=[],t&&Yy(t,this,e)}const lM=yT.prototype;lM.append=function(e,n){this._pairs.push([e,n])};lM.toString=function(e){const n=e?function(r){return e.call(this,r,X1)}:X1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cM(t,e,n){if(!e)return t;const r=n&&n.encode||yQ,i=n&&n.serialize;let o;if(i?o=i(e,n):o=B.isURLSearchParams(e)?e.toString():new yT(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class J1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vQ=typeof URLSearchParams<"u"?URLSearchParams:yT,_Q=typeof FormData<"u"?FormData:null,wQ=typeof Blob<"u"?Blob:null,EQ={isBrowser:!0,classes:{URLSearchParams:vQ,FormData:_Q,Blob:wQ},protocols:["http","https","file","blob","url","data"]},vT=typeof window<"u"&&typeof document<"u",Vw=typeof navigator=="object"&&navigator||void 0,bQ=vT&&(!Vw||["ReactNative","NativeScript","NS"].indexOf(Vw.product)<0),TQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IQ=vT&&window.location.href||"http://localhost",SQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vT,hasStandardBrowserEnv:bQ,hasStandardBrowserWebWorkerEnv:TQ,navigator:Vw,origin:IQ},Symbol.toStringTag,{value:"Module"})),Pr={...SQ,...EQ};function RQ(t,e){return Yy(t,new Pr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Pr.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function PQ(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function dM(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&B.isArray(i)?i.length:s,l?(B.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!B.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&B.isArray(i[s])&&(i[s]=xQ(i[s])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(PQ(r),i,n,0)}),n}return null}function AQ(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const bf={transitional:uM,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(dM(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return RQ(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Yy(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),AQ(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ie.from(a,Ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{bf.headers[t]={}});const CQ=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&CQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Z1=Symbol("internals");function ud(t){return t&&String(t).trim().toLowerCase()}function mm(t){return t===!1||t==null?t:B.isArray(t)?t.map(mm):String(t)}function OQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const NQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function B_(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function DQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function MQ(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class xr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const d=ud(l);if(!d)throw new Error("header name must be a non-empty string");const h=B.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=mm(a))}const s=(a,l)=>B.forEach(a,(c,d)=>o(c,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(B.isString(e)&&(e=e.trim())&&!NQ(e))s(kQ(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=ud(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return OQ(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ud(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||B_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=ud(s),s){const a=B.findKey(r,s);a&&(!n||B_(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||B_(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,o)=>{const s=B.findKey(r,o);if(s){n[s]=mm(i),delete n[o];return}const a=e?DQ(o):String(o).trim();a!==o&&delete n[o],n[a]=mm(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Z1]=this[Z1]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ud(s);r[a]||(MQ(i,s),r[a]=!0)}return B.isArray(e)?e.forEach(o):o(e),this}}xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(xr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(xr);function z_(t,e){const n=this||bf,r=e||n,i=xr.from(r.headers);let o=r.data;return B.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function hM(t){return!!(t&&t.__CANCEL__)}function bu(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(bu,Ie,{__CANCEL__:!0});function fM(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LQ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VQ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[o];s||(s=c),n[i]=l,r[i]=c;let h=o,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function FQ(t,e){let n=0,r=1e3/e,i,o;const s=(c,d=Date.now())=>{n=d,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?s(c,d):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-h)))},()=>i&&s(i)]}const pg=(t,e,n=3)=>{let r=0;const i=VQ(50,250);return FQ(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),d=s<=a;r=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},ex=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},tx=t=>(...e)=>B.asap(()=>t(...e)),$Q=Pr.hasStandardBrowserEnv?function(){const e=Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=B.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),UQ=Pr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jQ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function BQ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function pM(t,e){return t&&!jQ(e)?BQ(t,e):e}const nx=t=>t instanceof xr?{...t}:t;function Ya(t,e){e=e||{};const n={};function r(c,d,h){return B.isPlainObject(c)&&B.isPlainObject(d)?B.merge.call({caseless:h},c,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(c,d,h){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c,h)}else return r(c,d,h)}function o(c,d){if(!B.isUndefined(d))return r(void 0,d)}function s(c,d){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>i(nx(c),nx(d),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);B.isUndefined(f)&&h!==a||(n[d]=f)}),n}const mM=t=>{const e=Ya({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=xr.from(s),e.url=cM(pM(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Pr.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&$Q(e.url))){const c=i&&o&&UQ.read(o);c&&s.set(i,c)}return e},zQ=typeof XMLHttpRequest<"u",qQ=zQ&&function(t){return new Promise(function(n,r){const i=mM(t);let o=i.data;const s=xr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,g;function _(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function v(){if(!E)return;const w=xr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:w,config:t,request:E};fM(function(T){n(T),_()},function(T){r(T),_()},k),E=null}"onloadend"in E?E.onloadend=v:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(v)},E.onabort=function(){E&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||uM;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new Ie(S,k.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,E)),E=null},o===void 0&&s.setContentType(null),"setRequestHeader"in E&&B.forEach(s.toJSON(),function(S,k){E.setRequestHeader(k,S)}),B.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),c&&([f,g]=pg(c,!0),E.addEventListener("progress",f)),l&&E.upload&&([h,p]=pg(l),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{E&&(r(!w||w.type?new bu(null,t,E):w),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const y=LQ(i.url);if(y&&Pr.protocols.indexOf(y)===-1){r(new Ie("Unsupported protocol "+y+":",Ie.ERR_BAD_REQUEST,t));return}E.send(o||null)})},WQ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof Ie?d:new bu(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,o(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},HQ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},GQ=async function*(t,e){for await(const n of KQ(t))yield*HQ(n,e)},KQ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},rx=(t,e,n,r)=>{const i=GQ(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let f=o+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Xy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gM=Xy&&typeof ReadableStream=="function",QQ=Xy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yM=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YQ=gM&&yM(()=>{let t=!1;const e=new Request(Pr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ix=64*1024,Fw=gM&&yM(()=>B.isReadableStream(new Response("").body)),mg={stream:Fw&&(t=>t.body)};Xy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!mg[e]&&(mg[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,r)})})})(new Response);const XQ=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(Pr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await QQ(t)).byteLength},JQ=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??XQ(e)},ZQ=Xy&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:f}=mM(t);c=c?(c+"").toLowerCase():"text";let p=WQ([i,o&&o.toAbortSignal()],s),g;const _=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let E;try{if(l&&YQ&&n!=="get"&&n!=="head"&&(E=await JQ(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(B.isFormData(r)&&(C=k.headers.get("content-type"))&&d.setContentType(C),k.body){const[T,I]=ex(E,pg(tx(l)));r=rx(k.body,ix,T,I)}}B.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let y=await fetch(g);const w=Fw&&(c==="stream"||c==="response");if(Fw&&(a||w&&_)){const k={};["status","statusText","headers"].forEach(R=>{k[R]=y[R]});const C=B.toFiniteNumber(y.headers.get("content-length")),[T,I]=a&&ex(C,pg(tx(a),!0))||[];y=new Response(rx(y.body,ix,T,()=>{I&&I(),_&&_()}),k)}c=c||"text";let S=await mg[B.findKey(mg,c)||"text"](y,t);return!w&&_&&_(),await new Promise((k,C)=>{fM(k,C,{data:S,headers:xr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(v){throw _&&_(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,t,g),{cause:v.cause||v}):Ie.from(v,v&&v.code,t,g)}}),$w={http:pQ,xhr:qQ,fetch:ZQ};B.forEach($w,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ox=t=>`- ${t}`,eY=t=>B.isFunction(t)||t===null||t===!1,vM={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!eY(n)&&(r=$w[(s=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(ox).join(`
`):" "+ox(o[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:$w};function q_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bu(null,t)}function sx(t){return q_(t),t.headers=xr.from(t.headers),t.data=z_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vM.getAdapter(t.adapter||bf.adapter)(t).then(function(r){return q_(t),r.data=z_.call(t,t.transformResponse,r),r.headers=xr.from(r.headers),r},function(r){return hM(r)||(q_(t),r&&r.response&&(r.response.data=z_.call(t,t.transformResponse,r.response),r.response.headers=xr.from(r.response.headers))),Promise.reject(r)})}const _M="1.7.7",_T={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_T[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ax={};_T.transitional=function(e,n,r){function i(o,s){return"[Axios v"+_M+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ie(i(s," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!ax[s]&&(ax[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function tY(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ie("option "+o+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+o,Ie.ERR_BAD_OPTION)}}const Uw={assertOptions:tY,validators:_T},os=Uw.validators;class La{constructor(e){this.defaults=e,this.interceptors={request:new J1,response:new J1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Uw.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:Uw.assertOptions(i,{encode:os.function,serialize:os.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&B.merge(o.common,o[n.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=xr.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let d,h=0,f;if(!l){const g=[sx.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,d=Promise.resolve(n);h<f;)d=d.then(g[h++],g[h++]);return d}f=a.length;let p=n;for(h=0;h<f;){const g=a[h++],_=a[h++];try{p=g(p)}catch(E){_.call(this,E);break}}try{d=sx.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Ya(this.defaults,e);const n=pM(e.baseURL,e.url);return cM(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){La.prototype[e]=function(n,r){return this.request(Ya(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Ya(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}La.prototype[e]=n(),La.prototype[e+"Form"]=n(!0)});class wT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new bu(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new wT(function(i){e=i}),cancel:e}}}function nY(t){return function(n){return t.apply(null,n)}}function rY(t){return B.isObject(t)&&t.isAxiosError===!0}const jw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jw).forEach(([t,e])=>{jw[e]=t});function wM(t){const e=new La(t),n=XD(La.prototype.request,e);return B.extend(n,La.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wM(Ya(t,i))},n}const at=wM(bf);at.Axios=La;at.CanceledError=bu;at.CancelToken=wT;at.isCancel=hM;at.VERSION=_M;at.toFormData=Yy;at.AxiosError=Ie;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=nY;at.isAxiosError=rY;at.mergeConfig=Ya;at.AxiosHeaders=xr;at.formToJSON=t=>dM(B.isHTMLForm(t)?new FormData(t):t);at.getAdapter=vM.getAdapter;at.HttpStatusCode=jw;at.default=at;function iY(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var EM=iY,oY=typeof Pi=="object"&&Pi&&Pi.Object===Object&&Pi,sY=oY,aY=sY,lY=typeof self=="object"&&self&&self.Object===Object&&self,cY=aY||lY||Function("return this")(),bM=cY,uY=bM,dY=function(){return uY.Date.now()},hY=dY,fY=/\s/;function pY(t){for(var e=t.length;e--&&fY.test(t.charAt(e)););return e}var mY=pY,gY=mY,yY=/^\s+/;function vY(t){return t&&t.slice(0,gY(t)+1).replace(yY,"")}var _Y=vY,wY=bM,EY=wY.Symbol,TM=EY,lx=TM,IM=Object.prototype,bY=IM.hasOwnProperty,TY=IM.toString,dd=lx?lx.toStringTag:void 0;function IY(t){var e=bY.call(t,dd),n=t[dd];try{t[dd]=void 0;var r=!0}catch{}var i=TY.call(t);return r&&(e?t[dd]=n:delete t[dd]),i}var SY=IY,RY=Object.prototype,PY=RY.toString;function xY(t){return PY.call(t)}var AY=xY,cx=TM,CY=SY,kY=AY,OY="[object Null]",NY="[object Undefined]",ux=cx?cx.toStringTag:void 0;function DY(t){return t==null?t===void 0?NY:OY:ux&&ux in Object(t)?CY(t):kY(t)}var MY=DY;function LY(t){return t!=null&&typeof t=="object"}var VY=LY,FY=MY,$Y=VY,UY="[object Symbol]";function jY(t){return typeof t=="symbol"||$Y(t)&&FY(t)==UY}var BY=jY,zY=_Y,dx=EM,qY=BY,hx=NaN,WY=/^[-+]0x[0-9a-f]+$/i,HY=/^0b[01]+$/i,GY=/^0o[0-7]+$/i,KY=parseInt;function QY(t){if(typeof t=="number")return t;if(qY(t))return hx;if(dx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zY(t);var n=HY.test(t);return n||GY.test(t)?KY(t.slice(2),n?2:8):WY.test(t)?hx:+t}var YY=QY,XY=EM,W_=hY,fx=YY,JY="Expected a function",ZY=Math.max,eX=Math.min;function tX(t,e,n){var r,i,o,s,a,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(JY);e=fx(e)||0,XY(n)&&(d=!!n.leading,h="maxWait"in n,o=h?ZY(fx(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(C){var T=r,I=i;return r=i=void 0,c=C,s=t.apply(I,T),s}function g(C){return c=C,a=setTimeout(v,e),d?p(C):s}function _(C){var T=C-l,I=C-c,R=e-T;return h?eX(R,o-I):R}function E(C){var T=C-l,I=C-c;return l===void 0||T>=e||T<0||h&&I>=o}function v(){var C=W_();if(E(C))return y(C);a=setTimeout(v,_(C))}function y(C){return a=void 0,f&&r?p(C):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:y(W_())}function k(){var C=W_(),T=E(C);if(r=arguments,i=this,l=C,T){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(v,e),p(l)}return a===void 0&&(a=setTimeout(v,e)),s}return k.cancel=w,k.flush=S,k}var nX=tX;const rX=uu(nX),iX=({token:t,setSearchCriterion:e})=>{const n=Bo(),r=He(p=>p.searchQuery),i=He(p=>p.allowShortPlaylists),o=He(p=>p.searchUsers),[s,a]=P.useState(""),l=async p=>{var g,_,E,v,y,w,S,k,C,T;if(p)try{if(o)try{const I=await at.get(`https://api.spotify.com/v1/users/${p}`,{headers:{Authorization:`Bearer ${t}`}}),R=[{id:I.data.id,name:I.data.display_name,image:(_=(g=I.data.images)==null?void 0:g[0])==null?void 0:_.url}];e("users",R),e("playlists",[]),e("artists",[]);const D=((v=(E=(await at.get(`https://api.spotify.com/v1/users/${I.data.id}/playlists`,{headers:{Authorization:`Bearer ${t}`}})).data)==null?void 0:E.items)==null?void 0:v.map(A=>{var z,q;return{id:A.id,name:A.name,image:(q=(z=A.images)==null?void 0:z[0])==null?void 0:q.url,totalTracks:A.tracks.total}}))||[],L=i?D:D.filter(A=>A.totalTracks>=60);e("playlists",L)}catch(I){I.response&&I.response.status===500?a("No matching user profiles found."):a("Error fetching data from Spotify API."),e("users",[])}else{const R=((S=(w=(y=(await at.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${t}`},params:{q:p,type:"playlist"}})).data)==null?void 0:y.playlists)==null?void 0:w.items)==null?void 0:S.map(A=>{var z,q;return{id:A.id,name:A.name,image:(q=(z=A.images)==null?void 0:z[0])==null?void 0:q.url,totalTracks:A.tracks.total}}))||[],x=i?R:R.filter(A=>A.totalTracks>=60),L=((T=(C=(k=(await at.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${t}`},params:{q:p,type:"artist"}})).data)==null?void 0:k.artists)==null?void 0:C.items)==null?void 0:T.map(A=>{var z,q;return{id:A.id,name:A.name,image:(q=(z=A.images)==null?void 0:z[0])==null?void 0:q.url}}))||[];e("playlists",x),e("artists",L),e("users",[])}}catch(I){console.error("Error fetching data from Spotify API:",I),a("Error fetching data from Spotify API.")}},c=P.useCallback(rX(p=>l(p),500),[i,o]),d=p=>{const g=p.target.value;n(e("playlists",[])),n(e("artists",[])),n(e("users",[])),n(TK(g)),c(g)},h=p=>{e("playlists",[]),e("artists",[]),e("users",[]),n(KD(p.target.checked))},f=()=>{a("")};return P.useEffect(()=>{r&&l(r)},[i,o]),M.jsxs("div",{style:{width:"100%"},children:[M.jsx(wK,{variant:"outlined",label:"So What's The Vibe",color:"secondary",value:r,onChange:d,fullWidth:!0}),M.jsx(Cw,{control:M.jsx(Nw,{checked:o,onChange:h,color:"secondary"}),label:"Search for other Users"}),M.jsx(JG,{open:!!s,autoHideDuration:6e3,onClose:f,children:M.jsx(Yq,{onClose:f,severity:"error",children:s})})]})},oX=t=>({token:t.auth.token}),sX={setSearchCriterion:Ec,setSearchUsers:KD},aX=B4(oX,sX)(iX);function lX(){const t=Bo(),e=He(p=>p.theme),n=He(p=>p.searchCriterion),r=He(p=>p.allowShortPlaylists),i=He(p=>p.auth),o=He(p=>p.searchQuery),s=He(p=>p.searchUsers),[a,l]=P.useState(null),[c,d]=P.useState(null),h=()=>{t(bK(!r))};P.useEffect(()=>{(async()=>{if(o==="")try{let _=(await at.get(`https://api.spotify.com/v1/users/${i.user.id}/playlists`,{headers:{Authorization:`Bearer ${i.token}`}})).data.items.map(y=>({id:y.id,name:y.name,image:y.images[0].url,tracks:y.tracks.total}));r||(_=_.filter(y=>y.tracks>=60));const v=(await at.get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:`Bearer ${i.token}`}})).data.items.map(y=>({id:y.id,name:y.name,image:y.images[0].url}));t(Ec("playlists",_)),t(Ec("artists",v))}catch(g){console.error("Error getting token or user info:",g)}})()},[t,r,o]);const f=(p,g)=>{t(Hy("GameScreen")),t(H1("source",p)),t(H1("sourceId",g))};return M.jsxs(be,{style:{width:"100vw",height:"calc(100vh - 70px)",display:"flex",justifyContent:"center",alignItems:"center",color:e.white,flexDirection:"column",position:"absolute",bottom:0,left:0},children:[M.jsx(be,{style:{width:"calc(100vw - 40px)",display:"flex",flex:1,color:e.white,flexDirection:"row",padding:"20px 20px 0px 20px",justifyContent:"center",alignItems:"center"},children:M.jsx(aX,{})}),s?M.jsxs(M.Fragment,{children:[M.jsx(be,{style:{width:"calc(100vw - 40px)",display:"flex",flex:2,color:e.white,flexDirection:"row",padding:"20px 20px 0px 20px"},children:M.jsxs(be,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",justifyContent:"center"},children:[M.jsx(ei,{text:"Matching Users",fontColor:e.white,fontWeight:700,fontSize:"20px"}),M.jsx(Fr,{in:n.users.length>0,timeout:750,children:M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",overflow:"auto",overflowY:"hidden"},children:n.users.map(p=>M.jsx(Vp,{arrow:!0,TransitionComponent:Dp,placement:"top",title:p.name,children:M.jsxs(be,{style:{border:"3px solid "+(a===p.id?"#AB47BC":"transparent"),display:"flex",width:"200px",maxHeight:"200px",margin:"0px 25px 0px 0px",color:e.white,flexDirection:"column",alignItems:"center",transition:"border-color 0.3s",cursor:"pointer",borderRadius:"5px",padding:"10px"},onMouseEnter:()=>l(p.id),onMouseLeave:()=>l(null),children:[M.jsx("img",{width:"75px",height:"75px",src:p.image,alt:""}),M.jsx(ei,{text:p.name.length>=16?`${p.name.slice(0,15)}...`:p.name,fontMargin:"10px 0px 0px 0px",fontColor:e.white,fontWeight:700,fontSize:"15px",fontFamily:"Trebuchet MS"})]},p.id)}))})})]})}),M.jsx(be,{style:{width:"calc(100vw - 40px)",display:"flex",flex:2,color:e.white,flexDirection:"row",padding:"20px 20px 0px 20px"},children:M.jsxs(be,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",justifyContent:"center"},children:[M.jsx(ei,{text:o===""?"Your Playlists":"Matching Playlists",fontColor:e.white,fontWeight:700,fontSize:"20px"}),M.jsx(Cw,{control:M.jsx(Nw,{checked:r,onChange:h,color:"secondary"}),label:"Allow for playlists with fewer than 60 songs",labelPlacement:"end",style:{color:e.white}}),M.jsx(Fr,{in:n.playlists.length>0,timeout:750,children:M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",overflow:"auto",overflowY:"hidden"},children:n.playlists.map(p=>M.jsx(Vp,{arrow:!0,TransitionComponent:Dp,placement:"top",title:p.name,children:M.jsxs(be,{onClick:()=>{f("playlist",p.id)},style:{border:"3px solid "+(a===p.id?"#AB47BC":"transparent"),display:"flex",width:"200px",maxHeight:"200px",margin:"0px 25px 0px 0px",color:e.white,flexDirection:"column",alignItems:"center",transition:"border-color 0.3s",cursor:"pointer",borderRadius:"5px",padding:"10px"},onMouseEnter:()=>l(p.id),onMouseLeave:()=>l(null),children:[M.jsx("img",{width:"75px",height:"75px",src:p.image,alt:""}),M.jsx(ei,{text:p.name.length>=16?`${p.name.slice(0,15)}...`:p.name,fontMargin:"10px 0px 0px 0px",fontColor:e.white,fontWeight:700,fontSize:"15px",fontFamily:"Trebuchet MS"})]},p.id)}))})})]})})]}):M.jsxs(M.Fragment,{children:[M.jsx(be,{style:{width:"calc(100vw - 40px)",display:"flex",flex:2,color:e.white,flexDirection:"row",padding:"20px 20px 0px 20px"},children:M.jsxs(be,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",justifyContent:"center"},children:[M.jsx(ei,{text:o===""?"Your Playlists":"Matching Playlists",fontColor:e.white,fontWeight:700,fontSize:"20px"}),M.jsx(Cw,{control:M.jsx(Nw,{checked:r,onChange:h,color:"secondary"}),label:"Allow for playlists with fewer than 60 songs",labelPlacement:"end",style:{color:e.white}}),!n.playlists.length>0&&M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"20px"},children:M.jsx(qc,{color:"secondary"})}),M.jsx(Fr,{in:n.playlists.length>0,timeout:750,children:M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",overflow:"auto",overflowY:"hidden"},children:n.playlists.map(p=>M.jsx(Vp,{arrow:!0,TransitionComponent:Dp,placement:"top",title:p.name,children:M.jsxs(be,{onClick:()=>{f("playlist",p.id)},style:{border:"3px solid "+(a===p.id?"#AB47BC":"transparent"),display:"flex",width:"200px",maxHeight:"200px",margin:"0px 25px 0px 0px",color:e.white,flexDirection:"column",alignItems:"center",transition:"border-color 0.3s",cursor:"pointer",borderRadius:"5px",padding:"10px"},onMouseEnter:()=>l(p.id),onMouseLeave:()=>l(null),children:[M.jsx("img",{width:"75px",height:"75px",src:p.image,alt:""}),M.jsx(ei,{text:p.name.length>=16?`${p.name.slice(0,15)}...`:p.name,fontMargin:"10px 0px 0px 0px",fontColor:e.white,fontWeight:700,fontSize:"15px",fontFamily:"Trebuchet MS"})]},p.id)}))})})]})}),M.jsx(be,{style:{width:"calc(100vw - 40px)",display:"flex",flex:2,color:e.white,flexDirection:"row",padding:"20px 20px 0px 20px"},children:M.jsxs(be,{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",justifyContent:"center"},children:[M.jsx(ei,{text:o===""?"Your Top Artists":"Matching Artists",fontColor:e.white,fontWeight:700,fontSize:"20px"}),!n.artists.length>0&&M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",marginTop:"20px"},children:M.jsx(qc,{color:"secondary"})}),M.jsx(Fr,{in:n.artists.length>0,timeout:750,children:M.jsx(be,{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%",alignItems:"center",overflow:"auto"},children:n.artists.map(p=>M.jsx(Vp,{arrow:!0,TransitionComponent:Dp,placement:"top",title:p.name,children:M.jsxs(be,{onClick:()=>{f("artist",p.id)},style:{border:"3px solid "+(c===p.id?"#AB47BC":"transparent"),display:"flex",width:"200px",maxHeight:"200px",margin:"0px 25px 0px 0px",color:e.white,flexDirection:"column",alignItems:"center",transition:"border-color 0.3s",cursor:"pointer",borderRadius:"5px",padding:"10px"},onMouseEnter:()=>d(p.id),onMouseLeave:()=>d(null),children:[M.jsx("img",{width:"75px",height:"75px",src:p.image,alt:""}),M.jsx(ei,{text:p.name.length>=17?`${p.name.slice(0,16)}...`:p.name,fontMargin:"10px 0px 0px 0px",fontColor:e.white,fontWeight:700,fontSize:"15px",fontFamily:"Trebuchet MS"})]},p.id)}))})})]})})]})]})}var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cX=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},RM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new uX;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dX=function(t){const e=SM(t);return RM.encodeByteArray(e,!0)},gg=function(t){return dX(t).replace(/\./g,"")},PM=function(t){try{return RM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hX(n)||(t[n]=yg(t[n],e[n]));return t}function hX(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=()=>xM().__FIREBASE_DEFAULTS__,pX=()=>{if(typeof process>"u"||typeof px>"u")return;const t=px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PM(t[1]);return e&&JSON.parse(e)},ET=()=>{try{return fX()||pX()||mX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AM=()=>{var t;return(t=ET())===null||t===void 0?void 0:t.config},gX=t=>{var e;return(e=ET())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gg(JSON.stringify(n)),gg(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function bT(){var t;const e=(t=ET())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _X(){return typeof window<"u"||kM()}function kM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function wX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OM(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NM(){return!bT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wc(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function EX(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bX,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?TX(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}}function TX(t,e){return t.replace(IX,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IX=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function SX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(gx(o)&&gx(s)){if(!Vh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ad(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MM(t,e){const n=new RX(t,e);return n.subscribe.bind(n)}class RX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H_),i.error===void 0&&(i.error=H_),i.complete===void 0&&(i.complete=H_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX=1e3,AX=2,CX=4*60*60*1e3,kX=.5;function yx(t,e=xX,n=AX){const r=e*Math.pow(n,t),i=Math.round(kX*r*(Math.random()-.5)*2);return Math.min(CX,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yX;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DX(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NX(t){return t===ma?void 0:t}function DX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=[];var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const VM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},MX=ke.INFO,LX={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},VX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=MX,this._logHandler=VX,this._userLogHandler=null,ST.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}function FX(t){ST.forEach(e=>{e.setLogLevel(t)})}function $X(t,e){for(const n of ST){let r=null;e&&e.level&&(r=VM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(r??i.logLevel)&&t({level:ke[o].toLowerCase(),message:a,args:s,type:i.name})}}}const UX=(t,e)=>e.some(n=>t instanceof n);let vx,_x;function jX(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BX(){return _x||(_x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FM=new WeakMap,Bw=new WeakMap,$M=new WeakMap,G_=new WeakMap,RT=new WeakMap;function zX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Cs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FM.set(n,t)}).catch(()=>{}),RT.set(e,t),e}function qX(t){if(Bw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bw.set(t,e)}let zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$M.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WX(t){zw=t(zw)}function HX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K_(this),e,...n);return $M.set(r,e.sort?e.sort():[e]),Cs(r)}:BX().includes(t)?function(...e){return t.apply(K_(this),e),Cs(FM.get(this))}:function(...e){return Cs(t.apply(K_(this),e))}}function GX(t){return typeof t=="function"?HX(t):(t instanceof IDBTransaction&&qX(t),UX(t,jX())?new Proxy(t,zw):t)}function Cs(t){if(t instanceof IDBRequest)return zX(t);if(G_.has(t))return G_.get(t);const e=GX(t);return e!==t&&(G_.set(t,e),RT.set(e,t)),e}const K_=t=>RT.get(t);function UM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Cs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Cs(s.result),l.oldVersion,l.newVersion,Cs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const KX=["get","getKey","getAll","getAllKeys","count"],QX=["put","add","delete","clear"],Q_=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q_.get(e))return Q_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KX.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Q_.set(e,o),o}WX(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vg="@firebase/app",qw="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Tf("@firebase/app"),JX="@firebase/app-compat",ZX="@firebase/analytics-compat",eJ="@firebase/analytics",tJ="@firebase/app-check-compat",nJ="@firebase/app-check",rJ="@firebase/auth",iJ="@firebase/auth-compat",oJ="@firebase/database",sJ="@firebase/database-compat",aJ="@firebase/functions",lJ="@firebase/functions-compat",cJ="@firebase/installations",uJ="@firebase/installations-compat",dJ="@firebase/messaging",hJ="@firebase/messaging-compat",fJ="@firebase/performance",pJ="@firebase/performance-compat",mJ="@firebase/remote-config",gJ="@firebase/remote-config-compat",yJ="@firebase/storage",vJ="@firebase/storage-compat",_J="@firebase/firestore",wJ="@firebase/vertexai-preview",EJ="@firebase/firestore-compat",bJ="firebase",TJ="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]",IJ={[vg]:"fire-core",[JX]:"fire-core-compat",[eJ]:"fire-analytics",[ZX]:"fire-analytics-compat",[nJ]:"fire-app-check",[tJ]:"fire-app-check-compat",[rJ]:"fire-auth",[iJ]:"fire-auth-compat",[oJ]:"fire-rtdb",[sJ]:"fire-rtdb-compat",[aJ]:"fire-fn",[lJ]:"fire-fn-compat",[cJ]:"fire-iid",[uJ]:"fire-iid-compat",[dJ]:"fire-fcm",[hJ]:"fire-fcm-compat",[fJ]:"fire-perf",[pJ]:"fire-perf-compat",[mJ]:"fire-rc",[gJ]:"fire-rc-compat",[yJ]:"fire-gcs",[vJ]:"fire-gcs-compat",[_J]:"fire-fst",[EJ]:"fire-fst-compat",[wJ]:"fire-vertex","fire-js":"fire-js",[bJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Map,Hc=new Map,Gc=new Map;function Fh(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jM(t,e){t.container.addOrOverwriteComponent(e)}function Hr(t){const e=t.name;if(Gc.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;Gc.set(e,t);for(const n of Ls.values())Fh(n,t);for(const n of Hc.values())Fh(n,t);return!0}function Jy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function SJ(t,e,n=Ms){Jy(t,e).clearInstance(n)}function BM(t){return t.options!==void 0}function Vt(t){return t.settings!==void 0}function RJ(){Gc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new qo("app","Firebase",PJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zM=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ extends zM{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{const a=e;super(a.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,vn(vg,qw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){xT(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ui.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=TJ;function PT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ms,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=AM()),!n)throw ui.create("no-options");const o=Ls.get(i);if(o){if(Vh(n,o.options)&&Vh(r,o.config))return o;throw ui.create("duplicate-app",{appName:i})}const s=new LM(i);for(const l of Gc.values())s.addComponent(l);const a=new zM(n,r,s);return Ls.set(i,a),a}function AJ(t,e){if(_X()&&!kM())throw ui.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;BM(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ui.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),s=Hc.get(o);if(s)return s.incRefCount(e.releaseOnDeref),s;const a=new LM(o);for(const c of Gc.values())a.addComponent(c);const l=new xJ(n,e,o,a);return Hc.set(o,l),l}function CJ(t=Ms){const e=Ls.get(t);if(!e&&t===Ms&&AM())return PT();if(!e)throw ui.create("no-app",{appName:t});return e}function kJ(){return Array.from(Ls.values())}async function xT(t){let e=!1;const n=t.name;Ls.has(n)?(e=!0,Ls.delete(n)):Hc.has(n)&&t.decRefCount()<=0&&(Hc.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function vn(t,e,n){var r;let i=(r=IJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}Hr(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function qM(t,e){if(t!==null&&typeof t!="function")throw ui.create("invalid-log-argument");$X(t,e)}function WM(t){FX(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ="firebase-heartbeat-database",NJ=1,$h="firebase-heartbeat-store";let Y_=null;function HM(){return Y_||(Y_=UM(OJ,NJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($h)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Y_}async function DJ(t){try{const n=(await HM()).transaction($h),r=await n.objectStore($h).get(GM(t));return await n.done,r}catch(e){if(e instanceof yn)Lo.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function Ex(t,e){try{const r=(await HM()).transaction($h,"readwrite");await r.objectStore($h).put(e,GM(t)),await r.done}catch(n){if(n instanceof yn)Lo.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function GM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=1024,LJ=30*24*60*60*1e3;class VJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $J(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=LJ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bx(),{heartbeatsToSend:r,unsentEntries:i}=FJ(this._heartbeatsCache.heartbeats),o=gg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Lo.warn(n),""}}}function bx(){return new Date().toISOString().substring(0,10)}function FJ(t,e=MJ){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Tx(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $J{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wc()?DM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tx(t){return gg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(t){Hr(new Qn("platform-logger",e=>new YX(e),"PRIVATE")),Hr(new Qn("heartbeat",e=>new VJ(e),"PRIVATE")),vn(vg,qw,t),vn(vg,qw,"esm2017"),vn("fire-js","")}UJ("");const jJ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Wo,_DEFAULT_ENTRY_NAME:Ms,_addComponent:Fh,_addOrOverwriteComponent:jM,_apps:Ls,_clearComponents:RJ,_components:Gc,_getProvider:Jy,_isFirebaseApp:BM,_isFirebaseServerApp:Vt,_registerComponent:Hr,_removeServiceInstance:SJ,_serverApps:Hc,deleteApp:xT,getApp:CJ,getApps:kJ,initializeApp:PT,initializeServerApp:AJ,onLog:qM,registerVersion:vn,setLogLevel:WM},Symbol.toStringTag,{value:"Module"}));var Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,KM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function R(){}R.prototype=I.prototype,T.D=I.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(x,D,L){for(var A=Array(arguments.length-2),z=2;z<arguments.length;z++)A[z-2]=arguments[z];return I.prototype[D].apply(x,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)x[D]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(D=0;16>D;++D)x[D]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=T.g[0],R=T.g[1],D=T.g[2];var L=T.g[3],A=I+(L^R&(D^L))+x[0]+3614090360&4294967295;I=R+(A<<7&4294967295|A>>>25),A=L+(D^I&(R^D))+x[1]+3905402710&4294967295,L=I+(A<<12&4294967295|A>>>20),A=D+(R^L&(I^R))+x[2]+606105819&4294967295,D=L+(A<<17&4294967295|A>>>15),A=R+(I^D&(L^I))+x[3]+3250441966&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(L^R&(D^L))+x[4]+4118548399&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(D^I&(R^D))+x[5]+1200080426&4294967295,L=I+(A<<12&4294967295|A>>>20),A=D+(R^L&(I^R))+x[6]+2821735955&4294967295,D=L+(A<<17&4294967295|A>>>15),A=R+(I^D&(L^I))+x[7]+4249261313&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(L^R&(D^L))+x[8]+1770035416&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(D^I&(R^D))+x[9]+2336552879&4294967295,L=I+(A<<12&4294967295|A>>>20),A=D+(R^L&(I^R))+x[10]+4294925233&4294967295,D=L+(A<<17&4294967295|A>>>15),A=R+(I^D&(L^I))+x[11]+2304563134&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(L^R&(D^L))+x[12]+1804603682&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(D^I&(R^D))+x[13]+4254626195&4294967295,L=I+(A<<12&4294967295|A>>>20),A=D+(R^L&(I^R))+x[14]+2792965006&4294967295,D=L+(A<<17&4294967295|A>>>15),A=R+(I^D&(L^I))+x[15]+1236535329&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(D^L&(R^D))+x[1]+4129170786&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^D&(I^R))+x[6]+3225465664&4294967295,L=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(L^I))+x[11]+643717713&4294967295,D=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(D^L))+x[0]+3921069994&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^L&(R^D))+x[5]+3593408605&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^D&(I^R))+x[10]+38016083&4294967295,L=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(L^I))+x[15]+3634488961&4294967295,D=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(D^L))+x[4]+3889429448&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^L&(R^D))+x[9]+568446438&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^D&(I^R))+x[14]+3275163606&4294967295,L=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(L^I))+x[3]+4107603335&4294967295,D=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(D^L))+x[8]+1163531501&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^L&(R^D))+x[13]+2850285829&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^D&(I^R))+x[2]+4243563512&4294967295,L=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(L^I))+x[7]+1735328473&4294967295,D=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(D^L))+x[12]+2368359562&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(R^D^L)+x[5]+4294588738&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^D)+x[8]+2272392833&4294967295,L=I+(A<<11&4294967295|A>>>21),A=D+(L^I^R)+x[11]+1839030562&4294967295,D=L+(A<<16&4294967295|A>>>16),A=R+(D^L^I)+x[14]+4259657740&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^L)+x[1]+2763975236&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^D)+x[4]+1272893353&4294967295,L=I+(A<<11&4294967295|A>>>21),A=D+(L^I^R)+x[7]+4139469664&4294967295,D=L+(A<<16&4294967295|A>>>16),A=R+(D^L^I)+x[10]+3200236656&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^L)+x[13]+681279174&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^D)+x[0]+3936430074&4294967295,L=I+(A<<11&4294967295|A>>>21),A=D+(L^I^R)+x[3]+3572445317&4294967295,D=L+(A<<16&4294967295|A>>>16),A=R+(D^L^I)+x[6]+76029189&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^L)+x[9]+3654602809&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^D)+x[12]+3873151461&4294967295,L=I+(A<<11&4294967295|A>>>21),A=D+(L^I^R)+x[15]+530742520&4294967295,D=L+(A<<16&4294967295|A>>>16),A=R+(D^L^I)+x[2]+3299628645&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(D^(R|~L))+x[0]+4096336452&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~D))+x[7]+1126891415&4294967295,L=I+(A<<10&4294967295|A>>>22),A=D+(I^(L|~R))+x[14]+2878612391&4294967295,D=L+(A<<15&4294967295|A>>>17),A=R+(L^(D|~I))+x[5]+4237533241&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~L))+x[12]+1700485571&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~D))+x[3]+2399980690&4294967295,L=I+(A<<10&4294967295|A>>>22),A=D+(I^(L|~R))+x[10]+4293915773&4294967295,D=L+(A<<15&4294967295|A>>>17),A=R+(L^(D|~I))+x[1]+2240044497&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~L))+x[8]+1873313359&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~D))+x[15]+4264355552&4294967295,L=I+(A<<10&4294967295|A>>>22),A=D+(I^(L|~R))+x[6]+2734768916&4294967295,D=L+(A<<15&4294967295|A>>>17),A=R+(L^(D|~I))+x[13]+1309151649&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~L))+x[4]+4149444226&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~D))+x[11]+3174756917&4294967295,L=I+(A<<10&4294967295|A>>>22),A=D+(I^(L|~R))+x[2]+718787259&4294967295,D=L+(A<<15&4294967295|A>>>17),A=R+(L^(D|~I))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+L&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var R=I-this.blockSize,x=this.B,D=this.h,L=0;L<I;){if(D==0)for(;L<=R;)i(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<I;)if(x[D++]=T.charCodeAt(L++),D==this.blockSize){i(this,x),D=0;break}}else for(;L<I;)if(x[D++]=T[L++],D==this.blockSize){i(this,x),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var R=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=R&255,R/=256;for(this.u(T),T=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)T[R++]=this.g[I]>>>x&255;return T};function o(T,I){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=I(T)}function s(T,I){this.h=I;for(var R=[],x=!0,D=T.length-1;0<=D;D--){var L=T[D]|0;x&&L==I||(R[D]=L,x=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return E(c(-T));for(var I=[],R=1,x=0;T>=R;x++)I[x]=T/R|0,R*=4294967296;return new s(I,0)}function d(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return E(d(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),x=h,D=0;D<T.length;D+=8){var L=Math.min(8,T.length-D),A=parseInt(T.substring(D,D+L),I);8>L?(L=c(Math.pow(I,L)),x=x.j(L).add(c(A))):(x=x.j(R),x=x.add(c(A)))}return x}var h=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-E(this).m();for(var T=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);T+=(0<=x?x:4294967296+x)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+E(this).toString(T);for(var I=c(Math.pow(T,6)),R=this,x="";;){var D=S(R,I).g;R=v(R,D.j(I));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=D,g(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=v(this,T),_(T)?-1:g(T)?0:1};function E(T){for(var I=T.g.length,R=[],x=0;x<I;x++)R[x]=~T.g[x];return new s(R,~T.h).add(f)}t.abs=function(){return _(this)?E(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],x=0,D=0;D<=I;D++){var L=x+(this.i(D)&65535)+(T.i(D)&65535),A=(L>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);x=A>>>16,L&=65535,A&=65535,R[D]=A<<16|L}return new s(R,R[R.length-1]&-2147483648?-1:0)};function v(T,I){return T.add(E(I))}t.j=function(T){if(g(this)||g(T))return h;if(_(this))return _(T)?E(this).j(E(T)):E(E(this).j(T));if(_(T))return E(this.j(E(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var I=this.g.length+T.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<T.g.length;D++){var L=this.i(x)>>>16,A=this.i(x)&65535,z=T.i(D)>>>16,q=T.i(D)&65535;R[2*x+2*D]+=A*q,y(R,2*x+2*D),R[2*x+2*D+1]+=L*q,y(R,2*x+2*D+1),R[2*x+2*D+1]+=A*z,y(R,2*x+2*D+1),R[2*x+2*D+2]+=L*z,y(R,2*x+2*D+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new s(R,0)};function y(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function w(T,I){this.g=T,this.h=I}function S(T,I){if(g(I))throw Error("division by zero");if(g(T))return new w(h,h);if(_(T))return I=S(E(T),I),new w(E(I.g),E(I.h));if(_(I))return I=S(T,E(I)),new w(E(I.g),I.h);if(30<T.g.length){if(_(T)||_(I))throw Error("slowDivide_ only works with positive integers.");for(var R=f,x=I;0>=x.l(T);)R=k(R),x=k(x);var D=C(R,1),L=C(x,1);for(x=C(x,2),R=C(R,2);!g(x);){var A=L.add(x);0>=A.l(T)&&(D=D.add(R),L=A),x=C(x,1),R=C(R,1)}return I=v(T,D.j(I)),new w(D,I)}for(D=h;0<=T.l(I);){for(R=Math.max(1,Math.floor(T.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=c(R),A=L.j(I);_(A)||0<A.l(T);)R-=x,L=c(R),A=L.j(I);g(L)&&(L=f),D=D.add(L),T=v(T,A)}return new w(D,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&T.i(x);return new s(R,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|T.i(x);return new s(R,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^T.i(x);return new s(R,this.h^T.h)};function k(T){for(var I=T.g.length+1,R=[],x=0;x<I;x++)R[x]=T.i(x)<<1|T.i(x-1)>>>31;return new s(R,T.h)}function C(T,I){var R=I>>5;I%=32;for(var x=T.g.length-R,D=[],L=0;L<x;L++)D[L]=0<I?T.i(L+R)>>>I|T.i(L+R+1)<<32-I:T.i(L+R);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Va=s}).apply(typeof Ix<"u"?Ix:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QM,YM,Cd,XM,gm,Ww,JM,ZM,eL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,b){return u==Array.prototype||u==Object.prototype||(u[m]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var b=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var V=u[O];if(!(V in b))break e;b=b[V]}u=u[u.length-1],O=b[u],m=m(O),m!=O&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}function o(u,m){u instanceof String&&(u+="");var b=0,O=!1,V={next:function(){if(!O&&b<u.length){var j=b++;return{value:m(j,u[j]),done:!1}}return O=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return o(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,b){return u.call.apply(u.bind,arguments)}function h(u,m,b){if(!u)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,O),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function f(u,m,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var O=b.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function g(u,m){function b(){}b.prototype=m.prototype,u.aa=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(O,V,j){for(var J=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)J[ct-2]=arguments[ct];return m.prototype[V].apply(O,J)}}function _(u){const m=u.length;if(0<m){const b=Array(m);for(let O=0;O<m;O++)b[O]=u[O];return b}return[]}function E(u,m){for(let b=1;b<arguments.length;b++){const O=arguments[b];if(l(O)){const V=u.length||0,j=O.length||0;u.length=V+j;for(let J=0;J<j;J++)u[V+J]=O[J]}else u.push(O)}}class v{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function S(u){return S[" "](u),u}S[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(u,m,b){for(const O in u)m.call(b,u[O],O,u)}function T(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function I(u){const m={};for(const b in u)m[b]=u[b];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let b,O;for(let V=1;V<arguments.length;V++){O=arguments[V];for(b in O)u[b]=O[b];for(let j=0;j<R.length;j++)b=R[j],Object.prototype.hasOwnProperty.call(O,b)&&(u[b]=O[b])}}function D(u){var m=1;u=u.split(":");const b=[];for(;0<m&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function L(u){a.setTimeout(()=>{throw u},0)}function A(){var u=G;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class z{constructor(){this.h=this.g=null}add(m,b){const O=q.get();O.set(m,b),this.h?this.h.next=O:this.g=O,this.h=O}}var q=new v(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,$=!1,G=new z,Z=()=>{const u=a.Promise.resolve(void 0);Q=()=>{u.then(ye)}};var ye=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(b){L(b)}var m=q;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}$=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return u}();function ve(u,m){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(k){e:{try{S(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement);this.relatedTarget=m,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}g(ve,ue);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Re(u,m,b,O,V){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!O,this.ha=V,this.key=++Fe,this.da=this.fa=!1}function tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,m,b,O,V){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=ge(u,m,O,V);return-1<J?(m=u[J],b||(m.fa=!1)):(m=new Re(m,this.src,j,!!O,V),m.fa=b,u.push(m)),m};function Ee(u,m){var b=m.type;if(b in u.g){var O=u.g[b],V=Array.prototype.indexOf.call(O,m,void 0),j;(j=0<=V)&&Array.prototype.splice.call(O,V,1),j&&(tt(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ge(u,m,b,O){for(var V=0;V<u.length;++V){var j=u[V];if(!j.da&&j.listener==m&&j.capture==!!b&&j.ha==O)return V}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),xe={};function Tn(u,m,b,O,V){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Tn(u,m[j],b,O,V);return null}return b=Xt(b),u&&u[Ne]?u.K(m,b,c(O)?!!O.capture:!!O,V):nn(u,m,b,!1,O,V)}function nn(u,m,b,O,V,j){if(!m)throw Error("Invalid event type");var J=c(V)?!!V.capture:!!V,ct=ft(u);if(ct||(u[Ce]=ct=new we(u)),b=ct.add(m,b,O,J,j),b.proxy)return b;if(O=kt(),b.proxy=O,O.src=u,O.listener=b,u.addEventListener)de||(V=J),V===void 0&&(V=!1),u.addEventListener(m.toString(),O,V);else if(u.attachEvent)u.attachEvent(qe(m.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return b}function kt(){function u(b){return m.call(u.src,u.listener,b)}const m=on;return u}function rn(u,m,b,O,V){if(Array.isArray(m))for(var j=0;j<m.length;j++)rn(u,m[j],b,O,V);else O=c(O)?!!O.capture:!!O,b=Xt(b),u&&u[Ne]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],b=ge(j,b,O,V),-1<b&&(tt(j[b]),Array.prototype.splice.call(j,b,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=ft(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,b,O,V)),(b=-1<u?m[u]:null)&&st(b))}function st(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])Ee(m.i,u);else{var b=u.type,O=u.proxy;m.removeEventListener?m.removeEventListener(b,O,u.capture):m.detachEvent?m.detachEvent(qe(b),O):m.addListener&&m.removeListener&&m.removeListener(O),(b=ft(m))?(Ee(b,u),b.h==0&&(b.src=null,m[Ce]=null)):tt(u)}}}function qe(u){return u in xe?xe[u]:xe[u]="on"+u}function on(u,m){if(u.da)u=!0;else{m=new ve(m,this);var b=u.listener,O=u.ha||u.src;u.fa&&st(u),u=b.call(O,m)}return u}function ft(u){return u=u[Ce],u instanceof we?u:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xt(u){return typeof u=="function"?u:(u[$e]||(u[$e]=function(m){return u.handleEvent(m)}),u[$e])}function We(){se.call(this),this.i=new we(this),this.M=this,this.F=null}g(We,se),We.prototype[Ne]=!0,We.prototype.removeEventListener=function(u,m,b,O){rn(this,u,m,b,O)};function Ye(u,m){var b,O=u.F;if(O)for(b=[];O;O=O.F)b.push(O);if(u=u.M,O=m.type||m,typeof m=="string")m=new ue(m,u);else if(m instanceof ue)m.target=m.target||u;else{var V=m;m=new ue(O,u),x(m,V)}if(V=!0,b)for(var j=b.length-1;0<=j;j--){var J=m.g=b[j];V=De(J,O,!0,m)&&V}if(J=m.g=u,V=De(J,O,!0,m)&&V,V=De(J,O,!1,m)&&V,b)for(j=0;j<b.length;j++)J=m.g=b[j],V=De(J,O,!1,m)&&V}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var b=u.g[m],O=0;O<b.length;O++)tt(b[O]);delete u.g[m],u.h--}}this.F=null},We.prototype.K=function(u,m,b,O){return this.i.add(String(u),m,!1,b,O)},We.prototype.L=function(u,m,b,O){return this.i.add(String(u),m,!0,b,O)};function De(u,m,b,O){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==b){var ct=J.listener,xn=J.ha||J.src;J.fa&&Ee(u.i,J),V=ct.call(xn,O)!==!1&&V}}return V&&!O.defaultPrevented}function pe(u,m,b){if(typeof u=="function")b&&(u=f(u,b));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Ot(u){u.g=pe(()=>{u.g=null,u.i&&(u.i=!1,Ot(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wi extends se{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){se.call(this),this.h=u,this.g={}}g(In,se);var fe=[];function Xe(u){C(u.g,function(m,b){this.g.hasOwnProperty(b)&&st(m)},u),u.g={}}In.prototype.N=function(){In.aa.N.call(this),Xe(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=a.JSON.stringify,kr=a.JSON.parse,Jo=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function El(){}El.prototype.h=null;function Gf(u){return u.h||(u.h=u.i())}function Kf(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bl(){ue.call(this,"d")}g(bl,ue);function Tl(){ue.call(this,"c")}g(Tl,ue);var Fi={},Lu=null;function Il(){return Lu=Lu||new We}Fi.La="serverreachability";function Qf(u){ue.call(this,Fi.La,u)}g(Qf,ue);function ra(u){const m=Il();Ye(m,new Qf(m))}Fi.STAT_EVENT="statevent";function Sl(u,m){ue.call(this,Fi.STAT_EVENT,u),this.stat=m}g(Sl,ue);function Sn(u){const m=Il();Ye(m,new Sl(m,u))}Fi.Ma="timingevent";function Zo(u,m){ue.call(this,Fi.Ma,u),this.size=m}g(Zo,ue);function fo(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function ia(u,m,b,O,V,j){u.info(function(){if(u.g)if(j)for(var J="",ct=j.split("&"),xn=0;xn<ct.length;xn++){var Qe=ct[xn].split("=");if(1<Qe.length){var $n=Qe[0];Qe=Qe[1];var Un=$n.split("_");J=2<=Un.length&&Un[1]=="type"?J+($n+"="+Qe+"&"):J+($n+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+O+") [attempt "+V+"]: "+m+`
`+b+`
`+J})}function qv(u,m,b,O,V,j,J){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+V+"]: "+m+`
`+b+`
`+j+" "+J})}function Jr(u,m,b,O){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yf(u,b)+(O?" "+O:"")})}function Vu(u,m){u.info(function(){return"TIMEOUT: "+m})}Rn.prototype.info=function(){};function Yf(u,m){if(!u.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var O=b[u];if(!(2>O.length)){var V=O[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<V.length;J++)V[J]=""}}}}return ut(b)}catch{return m}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rl;function Pl(){}g(Pl,El),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},Rl=new Pl;function $i(u,m,b,O){this.j=u,this.i=m,this.l=b,this.R=O||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var Jf={},Pe={};function Pn(u,m,b){u.L=1,u.v=np(po(m)),u.m=b,u.P=!0,ES(u,null)}function ES(u,m){u.F=Date.now(),Zf(u),u.A=po(u.v);var b=u.A,O=u.R;Array.isArray(O)||(O=[String(O)]),MS(b.i,"t",O),u.C=0,b=u.j.J,u.h=new Xf,u.g=ZS(u.j,b?m:null,!u.m),0<u.O&&(u.M=new wi(f(u.Y,u,u.g),u.O)),m=u.U,b=u.g,O=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(fe[0]=V.toString()),V=fe);for(var j=0;j<V.length;j++){var J=Tn(b,V[j],O||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ra(),ia(u.i,u.u,u.A,u.l,u.R,u.m)}$i.prototype.ca=function(u){u=u.target;const m=this.M;m&&mo(u)==3?m.j():this.Y(u)},$i.prototype.Y=function(u){try{if(u==this.g)e:{const Un=mo(this.g);var m=this.g.Ba();const Cl=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||BS(this.g)))){this.J||Un!=4||m==7||(m==8||0>=Cl?ra(3):ra(2)),Wv(this);var b=this.g.Z();this.X=b;t:if(bS(this)){var O=BS(this.g);u="";var V=O.length,j=mo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),$u(this);var J="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(O[m],{stream:!(j&&m==V-1)});O.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=b==200,qv(this.i,this.u,this.A,this.l,this.R,Un,b),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,xn=this.g;if((ct=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ct)){var Qe=ct;break t}}Qe=null}if(b=Qe)Jr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hv(this,b);else{this.o=!1,this.s=3,Sn(12),sa(this),$u(this);break e}}if(this.P){b=!0;let Ei;for(;!this.J&&this.C<J.length;)if(Ei=X$(this,J),Ei==Pe){Un==4&&(this.s=4,Sn(14),b=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ei==Jf){this.s=4,Sn(15),Jr(this.i,this.l,J,"[Invalid Chunk]"),b=!1;break}else Jr(this.i,this.l,Ei,null),Hv(this,Ei);if(bS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||J.length!=0||this.h.h||(this.s=1,Sn(16),b=!1),this.o=this.o&&b,!b)Jr(this.i,this.l,J,"[Invalid Chunked Response]"),sa(this),$u(this);else if(0<J.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Jv($n),$n.M=!0,Sn(11))}}else Jr(this.i,this.l,J,null),Hv(this,J);Un==4&&sa(this),this.o&&!this.J&&(Un==4?QS(this.j,this):(this.o=!1,Zf(this)))}else pU(this.g),b==400&&0<J.indexOf("Unknown SID")?(this.s=3,Sn(12)):(this.s=0,Sn(13)),sa(this),$u(this)}}}catch{}finally{}};function bS(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function X$(u,m){var b=u.C,O=m.indexOf(`
`,b);return O==-1?Pe:(b=Number(m.substring(b,O)),isNaN(b)?Jf:(O+=1,O+b>m.length?Pe:(m=m.slice(O,O+b),u.C=O+b,m)))}$i.prototype.cancel=function(){this.J=!0,sa(this)};function Zf(u){u.S=Date.now()+u.I,TS(u,u.I)}function TS(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fo(f(u.ba,u),m)}function Wv(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$i.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Vu(this.i,this.A),this.L!=2&&(ra(),Sn(17)),sa(this),this.s=2,$u(this)):TS(this,this.S-u)};function $u(u){u.j.G==0||u.J||QS(u.j,u)}function sa(u){Wv(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Hv(u,m){try{var b=u.j;if(b.G!=0&&(b.g==u||Gv(b.h,u))){if(!u.K&&Gv(b.h,u)&&b.G==3){try{var O=b.Da.g.parse(m)}catch{O=null}if(Array.isArray(O)&&O.length==3){var V=O;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ap(b),op(b);else break e;Xv(b),Sn(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=fo(f(b.Za,b),6e3));if(1>=RS(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else la(b,11)}else if((u.K||b.g==u)&&ap(b),!y(m))for(V=b.Da.g.parse(m),m=0;m<V.length;m++){let Qe=V[m];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const $n=Qe[3];$n!=null&&(b.la=$n,b.j.info("VER="+b.la));const Un=Qe[4];Un!=null&&(b.Aa=Un,b.j.info("SVER="+b.Aa));const Cl=Qe[5];Cl!=null&&typeof Cl=="number"&&0<Cl&&(O=1.5*Cl,b.L=O,b.j.info("backChannelRequestTimeoutMs_="+O)),O=b;const Ei=u.g;if(Ei){const cp=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cp){var j=O.h;j.g||cp.indexOf("spdy")==-1&&cp.indexOf("quic")==-1&&cp.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Kv(j,j.h),j.h=null))}if(O.D){const Zv=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Zv&&(O.ya=Zv,pt(O.I,O.D,Zv))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),O=b;var J=u;if(O.qa=JS(O,O.J?O.ia:null,O.W),J.K){PS(O.h,J);var ct=J,xn=O.L;xn&&(ct.I=xn),ct.B&&(Wv(ct),Zf(ct)),O.g=J}else GS(O);0<b.i.length&&sp(b)}else Qe[0]!="stop"&&Qe[0]!="close"||la(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?la(b,7):Yv(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}ra(4)}catch{}}var J$=class{constructor(u,m){this.g=u,this.map=m}};function IS(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SS(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function RS(u){return u.h?1:u.g?u.g.size:0}function Gv(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Kv(u,m){u.g?u.g.add(m):u.h=m}function PS(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}IS.prototype.cancel=function(){if(this.i=xS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xS(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.D);return m}return _(u.i)}function Z$(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],b=u.length,O=0;O<b;O++)m.push(u[O]);return m}m=[],b=0;for(O in u)m[b++]=u[O];return m}function eU(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var b=0;b<u;b++)m.push(b);return m}m=[],b=0;for(const O in u)m[b++]=O;return m}}}function AS(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var b=eU(u),O=Z$(u),V=O.length,j=0;j<V;j++)m.call(void 0,O[j],b&&b[j],u)}var CS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tU(u,m){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var O=u[b].indexOf("="),V=null;if(0<=O){var j=u[b].substring(0,O);V=u[b].substring(O+1)}else j=u[b];m(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function aa(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof aa){this.h=u.h,ep(this,u.j),this.o=u.o,this.g=u.g,tp(this,u.s),this.l=u.l;var m=u.i,b=new Bu;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),kS(this,b),this.m=u.m}else u&&(m=String(u).match(CS))?(this.h=!1,ep(this,m[1]||"",!0),this.o=Uu(m[2]||""),this.g=Uu(m[3]||"",!0),tp(this,m[4]),this.l=Uu(m[5]||"",!0),kS(this,m[6]||"",!0),this.m=Uu(m[7]||"")):(this.h=!1,this.i=new Bu(null,this.h))}aa.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ju(m,OS,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ju(m,OS,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(ju(b,b.charAt(0)=="/"?iU:rU,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",ju(b,sU)),u.join("")};function po(u){return new aa(u)}function ep(u,m,b){u.j=b?Uu(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function tp(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function kS(u,m,b){m instanceof Bu?(u.i=m,aU(u.i,u.h)):(b||(m=ju(m,oU)),u.i=new Bu(m,u.h))}function pt(u,m,b){u.i.set(m,b)}function np(u){return pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Uu(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ju(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,nU),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nU(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var OS=/[#\/\?@]/g,rU=/[#\?:]/g,iU=/[#\?]/g,oU=/[#\?@]/g,sU=/#/g;function Bu(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function es(u){u.g||(u.g=new Map,u.h=0,u.i&&tU(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}t=Bu.prototype,t.add=function(u,m){es(this),this.i=null,u=xl(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function NS(u,m){es(u),m=xl(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function DS(u,m){return es(u),m=xl(u,m),u.g.has(m)}t.forEach=function(u,m){es(this),this.g.forEach(function(b,O){b.forEach(function(V){u.call(m,V,O,this)},this)},this)},t.na=function(){es(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let O=0;O<m.length;O++){const V=u[O];for(let j=0;j<V.length;j++)b.push(m[O])}return b},t.V=function(u){es(this);let m=[];if(typeof u=="string")DS(this,u)&&(m=m.concat(this.g.get(xl(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)m=m.concat(u[b])}return m},t.set=function(u,m){return es(this),this.i=null,u=xl(this,u),DS(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function MS(u,m,b){NS(u,m),0<b.length&&(u.i=null,u.g.set(xl(u,m),_(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var O=m[b];const j=encodeURIComponent(String(O)),J=this.V(O);for(O=0;O<J.length;O++){var V=j;J[O]!==""&&(V+="="+encodeURIComponent(String(J[O]))),u.push(V)}}return this.i=u.join("&")};function xl(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aU(u,m){m&&!u.j&&(es(u),u.i=null,u.g.forEach(function(b,O){var V=O.toLowerCase();O!=V&&(NS(this,O),MS(this,V,b))},u)),u.j=m}function lU(u,m){const b=new Rn;if(a.Image){const O=new Image;O.onload=p(ts,b,"TestLoadImage: loaded",!0,m,O),O.onerror=p(ts,b,"TestLoadImage: error",!1,m,O),O.onabort=p(ts,b,"TestLoadImage: abort",!1,m,O),O.ontimeout=p(ts,b,"TestLoadImage: timeout",!1,m,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else m(!1)}function cU(u,m){const b=new Rn,O=new AbortController,V=setTimeout(()=>{O.abort(),ts(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:O.signal}).then(j=>{clearTimeout(V),j.ok?ts(b,"TestPingServer: ok",!0,m):ts(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),ts(b,"TestPingServer: error",!1,m)})}function ts(u,m,b,O,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),O(b)}catch{}}function uU(){this.g=new Jo}function dU(u,m,b){const O=b||"";try{AS(u,function(V,j){let J=V;c(V)&&(J=ut(V)),m.push(O+j+"="+encodeURIComponent(J))})}catch(V){throw m.push(O+"type="+encodeURIComponent("_badmap")),V}}function zu(u){this.l=u.Ub||null,this.j=u.eb||!1}g(zu,El),zu.prototype.g=function(){return new rp(this.l,this.j)},zu.prototype.i=function(u){return function(){return u}}({});function rp(u,m){We.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(rp,We),t=rp.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wu(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wu(this)),this.g&&(this.readyState=3,Wu(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LS(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function LS(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qu(this):Wu(this),this.readyState==3&&LS(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qu(this))},t.Qa=function(u){this.g&&(this.response=u,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wu(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Wu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function VS(u){let m="";return C(u,function(b,O){m+=O,m+=":",m+=b,m+=`\r
`}),m}function Qv(u,m,b){e:{for(O in b){var O=!1;break e}O=!0}O||(b=VS(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):pt(u,m,b))}function Nt(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Nt,We);var hU=/^https?$/i,fU=["POST","PUT"];t=Nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,b,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rl.g(),this.v=this.o?Gf(this.o):Gf(Rl),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){FS(this,j);return}if(u=b||"",b=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var V in O)b.set(V,O[V]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const j of O.keys())b.set(j,O.get(j));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(b.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fU,m,void 0))||O||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of b)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jS(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){FS(this,j)}};function FS(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$S(u),ip(u)}function $S(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),ip(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ip(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?US(this):this.bb())},t.bb=function(){US(this)};function US(u){if(u.h&&typeof s<"u"&&(!u.v[1]||mo(u)!=4||u.Z()!=2)){if(u.u&&mo(u)==4)pe(u.Ea,0,u);else if(Ye(u,"readystatechange"),mo(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var O;if(O=J===0){var V=String(u.D).match(CS)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),O=!hU.test(V?V.toLowerCase():"")}b=O}if(b)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var j=2<mo(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",$S(u)}}finally{ip(u)}}}}function ip(u,m){if(u.g){jS(u);const b=u.g,O=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ye(u,"ready");try{b.onreadystatechange=O}catch{}}}function jS(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function mo(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<mo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kr(m)}};function BS(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pU(u){const m={};u=(u.g&&2<=mo(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(y(u[O]))continue;var b=D(u[O]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const j=m[V]||[];m[V]=j,j.push(b)}T(m,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hu(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function zS(u){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hu("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hu("baseRetryDelayMs",5e3,u),this.cb=Hu("retryDelaySeedMs",1e4,u),this.Wa=Hu("forwardChannelMaxRetries",2,u),this.wa=Hu("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new IS(u&&u.concurrentRequestLimit),this.Da=new uU,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zS.prototype,t.la=8,t.G=1,t.connect=function(u,m,b,O){Sn(0),this.W=u,this.H=m||{},b&&O!==void 0&&(this.H.OSID=b,this.H.OAID=O),this.F=this.X,this.I=JS(this,null,this.W),sp(this)};function Yv(u){if(qS(u),u.G==3){var m=u.U++,b=po(u.I);if(pt(b,"SID",u.K),pt(b,"RID",m),pt(b,"TYPE","terminate"),Gu(u,b),m=new $i(u,u.j,m),m.L=2,m.v=np(po(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=ZS(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zf(m)}XS(u)}function op(u){u.g&&(Jv(u),u.g.cancel(),u.g=null)}function qS(u){op(u),u.u&&(a.clearTimeout(u.u),u.u=null),ap(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function sp(u){if(!SS(u.h)&&!u.s){u.s=!0;var m=u.Ga;Q||Z(),$||(Q(),$=!0),G.add(m,u),u.B=0}}function mU(u,m){return RS(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fo(f(u.Ga,u,m),YS(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new $i(this,this.j,u);let j=this.o;if(this.S&&(j?(j=I(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var O=this.i[b];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(m+=O,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=HS(this,V,m),b=po(this.I),pt(b,"RID",u),pt(b,"CVER",22),this.D&&pt(b,"X-HTTP-Session-Id",this.D),Gu(this,b),j&&(this.O?m="headers="+encodeURIComponent(String(VS(j)))+"&"+m:this.m&&Qv(b,this.m,j)),Kv(this.h,V),this.Ua&&pt(b,"TYPE","init"),this.P?(pt(b,"$req",m),pt(b,"SID","null"),V.T=!0,Pn(V,b,null)):Pn(V,b,m),this.G=2}}else this.G==3&&(u?WS(this,u):this.i.length==0||SS(this.h)||WS(this))};function WS(u,m){var b;m?b=m.l:b=u.U++;const O=po(u.I);pt(O,"SID",u.K),pt(O,"RID",b),pt(O,"AID",u.T),Gu(u,O),u.m&&u.o&&Qv(O,u.m,u.o),b=new $i(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),m&&(u.i=m.D.concat(u.i)),m=HS(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Kv(u.h,b),Pn(b,O,m)}function Gu(u,m){u.H&&C(u.H,function(b,O){pt(m,O,b)}),u.l&&AS({},function(b,O){pt(m,O,b)})}function HS(u,m,b){b=Math.min(u.i.length,b);var O=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let j=-1;for(;;){const J=["count="+b];j==-1?0<b?(j=V[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let ct=!0;for(let xn=0;xn<b;xn++){let Qe=V[xn].g;const $n=V[xn].map;if(Qe-=j,0>Qe)j=Math.max(0,V[xn].g-100),ct=!1;else try{dU($n,J,"req"+Qe+"_")}catch{O&&O($n)}}if(ct){O=J.join("&");break e}}}return u=u.i.splice(0,b),m.D=u,O}function GS(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Q||Z(),$||(Q(),$=!0),G.add(m,u),u.v=0}}function Xv(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fo(f(u.Fa,u),YS(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,KS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fo(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sn(10),op(this),KS(this))};function Jv(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function KS(u){u.g=new $i(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=po(u.qa);pt(m,"RID","rpc"),pt(m,"SID",u.K),pt(m,"AID",u.T),pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&pt(m,"TO",u.ja),pt(m,"TYPE","xmlhttp"),Gu(u,m),u.m&&u.o&&Qv(m,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=np(po(m)),b.m=null,b.P=!0,ES(b,u)}t.Za=function(){this.C!=null&&(this.C=null,op(this),Xv(this),Sn(19))};function ap(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function QS(u,m){var b=null;if(u.g==m){ap(u),Jv(u),u.g=null;var O=2}else if(Gv(u.h,m))b=m.D,PS(u.h,m),O=1;else return;if(u.G!=0){if(m.o)if(O==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;O=Il(),Ye(O,new Zo(O,b)),sp(u)}else GS(u);else if(V=m.s,V==3||V==0&&0<m.X||!(O==1&&mU(u,m)||O==2&&Xv(u)))switch(b&&0<b.length&&(m=u.h,m.i=m.i.concat(b)),V){case 1:la(u,5);break;case 4:la(u,10);break;case 3:la(u,6);break;default:la(u,2)}}}function YS(u,m){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*m}function la(u,m){if(u.j.info("Error code "+m),m==2){var b=f(u.fb,u),O=u.Xa;const V=!O;O=new aa(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ep(O,"https"),np(O),V?lU(O.toString(),b):cU(O.toString(),b)}else Sn(2);u.G=0,u.l&&u.l.sa(m),XS(u),qS(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function XS(u){if(u.G=0,u.ka=[],u.l){const m=xS(u.h);(m.length!=0||u.i.length!=0)&&(E(u.ka,m),E(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function JS(u,m,b){var O=b instanceof aa?po(b):new aa(b);if(O.g!="")m&&(O.g=m+"."+O.g),tp(O,O.s);else{var V=a.location;O=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var j=new aa(null);O&&ep(j,O),m&&(j.g=m),V&&tp(j,V),b&&(j.l=b),O=j}return b=u.D,m=u.ya,b&&m&&pt(O,b,m),pt(O,"VER",u.la),Gu(u,O),O}function ZS(u,m,b){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Nt(new zu({eb:b})):new Nt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eR(){}t=eR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lp(){}lp.prototype.g=function(u,m){return new Or(u,m)};function Or(u,m){We.call(this),this.g=new zS(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Al(this)}g(Or,We),Or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Yv(this.g)},Or.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=ut(u),u=b);m.i.push(new J$(m.Ya++,u)),m.G==3&&sp(m)},Or.prototype.N=function(){this.g.l=null,delete this.j,Yv(this.g),delete this.g,Or.aa.N.call(this)};function tR(u){bl.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}g(tR,bl);function nR(){Tl.call(this),this.status=1}g(nR,Tl);function Al(u){this.g=u}g(Al,eR),Al.prototype.ua=function(){Ye(this.g,"a")},Al.prototype.ta=function(u){Ye(this.g,new tR(u))},Al.prototype.sa=function(u){Ye(this.g,new nR)},Al.prototype.ra=function(){Ye(this.g,"b")},lp.prototype.createWebChannel=lp.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,eL=function(){return new lp},ZM=function(){return Il()},JM=Fi,Ww={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,gm=oa,Fu.COMPLETE="complete",XM=Fu,Kf.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",We.prototype.listen=We.prototype.K,Cd=Kf,YM=zu,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,QM=Nt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const Sx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Tf("@firebase/firestore");function Gl(){return Vs.logLevel}function BJ(t){Vs.setLogLevel(t)}function K(t,...e){if(Vs.logLevel<=ke.DEBUG){const n=e.map(AT);Vs.debug(`Firestore (${Iu}): ${t}`,...n)}}function Ht(t,...e){if(Vs.logLevel<=ke.ERROR){const n=e.map(AT);Vs.error(`Firestore (${Iu}): ${t}`,...n)}}function Di(t,...e){if(Vs.logLevel<=ke.WARN){const n=e.map(AT);Vs.warn(`Firestore (${Iu}): ${t}`,...n)}}function AT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+t;throw Ht(e),new Error(e)}function ce(t,e){t||re()}function zJ(t,e){t||re()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class WJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HJ{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _n,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _n)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new tL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new pn(e)}}class GJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new QJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XJ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Kc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function rL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new It(0,0))}static max(){return new he(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Uh{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const JJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Uh{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return JJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Me.fromString(e))}static fromName(e){return new ee(Me.fromString(e).popFirst(5))}static empty(){return new ee(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Hw(t){return t.fields.find(e=>e.kind===2)}function ga(t){return t.fields.filter(e=>e.kind!==2)}_g.UNKNOWN_ID=-1;class ym{constructor(e,n){this.fieldPath=e,this.kind=n}}class jh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new jh(0,Gr.min())}}function iL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new Gr(i,ee.empty(),e)}function oL(t){return new Gr(t.readTime,t.key,-1)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(he.min(),ee.empty(),-1)}static max(){return new Gr(he.max(),ee.empty(),-1)}}function CT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==sL)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _n,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=kT(r.target.error);this.V.reject(new Xd(e,i))}}static open(e,n,r,i){try{return new Zy(n,e.transaction(i,r))}catch(o){throw new Xd(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eZ(n)}}class ro{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ro.S(At())===12.2&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ya(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wc())return!1;if(ro.v())return!0;const e=At(),n=ro.S(e),r=0<n&&n<10,i=lL(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Xd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new H(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new H(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Xd(e,s))},i.onupgradeneeded=o=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=Zy.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),F.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function lL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ZJ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ya(this.B.delete())}}class Xd extends H{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Xs(t){return t.name==="IndexedDbTransactionError"}class eZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ya(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ya(this.store.add(e))}get(e){return ya(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ya(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ya(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new F((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new F((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new F((r,i)=>{n.onerror=o=>{const s=kT(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new F((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new ZJ(a),c=n(a.primaryKey,a.value,l);if(c instanceof F){const d=c.catch(h=>(l.done(),F.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>F.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ya(t){return new F((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kT(r.target.error);n(i)}})}let Rx=!1;function kT(t){const e=ro.S(At());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rx||(Rx=!0,setTimeout(()=>{throw r},0)),r}}return t}class tZ{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Xs(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ys(n)}await this.X(6e4)})}}class nZ{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return F.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return K("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=oL(o);CT(s,r)>0&&(r=s)}),new Gr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_r.oe=-1;function If(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function cL(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Px(e)),e=rZ(t.get(n),e);return Px(e)}function rZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Px(t){return t+""}function Yi(t){const e=t.length;if(ce(e>=2),e===2)return ce(t.charAt(0)===""&&t.charAt(1)===""),Me.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&re(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:re()}o=s+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e){return[t,ar(e)]}function uL(t,e,n){return[t,ar(e),n]}const iZ={},oZ=["prefixPath","collectionGroup","readTime","documentId"],sZ=["prefixPath","collectionGroup","documentId"],aZ=["collectionGroup","readTime","prefixPath","documentId"],lZ=["canonicalId","targetId"],cZ=["targetId","path"],uZ=["path","targetId"],dZ=["collectionId","parent"],hZ=["indexId","uid"],fZ=["uid","sequenceNumber"],pZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mZ=["indexId","uid","orderedDocumentKey"],gZ=["userId","collectionPath","documentId"],yZ=["userId","collectionPath","largestBatchId"],vZ=["userId","collectionGroup","largestBatchId"],dL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_Z=[...dL,"documentOverlays"],hL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fL=hL,OT=[...fL,"indexConfiguration","indexState","indexEntries"],wZ=OT,EZ=[...OT,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends aL{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function dn(t,e){const n=te(t);return ro.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Up(this.root,e,this.comparator,!1)}getReverseIterator(){return new Up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Up(this.root,e,this.comparator,!0)}}class Up{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??On.RED,this.left=i??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new On(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cx(this.data.getIterator())}getIteratorFrom(e){return new Cx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class Cx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new wr([])}unionWith(e){let n=new lt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mL("Invalid base64 string: "+o):o}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const TZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(ce(!!t),typeof t=="string"){let e=0;const n=TZ.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NT(t){const e=t.mapValue.fields.__previous_value__;return ev(e)?NT(e):e}function zh(t){const e=Vo(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_m={nullValue:"NULL_VALUE"};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:gL(t)?9007199254740991:tv(t)?10:11:re()}function lo(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Vo(i.timestampValue),a=Vo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Fs(i.bytesValue).isEqual(Fs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Bh(s)===Bh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ax(s)!==Ax(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!lo(s[l],a[l])))return!1;return!0}(t,e);default:return re()}}function qh(t,e){return(t.values||[]).find(n=>lo(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kx(t.timestampValue,e.timestampValue);case 4:return kx(zh(t),zh(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Fs(o),l=Fs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Te(a[c],l[c]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Te(wt(o.latitude),wt(s.latitude));return a!==0?a:Te(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ox(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,d;const h=o.fields||{},f=s.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Te(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Ox(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ws.mapValue&&s===ws.mapValue)return 0;if(o===ws.mapValue)return 1;if(s===ws.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Te(l[h],d[h]);if(f!==0)return f;const p=Us(a[l[h]],c[d[h]]);if(p!==0)return p}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function kx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Vo(t),r=Vo(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Ox(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Us(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function Qc(t){return Kw(t)}function Kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kw(n.fields[s])}`;return i+"}"}(t.mapValue):re()}function Ja(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qw(t){return!!t&&"integerValue"in t}function Wh(t){return!!t&&"arrayValue"in t}function Nx(t){return!!t&&"nullValue"in t}function Dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wm(t){return!!t&&"mapValue"in t}function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ml(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const yL={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function SZ(t){return"nullValue"in t?_m:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ja($s.empty(),ee.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?tv(t)?yL:{mapValue:{}}:re()}function RZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ja($s.empty(),ee.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?yL:"mapValue"in t?tv(t)?{mapValue:{}}:ws:re()}function Mx(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Lx(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jd(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Jd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ml(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Dn(Jd(this.value))}}function vL(t){const e=[];return ml(t.fields,(n,r)=>{const i=new bt([n]);if(wm(r)){const o=vL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,he.min(),he.min(),he.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,i){return new gt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new gt(e,2,n,he.min(),he.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,he.min(),he.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.position=e,this.inclusive=n}}function Vx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Us(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function PZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{}class Le extends _L{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xZ(e,n,r):n==="array-contains"?new kZ(e,r):n==="in"?new SL(e,r):n==="not-in"?new OZ(e,r):n==="array-contains-any"?new NZ(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AZ(e,r):new CZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends _L{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nt(e,n)}matches(e){return Yc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yc(t){return t.op==="and"}function Yw(t){return t.op==="or"}function DT(t){return wL(t)&&Yc(t)}function wL(t){for(const e of t.filters)if(e instanceof nt)return!1;return!0}function Xw(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(DT(t))return t.filters.map(e=>Xw(e)).join(",");{const e=t.filters.map(n=>Xw(n)).join(",");return`${t.op}(${e})`}}function EL(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&lo(r.value,i.value)}(t,e):t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EL(s,i.filters[a]),!0):!1}(t,e):void re()}function bL(t,e){const n=t.filters.concat(e);return nt.create(n,t.op)}function TL(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(t):t instanceof nt?function(n){return n.op.toString()+" {"+n.getFilters().map(TL).join(" ,")+"}"}(t):"Filter"}class xZ extends Le{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class AZ extends Le{constructor(e,n){super(e,"in",n),this.keys=IL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CZ extends Le{constructor(e,n){super(e,"not-in",n),this.keys=IL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class kZ extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wh(n)&&qh(n.arrayValue,this.value)}}class SL extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qh(this.value.arrayValue,n)}}class OZ extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qh(this.value.arrayValue,n)}}class NZ extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Jw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new DZ(t,e,n,r,i,o,s)}function Za(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qc(r)).join(",")),e.ue=n}return e.ue}function Sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fx(t.startAt,e.startAt)&&Fx(t.endAt,e.endAt)}function wg(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Eg(t,e){return t.filters.filter(n=>n instanceof Le&&n.field.isEqual(e))}function $x(t,e,n){let r=_m,i=!0;for(const o of Eg(t,e)){let s=_m,a=!0;switch(o.op){case"<":case"<=":s=SZ(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=_m}Mx({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Mx({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Ux(t,e,n){let r=ws,i=!0;for(const o of Eg(t,e)){let s=ws,a=!0;switch(o.op){case">=":case">":s=RZ(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ws}Lx({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Lx({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RL(t,e,n,r,i,o,s,a){return new Ho(t,e,n,r,i,o,s,a)}function Su(t){return new Ho(t)}function jx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.collectionGroup!==null}function bc(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Hh(o,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new Hh(bt.keyField(),r))}return e.ce}function lr(t){const e=te(t);return e.le||(e.le=MZ(e,bc(t))),e.le}function MZ(t,e){if(t.limitType==="F")return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Hh(i.field,o)});const n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return Jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zw(t,e){const n=t.filters.concat([e]);return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bg(t,e,n){return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return Sf(lr(t),lr(e))&&t.limitType===e.limitType}function PL(t){return`${Za(lr(t))}|lt:${t.limitType}`}function Kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TL(i)).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qc(i)).join(",")),`Target(${r})`}(lr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of bc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Vx(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,bc(r),i)||r.endAt&&!function(s,a,l){const c=Vx(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,bc(r),i))}(t,e)}function xL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AL(t){return(e,n)=>{let r=!1;for(const i of bc(t)){const o=LZ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LZ(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Us(l,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=new ht(ee.comparator);function Er(){return VZ}const CL=new ht(ee.comparator);function kd(...t){let e=CL;for(const n of t)e=e.insert(n.key,n);return e}function kL(t){let e=CL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Zd()}function OL(){return Zd()}function Zd(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const FZ=new ht(ee.comparator),$Z=new lt(ee.comparator);function Se(...t){let e=$Z;for(const n of t)e=e.add(n);return e}const UZ=new lt(Te);function LT(){return UZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function NL(t){return{integerValue:""+t}}function DL(t,e){return cL(e)?NL(e):VT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this._=void 0}}function jZ(t,e,n){return t instanceof Xc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ev(o)&&(o=NT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof el?LL(t,e):t instanceof tl?VL(t,e):function(i,o){const s=ML(i,o),a=Bx(s)+Bx(i.Pe);return Qw(s)&&Qw(i.Pe)?NL(a):VT(i.serializer,a)}(t,e)}function BZ(t,e,n){return t instanceof el?LL(t,e):t instanceof tl?VL(t,e):n}function ML(t,e){return t instanceof Jc?function(r){return Qw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xc extends nv{}class el extends nv{constructor(e){super(),this.elements=e}}function LL(t,e){const n=FL(e);for(const r of t.elements)n.some(i=>lo(i,r))||n.push(r);return{arrayValue:{values:n}}}class tl extends nv{constructor(e){super(),this.elements=e}}function VL(t,e){let n=FL(e);for(const r of t.elements)n=n.filter(i=>!lo(i,r));return{arrayValue:{values:n}}}class Jc extends nv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Bx(t){return wt(t.integerValue||t.doubleValue)}function FL(t){return Wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.field=e,this.transform=n}}function zZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof el&&i instanceof el||r instanceof tl&&i instanceof tl?Kc(r.elements,i.elements,lo):r instanceof Jc&&i instanceof Jc?lo(r.Pe,i.Pe):r instanceof Xc&&i instanceof Xc}(t.transform,e.transform)}class qZ{constructor(e,n){this.version=e,this.transformResults=n}}class Tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rv{}function $L(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pu(t.key,Tt.none()):new Ru(t.key,t.data,Tt.none());{const n=t.data,r=Dn.empty();let i=new lt(bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Go(t.key,r,new wr(i.toArray()),Tt.none())}}function WZ(t,e,n){t instanceof Ru?function(i,o,s){const a=i.value.clone(),l=qx(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Go?function(i,o,s){if(!Em(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=qx(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(UL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function eh(t,e,n,r){return t instanceof Ru?function(o,s,a,l){if(!Em(o.precondition,s))return a;const c=o.value.clone(),d=Wx(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Go?function(o,s,a,l){if(!Em(o.precondition,s))return a;const c=Wx(o.fieldTransforms,l,s),d=s.data;return d.setAll(UL(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Em(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function HZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ML(r.transform,i||null);o!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,o))}return n||null}function zx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,(o,s)=>zZ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Go extends rv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qx(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,BZ(s,a,n[i]))}return r}function Wx(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jZ(o,s,e))}return r}class Pu extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FT extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&WZ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=$L(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(n,r)=>zx(n,r))&&Kc(this.baseMutations,e.baseMutations,(n,r)=>zx(n,r))}}class UT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return FZ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new UT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,je;function jL(t){switch(t){default:return re();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function BL(t){if(t===void 0)return Ht("GRPC error has no .code"),U.UNKNOWN;switch(t){case Jt.OK:return U.OK;case Jt.CANCELLED:return U.CANCELLED;case Jt.UNKNOWN:return U.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return U.INTERNAL;case Jt.UNAVAILABLE:return U.UNAVAILABLE;case Jt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Jt.NOT_FOUND:return U.NOT_FOUND;case Jt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Jt.ABORTED:return U.ABORTED;case Jt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Jt.DATA_LOSS:return U.DATA_LOSS;default:return re()}}(je=Jt||(Jt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=new Va([4294967295,4294967295],0);function Hx(t){const e=zL().encode(t),n=new KM;return n.update(e),new Uint8Array(n.digest())}function Gx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Va([n,r],0),new Va([i,o],0)]}class BT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Va.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Va.fromNumber(r)));return i.compare(KZ)===1&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Hx(e),[r,i]=Gx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new BT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Hx(e),[r,i]=Gx(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(he.min(),i,new ht(Te),Er(),Se())}}class Cf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cf(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class qL{constructor(e,n){this.targetId=e,this.me=n}}class WL{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Kx{constructor(){this.fe=0,this.ge=Yx(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=Qx(),this.Qe=new ht(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(wg(o))if(r===0){const s=new ee(o.path);this.Ue(n,s,gt.newNoDocument(s,he.min()))}else ce(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Fs(r).toUint8Array()}catch(l){if(l instanceof mL)return Di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BT(s,i,o)}catch(l){return Di(l instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&wg(a.target)){const l=new ee(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,gt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Af(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=Qx(),this.Qe=new ht(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qx(){return new ht(ee.comparator)}function Yx(){return new ht(ee.comparator)}const YZ={asc:"ASCENDING",desc:"DESCENDING"},XZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JZ={and:"AND",or:"OR"};class ZZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eE(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Zc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eee(t,e){return Zc(t,e.toTimestamp())}function Gt(t){return ce(!!t),he.fromTimestamp(function(n){const r=Vo(n);return new It(r.seconds,r.nanos)}(t))}function zT(t,e){return tE(t,e).canonicalString()}function tE(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GL(t){const e=Me.fromString(t);return ce(r2(e)),e}function Gh(t,e){return zT(t.databaseId,e.path)}function io(t,e){const n=GL(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(YL(n))}function KL(t,e){return zT(t.databaseId,e)}function QL(t){const e=GL(t);return e.length===4?Me.emptyPath():YL(e)}function nE(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YL(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xx(t,e,n){return{name:Gh(t,e),fields:n.value.mapValue.fields}}function XL(t,e,n){const r=io(t,e.name),i=Gt(e.updateTime),o=e.createTime?Gt(e.createTime):he.min(),s=new Dn({mapValue:{fields:e.fields}}),a=gt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function tee(t,e){return"found"in e?function(r,i){ce(!!i.found),i.found.name,i.found.updateTime;const o=io(r,i.found.name),s=Gt(i.found.updateTime),a=i.found.createTime?Gt(i.found.createTime):he.min(),l=new Dn({mapValue:{fields:i.found.fields}});return gt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){ce(!!i.missing),ce(!!i.readTime);const o=io(r,i.missing),s=Gt(i.readTime);return gt.newNoDocument(o,s)}(t,e):re()}function nee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ce(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?U.UNKNOWN:BL(c.code);return new H(d,c.message||"")}(s);n=new WL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=io(t,r.document.name),o=Gt(r.document.updateTime),s=r.document.createTime?Gt(r.document.createTime):he.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=gt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new bm(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=io(t,r.document),o=r.readTime?Gt(r.readTime):he.min(),s=gt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=io(t,r.document),o=r.removedTargetIds||[];n=new bm([],o,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new GZ(i,o),a=r.targetId;n=new qL(a,s)}}return n}function Kh(t,e){let n;if(e instanceof Ru)n={update:Xx(t,e.key,e.value)};else if(e instanceof Pu)n={delete:Gh(t,e.key)};else if(e instanceof Go)n={update:Xx(t,e.key,e.data),updateMask:lee(e.fieldMask)};else{if(!(e instanceof FT))return re();n={verify:Gh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Xc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof el)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eee(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(t,e.precondition)),n}function rE(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?Tt.updateTime(Gt(o.updateTime)):o.exists!==void 0?Tt.exists(o.exists):Tt.none()}(e.currentDocument):Tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)ce(a.setToServerValue==="REQUEST_TIME"),l=new Xc;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new el(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new tl(d)}else"increment"in a?l=new Jc(s,a.increment):re();const c=bt.fromServerFormat(a.fieldPath);return new xf(c,l)}(t,i)):[];if(e.update){e.update.name;const i=io(t,e.update.name),o=new Dn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new wr(c.map(d=>bt.fromServerFormat(d)))}(e.updateMask);return new Go(i,o,s,n,r)}return new Ru(i,o,n,r)}if(e.delete){const i=io(t,e.delete);return new Pu(i,n)}if(e.verify){const i=io(t,e.verify);return new FT(i,n)}return re()}function ree(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Gt(i.updateTime):Gt(o);return s.isEqual(he.min())&&(s=Gt(o)),new qZ(s,i.transformResults||[])}(n,e))):[]}function JL(t,e){return{documents:[KL(t,e.path)]}}function ZL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KL(t,i);const o=function(c){if(c.length!==0)return n2(nt.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Ql(f.field),direction:oee(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=eE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function e2(t){let e=QL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=t2(h);return f instanceof nt&&DT(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(g){return new Hh(Yl(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,If(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new js(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new js(p,f)}(n.endAt)),RL(e,i,s,o,a,"F",l,c)}function iee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yl(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yl(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yl(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Yl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nt.create(n.compositeFilter.filters.map(r=>t2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function oee(t){return YZ[t]}function see(t){return XZ[t]}function aee(t){return JZ[t]}function Ql(t){return{fieldPath:t.canonicalString()}}function Yl(t){return bt.fromServerFormat(t.fieldPath)}function n2(t){return t instanceof Le?function(n){if(n.op==="=="){if(Dx(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dx(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:see(n.op),value:n.value}}}(t):t instanceof nt?function(n){const r=n.getFilters().map(i=>n2(i));return r.length===1?r[0]:{compositeFilter:{op:aee(n.op),filters:r}}}(t):re()}function lee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r,i,o=he.min(),s=he.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.ct=e}}function cee(t,e){let n;if(e.document)n=XL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ee.fromSegments(e.noDocument.path),i=rl(e.noDocument.readTime);n=gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re();{const r=ee.fromSegments(e.unknownDocument.path),i=rl(e.unknownDocument.version);n=gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new It(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function Jx(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Gh(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Zc(o,s.version.toTimestamp()),createTime:Zc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nl(e.version)};else{if(!e.isUnknownDocument())return re();r.unknownDocument={path:n.path.toArray(),version:nl(e.version)}}return r}function Tg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function nl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rl(t){const e=new It(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function va(t,e){const n=(e.baseMutations||[]).map(o=>rE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>rE(t.ct,o)),i=It.fromMillis(e.localWriteTimeMs);return new $T(e.batchId,i,n,r)}function Nd(t){const e=rl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?rl(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ce(o.documents.length===1),lr(Su(QL(o.documents[0])))}(t.query):function(o){return lr(e2(o))}(t.query),new To(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ft.fromBase64String(t.resumeToken))}function o2(t,e){const n=nl(e.snapshotVersion),r=nl(e.lastLimboFreeSnapshotVersion);let i;i=wg(e.target)?JL(t.ct,e.target):ZL(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Za(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qT(t){const e=e2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}function X_(t,e){return new jT(e.largestBatchId,rE(t.ct,e.overlayMutation))}function Zx(t,e){const n=e.path.lastSegment();return[t,ar(e.path.popLast()),n]}function eA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:nl(r.readTime),documentKey:ar(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{getBundleMetadata(e,n){return tA(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:rl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return tA(e).put(function(i){return{bundleId:i.id,createTime:nl(Gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return nA(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:qT(o.bundledQuery),readTime:rl(o.readTime)}}(r)})}saveNamedQuery(e,n){return nA(e).put(function(i){return{name:i.name,readTime:nl(Gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function tA(t){return dn(t,"bundles")}function nA(t){return dn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new iv(e,r)}getOverlay(e,n){return hd(e).get(Zx(this.userId,n)).next(r=>r?X_(this.serializer,r):null)}getOverlays(e,n){const r=Xi();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new jT(n,s);i.push(this.ht(e,a))}),F.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(ar(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(hd(e).j("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Xi(),o=ar(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hd(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=X_(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Xi();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hd(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const h=X_(this.serializer,c);o.size()<i||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return hd(e).put(function(i,o,s){const[a,l,c]=Zx(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Kh(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function hd(t){return dn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{Pt(e){return dn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Bh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Vo(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Fs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?gL(e)?this.dt(n,Number.MAX_SAFE_INTEGER):tv(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):re()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(wt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}_a.vt=new _a;function hee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function rA(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=hee(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class fee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=rA(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=rA(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pee{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class mee{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class fd{constructor(){this.jt=new fee,this.Ht=new pee(this.jt),this.Jt=new mee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wa(this.indexId,this.documentKey,this.arrayValue,r)}}function ss(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=iA(t.arrayValue,e.arrayValue),n!==0?n:(n=iA(t.directionalValue,e.directionalValue),n!==0?n:ee.comparator(t.documentKey,e.documentKey)))}function iA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.Xt=new lt((n,r)=>bt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ce(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Hw(e);if(n!==void 0&&!this.sn(n))return!1;const r=ga(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new lt(bt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ym(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ym(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ym(r.field,r.dir==="asc"?0:1)));return new _g(_g.UNKNOWN_ID,this.collectionId,n,jh.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){var e,n;if(ce(t instanceof Le||t instanceof nt),t instanceof Le){if(t instanceof SL){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Le.create(t.field,"==",o)))||[];return nt.create(i,"or")}return t}const r=t.filters.map(i=>s2(i));return nt.create(r,t.op)}function gee(t){if(t.getFilters().length===0)return[];const e=sE(s2(t));return ce(a2(e)),iE(e)||oE(e)?[e]:e.getFilters()}function iE(t){return t instanceof Le}function oE(t){return t instanceof nt&&DT(t)}function a2(t){return iE(t)||oE(t)||function(n){if(n instanceof nt&&Yw(n)){for(const r of n.getFilters())if(!iE(r)&&!oE(r))return!1;return!0}return!1}(t)}function sE(t){if(ce(t instanceof Le||t instanceof nt),t instanceof Le)return t;if(t.filters.length===1)return sE(t.filters[0]);const e=t.filters.map(r=>sE(r));let n=nt.create(e,t.op);return n=Ig(n),a2(n)?n:(ce(n instanceof nt),ce(Yc(n)),ce(n.filters.length>1),n.filters.reduce((r,i)=>WT(r,i)))}function WT(t,e){let n;return ce(t instanceof Le||t instanceof nt),ce(e instanceof Le||e instanceof nt),n=t instanceof Le?e instanceof Le?function(i,o){return nt.create([i,o],"and")}(t,e):sA(t,e):e instanceof Le?sA(e,t):function(i,o){if(ce(i.filters.length>0&&o.filters.length>0),Yc(i)&&Yc(o))return bL(i,o.getFilters());const s=Yw(i)?i:o,a=Yw(i)?o:i,l=s.filters.map(c=>WT(c,a));return nt.create(l,"or")}(t,e),Ig(n)}function sA(t,e){if(Yc(e))return bL(e,t.getFilters());{const n=e.filters.map(r=>WT(t,r));return nt.create(n,"or")}}function Ig(t){if(ce(t instanceof Le||t instanceof nt),t instanceof Le)return t;const e=t.getFilters();if(e.length===1)return Ig(e[0]);if(wL(t))return t;const n=e.map(i=>Ig(i)),r=[];return n.forEach(i=>{i instanceof Le?r.push(i):i instanceof nt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:nt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.un=new HT}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Gr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class HT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Uint8Array(0);class vee{constructor(e,n){this.databaseId=n,this.cn=new HT,this.ln=new Js(r=>Za(r),(r,i)=>Sf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:ar(i)};return aA(e).put(o)}return F.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[rL(n),""],!1,!0);return aA(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Yi(s.parent))}return r})}addFieldIndex(e,n){const r=pd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Ul(e);return o.next(a=>{s.put(eA(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=pd(e),i=Ul(e),o=$l(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=pd(e),r=$l(e),i=Ul(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return F.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new oA(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=$l(e);let i=!0;const o=new Map;return F.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Se();const a=[];return F.forEach(o,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(l)} to execute ${Za(n)}`);const d=function(w,S){const k=Hw(S);if(k===void 0)return null;for(const C of Eg(w,k.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),h=function(w,S){const k=new Map;for(const C of ga(S))for(const T of Eg(w,C.fieldPath))switch(T.op){case"==":case"in":k.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return k.set(C.fieldPath.canonicalString(),T.value),Array.from(k.values())}return null}(c,l),f=function(w,S){const k=[];let C=!0;for(const T of ga(S)){const I=T.kind===0?$x(w,T.fieldPath,w.startAt):Ux(w,T.fieldPath,w.startAt);k.push(I.value),C&&(C=I.inclusive)}return new js(k,C)}(c,l),p=function(w,S){const k=[];let C=!0;for(const T of ga(S)){const I=T.kind===0?Ux(w,T.fieldPath,w.endAt):$x(w,T.fieldPath,w.endAt);k.push(I.value),C&&(C=I.inclusive)}return new js(k,C)}(c,l),g=this.In(l,c,f),_=this.In(l,c,p),E=this.Tn(l,c,h),v=this.En(l.indexId,d,g,f.inclusive,_,p.inclusive,E);return F.forEach(v,y=>r.G(y,n.limit).next(w=>{w.forEach(S=>{const k=ee.fromSegments(S.documentKey);s.has(k)||(s=s.add(k),a.push(k))})}))}).next(()=>a)}return F.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=gee(nt.create(e.filters,"and")).map(r=>Jw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.dn(n[h/c]):jp,p=this.An(e,f,r[h%c],i),g=this.Rn(e,f,o[h%c],s),_=a.map(E=>this.An(e,f,E,!0));d.push(...this.createRange(p,g,_))}return d}An(e,n,r,i){const o=new wa(e,ee.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new wa(e,ee.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new oA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return F.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new lt(bt.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new fd;for(const i of ga(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Yt(i.kind);_a.vt.It(o,s)}return r.zt()}dn(e){const n=new fd;return _a.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new fd;return _a.vt.It(Ja(this.databaseId,n),r.Yt(function(o){const s=ga(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new fd);let o=0;for(const s of ga(e)){const a=r[o++];for(const l of i)if(this.fn(n,s.fieldPath)&&Wh(a))i=this.gn(i,s,a);else{const c=l.Yt(s.kind);_a.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new fd;l.seed(a.zt()),_a.vt.It(s,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof Le&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=pd(e),i=Ul(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return F.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,h){const f=h?new jh(h.sequenceNumber,new Gr(rl(h.readTime),new ee(Yi(h.documentKey)),h.largestBatchId)):jh.empty(),p=d.fields.map(([g,_])=>new ym(bt.fromServerFormat(g),_));return new _g(d.indexId,d.collectionGroup,p,f)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Te(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=pd(e),o=Ul(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>F.forEach(a,l=>o.put(eA(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return F.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),F.forEach(a,l=>this.wn(e,i,l).next(c=>{const d=this.Sn(o,l);return c.isEqual(d)?F.resolve():this.bn(e,o,l,c,d)}))))})}Dn(e,n,r,i){return $l(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return $l(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=$l(e);let o=new lt(ss);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,a)=>{o=o.add(new wa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let r=new lt(ss);const i=this.Vn(n,e);if(i==null)return r;const o=Hw(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Wh(s))for(const a of s.arrayValue.values||[])r=r.add(new wa(n.indexId,e.key,this.dn(a),i))}else r=r.add(new wa(n.indexId,e.key,jp,i));return r}bn(e,n,r,i,o){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,d,h,f){const p=l.getIterator(),g=c.getIterator();let _=Fl(p),E=Fl(g);for(;_||E;){let v=!1,y=!1;if(_&&E){const w=d(_,E);w<0?y=!0:w>0&&(v=!0)}else _!=null?y=!0:v=!0;v?(h(E),E=Fl(g)):y?(f(_),_=Fl(p)):(_=Fl(p),E=Fl(g))}}(i,o,ss,a=>{s.push(this.Dn(e,n,r,a))},a=>{s.push(this.vn(e,n,r,a))}),F.waitFor(s)}yn(e){let n=1;return Ul(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>ss(s,a)).filter((s,a,l)=>!a||ss(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=ss(s,e),l=ss(s,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,jp,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,jp,[]];o.push(IDBKeyRange.bound(a,l))}return o}Cn(e,n){return ss(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(lA)}getMinOffset(e,n){return F.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||re())).next(lA)}}function aA(t){return dn(t,"collectionParents")}function $l(t){return dn(t,"indexEntries")}function pd(t){return dn(t,"indexConfiguration")}function Ul(t){return dn(t,"indexState")}function lA(t){ce(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(d,h,f)=>(a++,f.delete()));o.push(l.next(()=>{ce(a===1)}));const c=[];for(const d of n.mutations){const h=uL(e,d.key.path,n.batchId);o.push(i.delete(h)),c.push(d.key)}return F.waitFor(o).next(()=>c)}function Sg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class ov{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){ce(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new ov(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return as(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Xl(e),s=as(e);return s.add({}).next(a=>{ce(typeof a=="number");const l=new $T(a,n,r,i),c=function(p,g,_){const E=_.baseMutations.map(y=>Kh(p.ct,y)),v=_.mutations.map(y=>Kh(p.ct,y));return{userId:g,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:E,mutations:v}}(this.serializer,this.userId,l),d=[];let h=new lt((f,p)=>Te(f.canonicalString(),p.canonicalString()));for(const f of i){const p=uL(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(s.put(c)),d.push(o.put(p,iZ))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),F.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return as(e).get(n).next(r=>r?(ce(r.userId===this.userId),va(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?F.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return as(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(ce(a.batchId>=r),o=va(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return as(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return as(e).U("userMutationsIndex",n).next(r=>r.map(i=>va(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Xl(e).J({range:i},(s,a,l)=>{const[c,d,h]=s,f=Yi(d);if(c===this.userId&&n.path.isEqual(f))return as(e).get(h).next(p=>{if(!p)throw re();ce(p.userId===this.userId),o.push(va(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Te);const i=[];return n.forEach(o=>{const s=vm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Xl(e).J({range:a},(c,d,h)=>{const[f,p,g]=c,_=Yi(p);f===this.userId&&o.path.isEqual(_)?r=r.add(g):h.done()});i.push(l)}),F.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=vm(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new lt(Te);return Xl(e).J({range:s},(l,c,d)=>{const[h,f,p]=l,g=Yi(f);h===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(as(e).get(o).next(s=>{if(s===null)throw re();ce(s.userId===this.userId),r.push(va(this.serializer,s))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return l2(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Xl(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Yi(o[1]);i.push(l)}else a.done()}).next(()=>{ce(i.length===0)})})}containsKey(e,n){return c2(e,this.userId,n)}Nn(e){return u2(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c2(t,e,n){const r=vm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Xl(t).J({range:o,H:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===i&&(s=!0),c.done()}).next(()=>s)}function as(t){return dn(t,"mutations")}function Xl(t){return dn(t,"documentMutations")}function u2(t){return dn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new il(0)}static kn(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new il(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>jl(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(ce(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return jl(e).J((s,a)=>{const l=Nd(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>F.waitFor(o)).next(()=>i)}forEachTarget(e,n){return jl(e).J((r,i)=>{const o=Nd(i);n(o)})}qn(e){return uA(e).get("targetGlobalKey").next(n=>(ce(n!==null),n))}Qn(e,n){return uA(e).put("targetGlobalKey",n)}Kn(e,n){return jl(e).put(o2(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Za(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return jl(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const c=Nd(a);Sf(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=ps(e);return n.forEach(s=>{const a=ar(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),F.waitFor(i)}removeMatchingKeys(e,n,r){const i=ps(e);return F.forEach(n,o=>{const s=ar(o.path);return F.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=ps(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ps(e);let o=Se();return i.J({range:r,H:!0},(s,a,l)=>{const c=Yi(s[1]),d=new ee(c);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=ar(n.path),i=IDBKeyRange.bound([r],[rL(r)],!1,!0);let o=0;return ps(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,n){return jl(e).get(n).next(r=>r?Nd(r):null)}}function jl(t){return dn(t,"targets")}function uA(t){return dn(t,"targetGlobal")}function ps(t){return dn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class wee{constructor(e){this.Un=e,this.buffer=new lt(dA),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Eee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xs(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Hn(3e5)})}}class bee{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(_r.oe);const r=new wee(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(cA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cA):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Gl()<=ke.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function Tee(t,e){return new bee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,n){this.db=e,this.garbageCollector=Tee(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Bp(e,r)}removeReference(e,n,r){return Bp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Bp(e,n)}nr(e,n){return function(i,o){let s=!1;return u2(i).Y(a=>c2(i,a,o).next(l=>(l&&(s=!0),F.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=n){const l=this.nr(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,he.min()),ps(e).delete(function(h){return[0,ar(h.path)]}(s))))});i.push(l)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Bp(e,n)}tr(e,n){const r=ps(e);let i,o=_r.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==_r.oe&&n(new ee(Yi(i)),o),o=c,i=l):o=_r.oe}).next(()=>{o!==_r.oe&&n(new ee(Yi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bp(t,e){return ps(t).put(function(r,i){return{targetId:0,path:ar(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ua(e).put(r)}removeEntry(e,n,r){return ua(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tg(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=gt.newInvalidDocument(n);return ua(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:gt.newInvalidDocument(n)};return ua(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,o)=>{r={document:this.ir(n,o),size:Sg(o)}}).next(()=>r)}getEntries(e,n){let r=Er();return this._r(e,n,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=Er(),i=new ht(ee.comparator);return this._r(e,n,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,Sg(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return F.resolve();let i=new lt(pA);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(md(i.first()),md(i.last())),s=i.getIterator();let a=s.getNext();return ua(e).J({index:"documentKeyIndex",range:o},(l,c,d)=>{const h=ee.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&pA(a,h)<0;)r(a,null),a=s.getNext();a&&a.isEqual(h)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?d.$(md(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ua(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let d=Er();for(const h of c){const f=this.ir(ee.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Pf(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=Er();const s=fA(n,r),a=fA(n,Gr.max());return ua(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,d)=>{const h=this.ir(ee.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(h.key,h),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new Ree(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hA(e).get("remoteDocumentGlobalKey").next(n=>(ce(!!n),n))}rr(e,n){return hA(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=cee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return gt.newInvalidDocument(e)}}function h2(t){return new See(t)}class Ree extends d2{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Js(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new lt((o,s)=>Te(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=Jx(this.cr.serializer,s);i=i.add(o.path.popLast());const c=Sg(l);r+=c-a.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=Jx(this.cr.serializer,s.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),F.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function hA(t){return dn(t,"remoteDocumentGlobal")}function ua(t){return dn(t,"remoteDocumentsV14")}function md(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fA(t,e){const n=e.documentKey.path.toArray();return[t,Tg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pA(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Te(n[o],r[o]),i)return i;return i=Te(n.length,r.length),i||(i=Te(n[n.length-2],r[r.length-2]),i||Te(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&eh(r.mutation,i,wr.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=kd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Er();const s=Zd(),a=function(){return Zd()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Go)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),eh(d.mutation,c,d.mutation.getFieldMask(),It.now())):s.set(c.key,wr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new Pee(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zd();let i=new ht((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||wr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=OL();d.forEach(f=>{if(!o.has(f)){const p=$L(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Xi());let a=-1,l=o;return s.next(c=>F.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Se())).next(d=>({batchId:a,changes:kL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=kd();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,l=>{const c=function(h,f){return new Ho(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,gt.newInvalidDocument(d)))});let a=kd();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&eh(d.mutation,c,wr.empty(),It.now()),Pf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gt(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:qT(i.bundledQuery),readTime:Gt(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(){this.overlays=new ht(ee.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Xi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Xi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jT(n,r));let o=this.Ir.get(n);o===void 0&&(o=Se(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.Tr=new lt(hn.Er),this.dr=new lt(hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new hn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Me([])),r=new hn(n,e),i=new hn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Me([])),r=new hn(n,e),i=new hn(n,e+1);let o=Se();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new hn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(hn.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $T(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new hn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Te);return n.forEach(i=>{const o=new hn(i,0),s=new hn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new hn(new ee(o),0);let a=new lt(Te);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new hn(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e){this.Mr=e,this.docs=function(){return new ht(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const s=n.path,a=new ee(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||CT(oL(d),r)<=0||(i.has(d.key)||Pf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nee(this)}getSize(e){return F.resolve(this.size)}}class Nee extends d2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e){this.persistence=e,this.Nr=new Js(n=>Za(n),Sf),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GT,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.qr={},this.overlays={},this.Qr=new _r(0),this.Kr=!1,this.Kr=!0,this.$r=new Cee,this.referenceDelegate=e(this),this.Ur=new Dee(this),this.indexManager=new yee,this.remoteDocumentCache=function(i){return new Oee(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new i2(n),this.Gr=new xee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Aee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kee(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Mee(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Mee extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Jr=new GT,this.Yr=null}static Zr(e){return new sv(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Zy("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xx,{unique:!0}),l.createObjectStore("documentMutations")}(e),mA(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),mA(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xx,{unique:!0});const h=c.store("mutations"),f=d.map(p=>h.put(p));return F.waitFor(f)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:gZ});c.createIndex("collectionPathOverlayIndex",yZ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",vZ,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:oZ});c.createIndex("documentKeyIndex",sZ),c.createIndex("collectionGroupIndex",aZ)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:hZ}).createIndex("sequenceNumberIndex",fZ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:pZ}).createIndex("documentKeyIndex",mZ,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Sg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>F.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>F.forEach(a,l=>{ce(l.userId===o.userId);const c=va(this.serializer,l);return l2(e,o.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new Me(s),c=function(h){return[0,ar(h)]}(l);o.push(n.get(c).next(d=>d?F.resolve():(h=>n.put({targetId:0,path:ar(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>F.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:dZ});const r=n.store("collectionParents"),i=new HT,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:ar(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new Me(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],c)=>{const d=Yi(a);return o(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=Nd(i),s=o2(this.serializer,o);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new ee(Me.fromString(h.document.name).popFirst(5)):h.noDocument?ee.fromSegments(h.noDocument.path):h.unknownDocument?ee.fromSegments(h.unknownDocument.path):re()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>F.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=h2(this.serializer),o=new p2(sv.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:Se();va(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),F.forEach(a,(l,c)=>{const d=new pn(c),h=iv.lt(this.serializer,d),f=o.getIndexManager(d),p=ov.lt(d,this.serializer,f,o.referenceDelegate);return new f2(i,p,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Gw(n,_r.oe),l).next()})})}}function mA(t){t.createObjectStore("targetDocuments",{keyPath:cZ}).createIndex("documentTargetsIndex",uZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lZ,{unique:!0}),t.createObjectStore("targetGlobal")}const J_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KT{constructor(e,n,r,i,o,s,a,l,c,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=c,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!KT.D())throw new H(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iee(this,i),this.Ai=n+"main",this.serializer=new i2(l),this.Ri=new ro(this.Ai,this.hi,new Lee(this.serializer)),this.$r=new dee,this.Ur=new _ee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=h2(this.serializer),this.Gr=new uee,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(U.FAILED_PRECONDITION,J_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new _r(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Xs(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return gd(e).get("owner").next(n=>F.resolve(this.vi(n)))}Ci(e){return zp(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=dn(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return F.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?F.resolve(!0):gd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new H(U.FAILED_PRECONDITION,J_);return!1}}return!(!this.networkEnabled||!this.inForeground)||zp(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Gw(e,_r.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>zp(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return ov.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vee(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return iv.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?EZ:l===16?wZ:l===15?OT:l===14?fL:l===13?hL:l===12?_Z:l===11?dL:void re()}(this.hi);let s;return this.Ri.runTransaction(e,i,o,a=>(s=new Gw(a,this.Qr?this.Qr.next():_r.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new H(U.FAILED_PRECONDITION,sL);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return gd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new H(U.FAILED_PRECONDITION,J_)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put("owner",n)}static D(){return ro.D()}bi(e){const n=gd(e);return n.get("owner").next(r=>this.vi(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):F.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ht(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;NM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ht("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gd(t){return dn(t,"owner")}function zp(t){return dn(t,"clientMetadata")}function QT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new YT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NM()?8:lL(At())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Vee;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gl()<=ke.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Gl()<=ke.DEBUG&&K("QueryEngine","Query:",Kl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gl()<=ke.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):F.resolve())}Yi(e,n){if(jx(n))return F.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bg(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Se(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,bg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return jx(n)||i.isEqual(he.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Gl()<=ke.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kl(n)),this.rs(e,s,n,iL(i,-1)).next(a=>a))})}ts(e,n){let r=new lt(AL(e));return n.forEach((i,o)=>{Pf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Gl()<=ke.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(Te),this._s=new Js(o=>Za(o),Sf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function g2(t,e,n,r){return new Fee(t,e,n,r)}async function y2(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Se();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function $ee(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=F.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(l,g)).next(_=>{const E=c.docVersions.get(g);ce(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function v2(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Uee(t,e){const n=te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ft.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(_,E,v){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,d)&&a.push(n.Ur.updateTargetData(o,p))});let l=Er(),c=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_2(o,s,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(he.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=i,o))}function _2(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function jee(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eu(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new To(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function tu(t,e,n){const r=te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Xs(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Rg(t,e,n){const r=te(t);let i=he.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=te(l),f=h._s.get(d);return f!==void 0?F.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,s,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:Se())).next(a=>(b2(r,xL(e),a),{documents:a,Ts:o})))}function w2(t,e){const n=te(t),r=te(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function E2(t,e){const n=te(t),r=n.us.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,iL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(b2(n,e,i),i))}function b2(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}async function Bee(t,e,n,r){const i=te(t);let o=Se(),s=Er();for(const c of n){const d=e.Es(c.metadata.name);c.document&&(o=o.add(d));const h=e.ds(c);h.setReadTime(e.As(c.metadata.readTime)),s=s.insert(d,h)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await eu(i,function(d){return lr(Su(Me.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>_2(c,a,s).next(d=>(a.apply(c),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Ur.addMatchingKeys(c,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))}async function zee(t,e,n=Se()){const r=await eu(t,lr(qT(e.bundledQuery))),i=te(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Gt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(o,e);const a=r.withResumeToken(Ft.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(o,a).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})}function gA(t,e){return`firestore_clients_${t}_${e}`}function yA(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Z_(t,e){return`firestore_targets_${t}_${e}`}class Pg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new H(i.error.code,i.error.message))),s?new Pg(e,n,i.state,o):(Ht("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class th{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new H(r.error.code,r.error.message))),o?new th(e,r.state,i):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=LT();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=cL(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new xg(e,o):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class XT{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new XT(n.clientId,n.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aE{constructor(){this.activeTargetIds=LT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e0{constructor(e,n,r,i,o){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ht(Te),this.started=!1,this.bs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=gA(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new aE),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(gA(this.persistenceKey,r));if(i){const o=xg.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Z_(this.persistenceKey,e));if(i){const o=th.Rs(e,i);o&&(r=o.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Z_(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return K("SharedClientState","READ",e,n),n}setItem(e,n){K("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){K("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(K("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(o){let s=_r.oe;if(o!=null)try{const a=JSON.parse(o);ce(typeof a=="number"),s=a}catch(a){Ht("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==_r.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new Pg(this.currentUser,e,n,r),o=yA(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const n=yA(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=Z_(this.persistenceKey,e),o=new th(e,n,r);this.setItem(i,o.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return xg.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Pg.Rs(new pn(o),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return th.Rs(i,n)}Ls(e){return XT.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);K("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=LT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class T2{constructor(){this.so=new aE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new aE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp=null;function t0(){return qp===null?qp=function(){return 268435456+Math.round(2147483648*Math.random())}():qp++,"0x"+qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class Gee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=t0(),l=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,l,c,i).then(d=>(K("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Di("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Iu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Wee[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=t0();return new Promise((s,a)=>{const l=new QM;l.setWithCredentials(!0),l.listenOnce(XM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gm.NO_ERROR:const d=l.getResponseJson();K(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case gm.TIMEOUT:K(zn,`RPC '${e}' ${o} timed out`),a(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const h=l.getStatus();if(K(zn,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(p.status);a(new H(g,p.message))}else a(new H(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(U.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{K(zn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);K(zn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=t0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eL(),a=ZM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new YM({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");K(zn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let f=!1,p=!1;const g=new Hee({Io:E=>{p?K(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(K(zn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),K(zn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),_=(E,v,y)=>{E.listen(v,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return _(h,Cd.EventType.OPEN,()=>{p||(K(zn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),_(h,Cd.EventType.CLOSE,()=>{p||(p=!0,K(zn,`RPC '${e}' stream ${i} transport closed`),g.So())}),_(h,Cd.EventType.ERROR,E=>{p||(p=!0,Di(zn,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new H(U.UNAVAILABLE,"The operation could not be completed")))}),_(h,Cd.EventType.MESSAGE,E=>{var v;if(!p){const y=E.data[0];ce(!!y);const w=y,S=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(S){K(zn,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let C=function(R){const x=Jt[R];if(x!==void 0)return BL(x)}(k),T=S.message;C===void 0&&(C=U.INTERNAL,T="Unknown error status: "+k+" with message "+S.message),p=!0,g.So(new H(C,T)),h.close()}else K(zn,`RPC '${e}' stream ${i} received:`,y),g.bo(y)}}),_(a,JM.STAT_EVENT,E=>{E.stat===Ww.PROXY?K(zn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Ww.NOPROXY&&K(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof window<"u"?window:null}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new ZZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ht(n.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kee extends S2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nee(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Gt(s.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=nE(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=wg(l)?{documents:JL(o,l)}:{query:ZL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HL(o,s.resumeToken);const c=eE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=Zc(o,s.snapshotVersion.toTimestamp());const c=eE(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=iee(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=nE(this.serializer),n.removeTarget=e,this.a_(n)}}class Qee extends S2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ce(!!e.streamToken),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ree(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=nE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kh(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,tE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,tE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Xee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ht(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Zs(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=te(l);c.L_.add(4),await xu(c),c.q_.set("Unknown"),c.L_.delete(4),await Of(c)}(this))})}),this.q_=new Xee(r,i)}}async function Of(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function xu(t){for(const e of t.B_)await e(!1)}function av(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tI(n)?eI(n):Cu(n).r_()&&ZT(n,e))}function nu(t,e){const n=te(t),r=Cu(n);n.N_.delete(e),r.r_()&&R2(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function ZT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).A_(e)}function R2(t,e){t.Q_.xe(e),Cu(t).R_(e)}function eI(t){t.Q_=new QZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.q_.v_()}function tI(t){return Zs(t)&&!Cu(t).n_()&&t.N_.size>0}function Zs(t){return te(t).L_.size===0}function P2(t){t.Q_=void 0}async function Zee(t){t.q_.set("Online")}async function ete(t){t.N_.forEach((e,n)=>{ZT(t,e)})}async function tte(t,e){P2(t),tI(t)?(t.q_.M_(e),eI(t)):t.q_.set("Unknown")}async function nte(t,e,n){if(t.q_.set("Online"),e instanceof WL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ag(t,r)}else if(e instanceof bm?t.Q_.Ke(e):e instanceof qL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await v2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),R2(o,l);const h=new To(d.target,l,c,d.sequenceNumber);ZT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Ag(t,r)}}async function Ag(t,e,n){if(!Xs(e))throw e;t.L_.add(1),await xu(t),t.q_.set("Offline"),n||(n=()=>v2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Of(t)})}function x2(t,e){return e().catch(n=>Ag(t,n,e))}async function Au(t){const e=te(t),n=Bs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rte(e);)try{const i=await jee(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ite(e,i)}catch(i){await Ag(e,i)}A2(e)&&C2(e)}function rte(t){return Zs(t)&&t.O_.length<10}function ite(t,e){t.O_.push(e);const n=Bs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function A2(t){return Zs(t)&&!Bs(t).n_()&&t.O_.length>0}function C2(t){Bs(t).start()}async function ote(t){Bs(t).p_()}async function ste(t){const e=Bs(t);for(const n of t.O_)e.m_(n.mutations)}async function ate(t,e,n){const r=t.O_.shift(),i=UT.from(r,e,n);await x2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Au(t)}async function lte(t,e){e&&Bs(t).V_&&await async function(r,i){if(function(s){return jL(s)&&s!==U.ABORTED}(i.code)){const o=r.O_.shift();Bs(r).s_(),await x2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Au(r)}}(t,e),A2(t)&&C2(t)}async function _A(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await xu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Of(n)}async function lE(t,e){const n=te(t);e?(n.L_.delete(2),await Of(n)):e||(n.L_.add(2),await xu(n),n.q_.set("Unknown"))}function Cu(t){return t.K_||(t.K_=function(n,r,i){const o=te(n);return o.w_(),new Kee(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Zee.bind(null,t),Ro:ete.bind(null,t),mo:tte.bind(null,t),d_:nte.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tI(t)?eI(t):t.q_.set("Unknown")):(await t.K_.stop(),P2(t))})),t.K_}function Bs(t){return t.U_||(t.U_=function(n,r,i){const o=te(n);return o.w_(),new Qee(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ote.bind(null,t),mo:lte.bind(null,t),f_:ste.bind(null,t),g_:ate.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Au(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new nI(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ku(t,e){if(Ht("AsyncQueue",`${e}: ${t}`),Xs(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=kd(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.W_=new ht(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ru{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ru(e,n,Tc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ute{constructor(){this.queries=EA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=te(n),o=i.queries;i.queries=EA(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function EA(){return new Js(t=>PL(t),Rf)}async function rI(t,e){const n=te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new cte,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ku(s,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&oI(n)}async function iI(t,e){const n=te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dte(t,e){const n=te(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&oI(n)}function hte(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function oI(t){t.Y_.forEach(e=>{e.next()})}var cE,bA;(bA=cE||(cE={})).ea="default",bA.Cache="cache";class sI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.serializer=e}Es(e){return io(this.serializer,e)}ds(e){return e.metadata.exists?XL(this.serializer,e.document,!1):gt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Gt(e)}}class pte{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=k2(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Me.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new TA(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Se()).add(o);n.set(s,a)}}return n}async complete(){const e=await Bee(this.localStore,new TA(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await zee(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function k2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.key=e}}class N2{constructor(e){this.key=e}}class D2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=AL(e),this.Ra=new Tc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new wA,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Pf(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),E=!0):this.ga(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(s=s.add(p),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(p,g){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return _(p)-_(g)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new ru(this.query,e.Ra,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new N2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new O2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ru.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gte{constructor(e){this.key=e,this.va=!1}}class yte{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Js(a=>PL(a),Rf),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ee.comparator),this.Na=new Map,this.La=new GT,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vte(t,e,n=!0){const r=lv(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await M2(r,e,n,!0),i}async function _te(t,e){const n=lv(t);await M2(n,e,!0,!1)}async function M2(t,e,n,r){const i=await eu(t.localStore,lr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await aI(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&av(t.remoteStore,i),a}async function aI(t,e,n,r,i){t.Ka=(h,f,p)=>async function(_,E,v,y){let w=E.view.ma(v);w.ns&&(w=await Rg(_.localStore,E.query,!1).then(({documents:T})=>E.view.ma(T,w)));const S=y&&y.targetChanges.get(E.targetId),k=y&&y.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(w,_.isPrimaryClient,S,k);return uE(_,E.targetId,C.wa),C.snapshot}(t,h,f,p);const o=await Rg(t.localStore,e,!0),s=new D2(e,o.Ts),a=s.ma(o.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);uE(t,n,c.wa);const d=new mte(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function wte(t,e,n){const r=te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Rf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nu(r.remoteStore,i.targetId),iu(r,i.targetId)}).catch(Ys)):(iu(r,i.targetId),await tu(r.localStore,i.targetId,!0))}async function Ete(t,e){const n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nu(n.remoteStore,r.targetId))}async function bte(t,e,n){const r=dI(t);try{const i=await function(s,a){const l=te(s),c=It.now(),d=a.reduce((p,g)=>p.add(g.key),Se());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Er(),_=Se();return l.cs.getEntries(p,d).next(E=>{g=E,g.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const v=[];for(const y of a){const w=HZ(y,h.get(y.key).overlayedDocument);w!=null&&v.push(new Go(y.key,w,vL(w.value.mapValue),Tt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:kL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new ht(Te)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ko(r,i.changes),await Au(r.remoteStore)}catch(i){const o=ku(i,"Failed to persist write");n.reject(o)}}async function L2(t,e){const n=te(t);try{const r=await Uee(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ce(s.va):i.removedDocuments.size>0&&(ce(s.va),s.va=!1))}),await Ko(n,r,e)}catch(r){await Ys(r)}}function IA(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=te(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&oI(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tte(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new ht(ee.comparator);s=s.insert(o,gt.newNoDocument(o,he.min()));const a=Se().add(o),l=new Af(he.min(),new Map,new ht(Te),s,a);await L2(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),uI(r)}else await tu(r.localStore,e,!1).then(()=>iu(r,e,n)).catch(Ys)}async function Ite(t,e){const n=te(t),r=e.batch.batchId;try{const i=await $ee(n.localStore,e);cI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ko(n,i)}catch(i){await Ys(i)}}async function Ste(t,e,n){const r=te(t);try{const i=await function(s,a){const l=te(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ce(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ko(r,i)}catch(i){await Ys(i)}}async function Rte(t,e){const n=te(t);Zs(n.remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const a=te(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=ku(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cI(t,e,n){const r=te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||V2(t,r)})}function V2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),uI(t))}function uE(t,e,n){for(const r of n)r instanceof O2?(t.La.addReference(r.key,e),Pte(t,r)):r instanceof N2?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||V2(t,r.key)):re()}function Pte(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),uI(t))}function uI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new gte(n)),t.Oa=t.Oa.insert(n,r),av(t.remoteStore,new To(lr(Su(n.path)),r,"TargetPurposeLimboResolution",_r.oe))}}async function Ko(t,e,n){const r=te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=YT.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(c,f=>F.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>F.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Xs(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(f,_)}}}(r.localStore,o))}async function xte(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await y2(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(U.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ko(n,r.hs)}}function Ate(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}async function Cte(t,e){const n=te(t),r=await Rg(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&uE(n,e.targetId,i.wa),i}async function kte(t,e){const n=te(t);return E2(n.localStore,e).then(r=>Ko(n,r))}async function Ote(t,e,n,r){const i=te(t),o=await function(a,l){const c=te(a),d=te(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):F.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Au(i.remoteStore):n==="acknowledged"||n==="rejected"?(cI(i,e,r||null),lI(i,e),function(a,l){te(te(a).mutationQueue).On(l)}(i.localStore,e)):re(),await Ko(i,o)):K("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Nte(t,e){const n=te(t);if(lv(n),dI(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await SA(n,r.toArray());n.Qa=!0,await lE(n.remoteStore,!0);for(const o of i)av(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(iu(n,s),tu(n.localStore,s,!0))),nu(n.remoteStore,s)}),await i,await SA(n,r),function(s){const a=te(s);a.Na.forEach((l,c)=>{nu(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new ht(ee.comparator)}(n),n.Qa=!1,await lE(n.remoteStore,!1)}}async function SA(t,e,n){const r=te(t),i=[],o=[];for(const s of e){let a;const l=r.Ma.get(s);if(l&&l.length!==0){a=await eu(r.localStore,lr(l[0]));for(const c of l){const d=r.Fa.get(c),h=await Cte(r,d);h.snapshot&&o.push(h.snapshot)}}else{const c=await w2(r.localStore,s);a=await eu(r.localStore,c),await aI(r,F2(c),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i}function F2(t){return RL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Dte(t){return function(n){return te(te(n).persistence).Qi()}(te(t).localStore)}async function Mte(t,e,n,r){const i=te(t);if(i.Qa)return void K("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await E2(i.localStore,xL(o[0])),a=Af.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ft.EMPTY_BYTE_STRING);await Ko(i,s,a);break}case"rejected":await tu(i.localStore,e,!0),iu(i,e,r);break;default:re()}}async function Lte(t,e,n){const r=lv(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){K("SyncEngine","Adding an already active target "+i);continue}const o=await w2(r.localStore,i),s=await eu(r.localStore,o);await aI(r,F2(o),s.targetId,!1,s.resumeToken),av(r.remoteStore,s)}for(const i of n)r.Ma.has(i)&&await tu(r.localStore,i,!1).then(()=>{nu(r.remoteStore,i),iu(r,i)}).catch(Ys)}}function lv(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ate.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tte.bind(null,e),e.Ca.d_=dte.bind(null,e.eventManager),e.Ca.$a=hte.bind(null,e.eventManager),e}function dI(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ste.bind(null,e),e}function Vte(t,e,n){const r=te(t);(async function(o,s,a){try{const l=await s.getMetadata();if(await function(p,g){const _=te(p),E=Gt(g.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",v=>_.Gr.getBundleMetadata(v,g.id)).then(v=>!!v&&v.createTime.compareTo(E)>=0)}(o.localStore,l))return await s.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(k2(l));const c=new pte(l,o.localStore,s.serializer);let d=await s.Ua();for(;d;){const f=await c.la(d);f&&a._updateProgress(f),d=await s.Ua()}const h=await c.complete();return await Ko(o,h.Ia,void 0),await function(p,g){const _=te(p);return _.persistence.runTransaction("Save bundle","readwrite",E=>_.Gr.saveBundleMetadata(E,g))}(o.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return Di("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class dE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g2(this.persistence,new m2,e.initialUser,this.serializer)}createPersistence(e){return new p2(sv.Zr,this.serializer)}createSharedClientState(e){return new T2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $2 extends dE{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Wa.initialize(this,e),await dI(this.Wa.syncEngine),await Au(this.Wa.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return g2(this.persistence,new m2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Eee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new nZ(n,this.persistence);return new tZ(e.asyncQueue,r)}createPersistence(e){const n=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new KT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,I2(),Tm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new T2}}class Fte extends $2{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Wa.syncEngine;this.sharedClientState instanceof e0&&(this.sharedClientState.syncEngine={no:Ote.bind(null,n),ro:Mte.bind(null,n),io:Lte.bind(null,n),Qi:Dte.bind(null,n),eo:kte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await Nte(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=I2();if(!e0.D(n))throw new H(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new e0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class hI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xte.bind(null,this.syncEngine),await lE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ute}()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=function(o){return new Gee(o)}(e.databaseInfo);return function(o,s,a,l){return new Yee(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Jee(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>IA(this.syncEngine,n,0),function(){return vA.D()?new vA:new qee}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const h=new yte(i,o,s,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=te(i);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await xu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new _n,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.Ja()}async Ja(){const e=await this.Ya();if(e===null)return null;const n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);const i=await this.Xa(r);return new fte(JSON.parse(i),e.length+r)}eu(){return this.buffer.findIndex(e=>e===123)}async Ya(){for(;this.eu()<0&&!await this.tu(););if(this.buffer.length===0)return null;const e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Xa(e){for(;this.buffer.length<e;)await this.tu()&&this.Za("Reached the end of bundle when more is expected.");const n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}async tu(){const e=await this.ja.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new H(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=te(i),a={documents:o.map(h=>Gh(s.serializer,h))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,Me.emptyPath(),a,o.length),c=new Map;l.forEach(h=>{const f=tee(s.serializer,h);c.set(f.key.toString(),f)});const d=[];return o.forEach(h=>{const f=c.get(h.toString());ce(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ee.fromPath(r);this.mutations.push(new FT(i,this.precondition(i)))}),await async function(r,i){const o=te(r),s={writes:i.map(a=>Kh(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,Me.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new H(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?Tt.exists(!1):Tt.updateTime(n):Tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new H(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tt.updateTime(n)}return Tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.nu=r.maxAttempts,this.t_=new JT(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new Ute(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!If(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!jL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=nL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ku(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fI(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_A(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_A(e.remoteStore,i)),t._onlineComponents=e}function U2(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function fI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!U2(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await Im(t,new dE)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Im(t,new dE);return t._offlineComponents}async function uv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await hE(t,new hI))),t._onlineComponents}function j2(t){return fI(t).then(e=>e.persistence)}function pI(t){return fI(t).then(e=>e.localStore)}function B2(t){return uv(t).then(e=>e.remoteStore)}function mI(t){return uv(t).then(e=>e.syncEngine)}function zte(t){return uv(t).then(e=>e.datastore)}async function ou(t){const e=await uv(t),n=e.eventManager;return n.onListen=vte.bind(null,e.syncEngine),n.onUnlisten=wte.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_te.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ete.bind(null,e.syncEngine),n}function qte(t){return t.asyncQueue.enqueue(async()=>{const e=await j2(t),n=await B2(t);return e.setNetworkEnabled(!0),function(i){const o=te(i);return o.L_.delete(0),Of(o)}(n)})}function Wte(t){return t.asyncQueue.enqueue(async()=>{const e=await j2(t),n=await B2(t);return e.setNetworkEnabled(!1),async function(i){const o=te(i);o.L_.add(0),await xu(o),o.q_.set("Offline")}(n)})}function Hte(t,e){const n=new _n;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(c,d){const h=te(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new H(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=ku(a,`Failed to get document '${o} from cache`);s.reject(l)}}(await pI(t),e,n)),n.promise}function z2(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new cv({next:f=>{s.enqueueAndForget(()=>iI(o,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new sI(Su(a.path),d,{includeMetadataChanges:!0,_a:!0});return rI(o,h)}(await ou(t),t.asyncQueue,e,n,r)),r.promise}function Gte(t,e){const n=new _n;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await Rg(i,o,!0),l=new D2(o,a.Ts),c=l.ma(a.documents),d=l.applyChanges(c,!1);s.resolve(d.snapshot)}catch(a){const l=ku(a,`Failed to execute query '${o} against cache`);s.reject(l)}}(await pI(t),e,n)),n.promise}function q2(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new cv({next:f=>{s.enqueueAndForget(()=>iI(o,h)),f.fromCache&&l.source==="server"?c.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new sI(a,d,{includeMetadataChanges:!0,_a:!0});return rI(o,h)}(await ou(t),t.asyncQueue,e,n,r)),r.promise}function Kte(t,e){const n=new cv(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){te(i).Y_.add(o),o.next()}(await ou(t),n)),()=>{n.za(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){te(i).Y_.delete(o)}(await ou(t),n))}}function Qte(t,e,n,r){const i=function(s,a){let l;return l=typeof s=="string"?zL().encode(s):s,function(d,h){return new $te(d,h)}(function(d,h){if(d instanceof Uint8Array)return RA(d,h);if(d instanceof ArrayBuffer)return RA(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,kf(e));t.asyncQueue.enqueueAndForget(async()=>{Vte(await mI(t),i,r)})}function Yte(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=te(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(await pI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H2(t,e,n,r){if(e===!0&&r===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xA(t){if(!ee.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AA(t){if(ee.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Ke(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dv(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function G2(t,e){if(e<=0)throw new H(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qJ;switch(r.type){case"firstParty":return new KJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PA.get(n);r&&(K("ComponentProvider","Removing Datastore"),PA.delete(n),r.terminate())}(this),Promise.resolve()}}function Xte(t,e,n,r={}){var i;const o=(t=Ke(t,Nf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pn.MOCK_USER;else{a=CM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}t._authCredentials=new WJ(new tL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class K2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new K2(this.firestore,e,this._query)}},Pt=class Q2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Q2(this.firestore,e,this._key)}},ks=class Y2 extends cr{constructor(e,n,r){super(e,n,Su(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ee(e))}withConverter(e){return new Y2(this.firestore,e,this._path)}};function X2(t,e,...n){if(t=le(t),gI("collection","path",e),t instanceof Nf){const r=Me.fromString(e,...n);return AA(r),new ks(t,null,r)}{if(!(t instanceof Pt||t instanceof ks))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return AA(r),new ks(t.firestore,null,r)}}function Jte(t,e){if(t=Ke(t,Nf),gI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cr(t,null,function(r){return new Ho(Me.emptyPath(),r)}(e))}function Qh(t,e,...n){if(t=le(t),arguments.length===1&&(e=nL.newId()),gI("doc","path",e),t instanceof Nf){const r=Me.fromString(e,...n);return xA(r),new Pt(t,null,new ee(r))}{if(!(t instanceof Pt||t instanceof ks))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return xA(r),new Pt(t.firestore,t instanceof ks?t.converter:null,new ee(r))}}function J2(t,e){return t=le(t),e=le(e),(t instanceof Pt||t instanceof ks)&&(e instanceof Pt||e instanceof ks)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Z2(t,e){return t=le(t),e=le(e),t instanceof cr&&e instanceof cr&&t.firestore===e.firestore&&Rf(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new JT(this,"async_queue_retry"),this.Eu=()=>{const n=Tm();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new _n;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Xs(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ht("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=nI.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&re()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function fE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ene{constructor(){this._progressObserver={},this._taskCompletionResolver=new _n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne=-1;let $t=class extends Nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Zte}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eV(this),this._firestoreClient.terminate()}};function bn(t){return t._firestoreClient||eV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eV(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new IZ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,W2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Bte(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function nne(t,e){nV(t=Ke(t,$t));const n=bn(t);if(n._uninitializedComponentsProvider)throw new H(U.FAILED_PRECONDITION,"SDK cache is already specified.");Di("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new hI;return tV(n,i,new $2(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function rne(t){nV(t=Ke(t,$t));const e=bn(t);if(e._uninitializedComponentsProvider)throw new H(U.FAILED_PRECONDITION,"SDK cache is already specified.");Di("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new hI;return tV(e,r,new Fte(r,n.cacheSizeBytes))}function tV(t,e,n){const r=new _n;return t.asyncQueue.enqueue(async()=>{try{await Im(t,n),await hE(t,e),r.resolve()}catch(i){const o=i;if(!U2(o))throw o;Di("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function ine(t){if(t._initialized&&!t._terminated)throw new H(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _n;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ro.D())return Promise.resolve();const i=r+"main";await ro.delete(i)}(QT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function one(t){return function(n){const r=new _n;return n.asyncQueue.enqueueAndForget(async()=>Rte(await mI(n),r)),r.promise}(bn(t=Ke(t,$t)))}function sne(t){return qte(bn(t=Ke(t,$t)))}function ane(t){return Wte(bn(t=Ke(t,$t)))}function lne(t,e){const n=bn(t=Ke(t,$t)),r=new ene;return Qte(n,t._databaseId,e,r),r}function cne(t,e){return Yte(bn(t=Ke(t,$t)),e).then(n=>n?new cr(t,null,n.query):null)}function nV(t){if(t._initialized||t._terminated)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une=/^__.*__$/;class dne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class rV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class fv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Cg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(iV(this.wu)&&une.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class hne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Nu(e,n,r,i=!1){return new fv({wu:e,methodName:n,Ou:r,path:bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new hne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pv(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);II("Data must be an object, but it was:",s,r);const a=aV(r,s);let l,c;if(o.merge)l=new wr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=pE(e,h,n);if(!s.contains(f))throw new H(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cV(d,f)||d.push(f)}l=new wr(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new dne(new Dn(a),l,c)}class Df extends gl{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function oV(t,e,n){return new fv({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vI extends gl{_toFieldTransform(e){return new xf(e.path,new Xc)}isEqual(e){return e instanceof vI}}class _I extends gl{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=oV(this,e,!0),r=this.Lu.map(o=>vl(o,n)),i=new el(r);return new xf(e.path,i)}isEqual(e){return e instanceof _I&&Vh(this.Lu,e.Lu)}}class wI extends gl{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=oV(this,e,!0),r=this.Lu.map(o=>vl(o,n)),i=new tl(r);return new xf(e.path,i)}isEqual(e){return e instanceof wI&&Vh(this.Lu,e.Lu)}}class EI extends gl{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){const n=new Jc(e.serializer,DL(e.serializer,this.Bu));return new xf(e.path,n)}isEqual(e){return e instanceof EI&&this.Bu===e.Bu}}function bI(t,e,n,r){const i=t.Nu(1,e,n);II("Data must be an object, but it was:",i,r);const o=[],s=Dn.empty();ml(r,(l,c)=>{const d=SI(e,l,n);c=le(c);const h=i.Cu(d);if(c instanceof Df)o.push(d);else{const f=vl(c,h);f!=null&&(o.push(d),s.set(d,f))}});const a=new wr(o);return new rV(s,a,i.fieldTransforms)}function TI(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[pE(e,r,n)],l=[i];if(o.length%2!=0)throw new H(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(pE(e,o[f])),l.push(o[f+1]);const c=[],d=Dn.empty();for(let f=a.length-1;f>=0;--f)if(!cV(c,a[f])){const p=a[f];let g=l[f];g=le(g);const _=s.Cu(p);if(g instanceof Df)c.push(p);else{const E=vl(g,_);E!=null&&(c.push(p),d.set(p,E))}}const h=new wr(c);return new rV(d,h,s.fieldTransforms)}function sV(t,e,n,r=!1){return vl(n,t.Nu(r?4:3,e))}function vl(t,e){if(lV(t=le(t)))return II("Unsupported field value:",e,t),aV(t,e);if(t instanceof gl)return function(r,i){if(!iV(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=vl(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:Zc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,o)}}if(r instanceof hv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:HL(i.serializer,r._byteString)};if(r instanceof Pt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yI)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return VT(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${dv(r)}`)}(t,e)}function aV(t,e){const n={};return pL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(t,(r,i)=>{const o=vl(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof hv||t instanceof co||t instanceof Pt||t instanceof gl||t instanceof yI)}function II(t,e,n){if(!lV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function pE(t,e,n){if((e=le(e))instanceof zs)return e._internalPath;if(typeof e=="string")return SI(t,e);throw Cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const fne=new RegExp("[~\\*/\\[\\]]");function SI(t,e,n){if(e.search(fne)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zs(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cg(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(U.INVALID_ARGUMENT,a+t+l)}function cV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pne extends Yh{data(){return super.data()}}function mv(t,e){return typeof e=="string"?SI(t,e):e instanceof zs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RI{}class Mf extends RI{}function ls(t,e,...n){let r=[];e instanceof RI&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof PI).length,a=o.filter(l=>l instanceof gv).length;if(s>1||s>0&&a>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gv extends Mf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gv(e,n,r)}_apply(e){const n=this._parse(e);return hV(e._query,n),new cr(e.firestore,e.converter,Zw(e._query,n))}_parse(e){const n=yl(e.firestore);return function(o,s,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){OA(h,d);const p=[];for(const g of h)p.push(kA(l,o,g));f={arrayValue:{values:p}}}else f=kA(l,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||OA(h,d),f=sV(a,s,h,d==="in"||d==="not-in");return Le.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mne(t,e,n){const r=e,i=mv("where",t);return gv._create(i,r,n)}class PI extends RI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)hV(s,l),s=Zw(s,l)}(e._query,n),new cr(e.firestore,e.converter,Zw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xI extends Mf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xI(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hh(o,s)}(e._query,this._field,this._direction);return new cr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ho(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gne(t,e="asc"){const n=e,r=mv("orderBy",t);return xI._create(r,n)}class yv extends Mf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yv(e,n,r)}_apply(e){return new cr(e.firestore,e.converter,bg(e._query,this._limit,this._limitType))}}function yne(t){return G2("limit",t),yv._create("limit",t,"F")}function vne(t){return G2("limitToLast",t),yv._create("limitToLast",t,"L")}class vv extends Mf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vv(e,n,r)}_apply(e){const n=dV(e,this.type,this._docOrFields,this._inclusive);return new cr(e.firestore,e.converter,function(i,o){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function _ne(...t){return vv._create("startAt",t,!0)}function wne(...t){return vv._create("startAfter",t,!1)}class _v extends Mf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=dV(e,this.type,this._docOrFields,this._inclusive);return new cr(e.firestore,e.converter,function(i,o){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function Ene(...t){return _v._create("endBefore",t,!1)}function bne(...t){return _v._create("endAt",t,!0)}function dV(t,e,n,r){if(n[0]=le(n[0]),n[0]instanceof Yh)return function(o,s,a,l,c){if(!l)throw new H(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of bc(o))if(h.field.isKeyField())d.push(Ja(s,l.key));else{const f=l.data.field(h.field);if(ev(f))throw new H(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new H(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(f)}return new js(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=yl(t.firestore);return function(s,a,l,c,d,h){const f=s.explicitOrderBy;if(d.length>f.length)throw new H(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<d.length;g++){const _=d[g];if(f[g].field.isKeyField()){if(typeof _!="string")throw new H(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof _}`);if(!MT(s)&&_.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${_}' contains a slash.`);const E=s.path.child(Me.fromString(_));if(!ee.isDocumentKey(E))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const v=new ee(E);p.push(Ja(a,v))}else{const E=sV(l,c,_);p.push(E)}}return new js(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function kA(t,e,n){if(typeof(n=le(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ee.isDocumentKey(r))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ja(t,new ee(r))}if(n instanceof Pt)return Ja(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(n)}.`)}function OA(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hV(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AI{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ml(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new yI(o)}convertGeoPoint(e){return new hv(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=NT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);ce(r2(r));const i=new $s(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Ht(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tne extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fo=class extends Yh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},nh=class extends Fo{data(e={}){return super.data(e)}},qs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Ine(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Ine(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function fV(t,e){return t instanceof Fo&&e instanceof Fo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qs&&e instanceof qs&&t._firestore===e._firestore&&Z2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){t=Ke(t,Pt);const e=Ke(t.firestore,$t);return z2(bn(e),t._key).then(n=>CI(e,t,n))}class _l extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Sne(t){t=Ke(t,Pt);const e=Ke(t.firestore,$t),n=bn(e),r=new _l(e);return Hte(n,t._key).then(i=>new Fo(e,r,t._key,i,new xa(i!==null&&i.hasLocalMutations,!0),t.converter))}function Rne(t){t=Ke(t,Pt);const e=Ke(t.firestore,$t);return z2(bn(e),t._key,{source:"server"}).then(n=>CI(e,t,n))}function Pne(t){t=Ke(t,cr);const e=Ke(t.firestore,$t),n=bn(e),r=new _l(e);return uV(t._query),q2(n,t._query).then(i=>new qs(e,r,t,i))}function xne(t){t=Ke(t,cr);const e=Ke(t.firestore,$t),n=bn(e),r=new _l(e);return Gte(n,t._query).then(i=>new qs(e,r,t,i))}function Ane(t){t=Ke(t,cr);const e=Ke(t.firestore,$t),n=bn(e),r=new _l(e);return q2(n,t._query,{source:"server"}).then(i=>new qs(e,r,t,i))}function NA(t,e,n){t=Ke(t,Pt);const r=Ke(t.firestore,$t),i=wv(t.converter,e,n);return Lf(r,[pv(yl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tt.none())])}function DA(t,e,n,...r){t=Ke(t,Pt);const i=Ke(t.firestore,$t),o=yl(i);let s;return s=typeof(e=le(e))=="string"||e instanceof zs?TI(o,"updateDoc",t._key,e,n,r):bI(o,"updateDoc",t._key,e),Lf(i,[s.toMutation(t._key,Tt.exists(!0))])}function Cne(t){return Lf(Ke(t.firestore,$t),[new Pu(t._key,Tt.none())])}function kne(t,e){const n=Ke(t.firestore,$t),r=Qh(t),i=wv(t.converter,e);return Lf(n,[pv(yl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}function mV(t,...e){var n,r,i;t=le(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fE(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Pt)c=Ke(t.firestore,$t),d=Su(t._key.path),l={next:h=>{e[s]&&e[s](CI(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ke(t,cr);c=Ke(h.firestore,$t),d=h._query;const f=new _l(c);l={next:p=>{e[s]&&e[s](new qs(c,f,h,p))},error:e[s+1],complete:e[s+2]},uV(t._query)}return function(f,p,g,_){const E=new cv(_),v=new sI(p,E,g);return f.asyncQueue.enqueueAndForget(async()=>rI(await ou(f),v)),()=>{E.za(),f.asyncQueue.enqueueAndForget(async()=>iI(await ou(f),v))}}(bn(c),d,a,l)}function One(t,e){return Kte(bn(t=Ke(t,$t)),fE(e)?e:{next:e})}function Lf(t,e){return function(r,i){const o=new _n;return r.asyncQueue.enqueueAndForget(async()=>bte(await mI(r),i,o)),o.promise}(bn(t),e)}function CI(t,e,n){const r=n.docs.get(e._key),i=new _l(t);return new Fo(t,i,e._key,r,new xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dne=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yl(e)}set(e,n,r){this._verifyNotCommitted();const i=ms(e,this._firestore),o=wv(i.converter,n,r),s=pv(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Tt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=ms(e,this._firestore);let s;return s=typeof(n=le(n))=="string"||n instanceof zs?TI(this._dataReader,"WriteBatch.update",o._key,n,r,i):bI(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ms(e,this._firestore);return this._mutations=this._mutations.concat(new Pu(n._key,Tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ms(t,e){if((t=le(t)).firestore!==e)throw new H(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mne=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=yl(n)}get(n){const r=ms(n,this._firestore),i=new Tne(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return re();const s=o[0];if(s.isFoundDocument())return new Yh(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Yh(this._firestore,i,r._key,null,r.converter);throw re()})}set(n,r,i){const o=ms(n,this._firestore),s=wv(o.converter,r,i),a=pv(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=ms(n,this._firestore);let a;return a=typeof(r=le(r))=="string"||r instanceof zs?TI(this._dataReader,"Transaction.update",s._key,r,i,o):bI(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=ms(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ms(e,this._firestore),r=new _l(this._firestore);return super.get(e).then(i=>new Fo(this._firestore,r,n._key,i._document,new xa(!1,!1),n.converter))}};function Lne(t,e,n){t=Ke(t,$t);const r=Object.assign(Object.assign({},Nne),n);return function(o){if(o.maxAttempts<1)throw new H(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new _n;return o.asyncQueue.enqueueAndForget(async()=>{const c=await zte(o);new jte(o.asyncQueue,c,a,s,l).ru()}),l.promise}(bn(t),i=>e(new Mne(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(){return new Df("deleteField")}function Fne(){return new vI("serverTimestamp")}function $ne(...t){return new _I("arrayUnion",t)}function Une(...t){return new wI("arrayRemove",t)}function jne(t){return new EI("increment",t)}(function(e,n=!0){(function(i){Iu=i})(Wo),Hr(new Qn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $t(new HJ(r.getProvider("auth-internal")),new YJ(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vn(Sx,"4.7.2",e),vn(Sx,"4.7.2","esm2017")})();var Bne="firebase",zne="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(Bne,zne,"app");const gV="@firebase/installations",kI="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1e4,vV=`w:${kI}`,_V="FIS_v2",qne="https://firebaseinstallations.googleapis.com/v1",Wne=60*60*1e3,Hne="installations",Gne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ol=new qo(Hne,Gne,Kne);function wV(t){return t instanceof yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV({projectId:t}){return`${qne}/projects/${t}/installations`}function bV(t){return{token:t.token,requestStatus:2,expiresIn:Yne(t.expiresIn),creationTime:Date.now()}}async function TV(t,e){const r=(await e.json()).error;return ol.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function IV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Qne(t,{refreshToken:e}){const n=IV(t);return n.append("Authorization",Xne(e)),n}async function SV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Yne(t){return Number(t.replace("s","000"))}function Xne(t){return`${_V} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jne({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EV(t),i=IV(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:_V,appId:t.appId,sdkVersion:vV},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await SV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bV(c.authToken)}}else throw await TV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere=/^[cdef][\w-]{21}$/,mE="";function tre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nre(t);return ere.test(n)?n:mE}catch{return mE}}function nre(t){return Zne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Map;function xV(t,e){const n=Ev(t);AV(n,e),rre(n,e)}function AV(t,e){const n=PV.get(t);if(n)for(const r of n)r(e)}function rre(t,e){const n=ire();n&&n.postMessage({key:t,fid:e}),ore()}let Aa=null;function ire(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=t=>{AV(t.data.key,t.data.fid)}),Aa}function ore(){PV.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sre="firebase-installations-database",are=1,sl="firebase-installations-store";let n0=null;function OI(){return n0||(n0=UM(sre,are,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sl)}}})),n0}async function kg(t,e){const n=Ev(t),i=(await OI()).transaction(sl,"readwrite"),o=i.objectStore(sl),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&xV(t,e.fid),e}async function CV(t){const e=Ev(t),r=(await OI()).transaction(sl,"readwrite");await r.objectStore(sl).delete(e),await r.done}async function bv(t,e){const n=Ev(t),i=(await OI()).transaction(sl,"readwrite"),o=i.objectStore(sl),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&xV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t){let e;const n=await bv(t.appConfig,r=>{const i=lre(r),o=cre(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===mE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lre(t){const e=t||{fid:tre(),registrationStatus:0};return kV(e)}function cre(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ol.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ure(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dre(t)}:{installationEntry:e}}async function ure(t,e){try{const n=await Jne(t,e);return kg(t.appConfig,n)}catch(n){throw wV(n)&&n.customData.serverCode===409?await CV(t.appConfig):await kg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dre(t){let e=await MA(t.appConfig);for(;e.registrationStatus===1;)await RV(100),e=await MA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await NI(t);return r||n}return e}function MA(t){return bv(t,e=>{if(!e)throw ol.create("installation-not-found");return kV(e)})}function kV(t){return hre(t)?{fid:t.fid,registrationStatus:0}:t}function hre(t){return t.registrationStatus===1&&t.registrationTime+yV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fre({appConfig:t,heartbeatServiceProvider:e},n){const r=pre(t,n),i=Qne(t,n),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:vV,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await SV(()=>fetch(r,a));if(l.ok){const c=await l.json();return bV(c)}else throw await TV("Generate Auth Token",l)}function pre(t,{fid:e}){return`${EV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e=!1){let n;const r=await bv(t.appConfig,o=>{if(!OV(o))throw ol.create("not-registered");const s=o.authToken;if(!e&&yre(s))return o;if(s.requestStatus===1)return n=mre(t,e),o;{if(!navigator.onLine)throw ol.create("app-offline");const a=_re(o);return n=gre(t,a),a}});return n?await n:r.authToken}async function mre(t,e){let n=await LA(t.appConfig);for(;n.authToken.requestStatus===1;)await RV(100),n=await LA(t.appConfig);const r=n.authToken;return r.requestStatus===0?DI(t,e):r}function LA(t){return bv(t,e=>{if(!OV(e))throw ol.create("not-registered");const n=e.authToken;return wre(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gre(t,e){try{const n=await fre(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await kg(t.appConfig,r),n}catch(n){if(wV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await CV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kg(t.appConfig,r)}throw n}}function OV(t){return t!==void 0&&t.registrationStatus===2}function yre(t){return t.requestStatus===2&&!vre(t)}function vre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Wne}function _re(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function wre(t){return t.requestStatus===1&&t.requestTime+yV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ere(t){const e=t,{installationEntry:n,registrationPromise:r}=await NI(e);return r?r.catch(console.error):DI(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bre(t,e=!1){const n=t;return await Tre(n),(await DI(n,e)).token}async function Tre(t){const{registrationPromise:e}=await NI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ire(t){if(!t||!t.options)throw r0("App Configuration");if(!t.name)throw r0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw r0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function r0(t){return ol.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="installations",Sre="installations-internal",Rre=t=>{const e=t.getProvider("app").getImmediate(),n=Ire(e),r=Jy(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Pre=t=>{const e=t.getProvider("app").getImmediate(),n=Jy(e,NV).getImmediate();return{getId:()=>Ere(n),getToken:i=>bre(n,i)}};function xre(){Hr(new Qn(NV,Rre,"PUBLIC")),Hr(new Qn(Sre,Pre,"PRIVATE"))}xre();vn(gV,kI);vn(gV,kI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="analytics",Are="firebase_id",Cre="origin",kre=60*1e3,Ore="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Tf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},di=new qo("analytics","Analytics",Nre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(t){if(!t.startsWith(MI)){const e=di.create("invalid-gtag-resource",{gtagURL:t});return Ar.warn(e.message),""}return t}function DV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Mre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Lre(t,e){const n=Mre("firebase-js-sdk-policy",{createScriptURL:Dre}),r=document.createElement("script"),i=`${MI}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Vre(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Fre(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await DV(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Ar.error(a)}t("config",i,o)}async function $re(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await DV(n);for(const l of s){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ar.error(o)}}function Ure(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await $re(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await Fre(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=s;t("consent",a,l)}else if(o==="get"){const[a,l,c]=s;t("get",a,l,c)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Ar.error(a)}}return i}function jre(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Ure(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Bre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(MI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=30,qre=1e3;class Wre{constructor(e={},n=qre){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MV=new Wre;function Hre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Gre(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Hre(r)},o=Ore.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function Kre(t,e=MV,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw di.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw di.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xre;return setTimeout(async()=>{a.abort()},kre),LV({appId:r,apiKey:i,measurementId:o},s,a,e)}async function LV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MV){var o;const{appId:s,measurementId:a}=t;try{await Qre(r,e)}catch(l){if(a)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await Gre(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!Yre(c)){if(i.deleteThrottleMetadata(s),a)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const d=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?yx(n,i.intervalMillis,zre):yx(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,h),Ar.debug(`Calling attemptFetch again in ${d} millis`),LV(t,h,r,i)}}function Qre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yre(t){if(!(t instanceof yn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Xre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Jre(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zre(){if(Wc())try{await DM()}catch(t){return Ar.warn(di.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ar.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eie(t,e,n,r,i,o,s){var a;const l=Kre(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ar.error(p)),e.push(l);const c=Zre().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([l,c]);Bre(o)||Lre(o,d.measurementId),i("js",new Date);const f=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return f[Cre]="firebase",f.update=!0,h!=null&&(f[Are]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e){this.app=e}_delete(){return delete rh[this.app.options.appId],Promise.resolve()}}let rh={},FA=[];const $A={};let i0="dataLayer",nie="gtag",UA,VV,jA=!1;function rie(){const t=[];if(TT()&&t.push("This is a browser extension environment."),EX()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=di.create("invalid-analytics-context",{errorInfo:e});Ar.warn(n.message)}}function iie(t,e,n){rie();const r=t.options.appId;if(!r)throw di.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw di.create("no-api-key");if(rh[r]!=null)throw di.create("already-exists",{id:r});if(!jA){Vre(i0);const{wrappedGtag:o,gtagCore:s}=jre(rh,FA,$A,i0,nie);VV=o,UA=s,jA=!0}return rh[r]=eie(t,FA,$A,e,UA,i0,n),new tie(t)}function oie(t,e,n,r){t=le(t),Jre(VV,rh[t.app.options.appId],e,n,r).catch(i=>Ar.error(i))}const BA="@firebase/analytics",zA="0.10.8";function sie(){Hr(new Qn(VA,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return iie(r,i,n)},"PUBLIC")),Hr(new Qn("analytics-internal",t,"PRIVATE")),vn(BA,zA),vn(BA,zA,"esm2017");function t(e){try{const n=e.getProvider(VA).getImmediate();return{logEvent:(r,i,o)=>oie(n,r,i,o)}}catch(n){throw di.create("interop-component-reg-failed",{reason:n})}}}sie();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e,n){this._delegate=e,this.firebase=n,Fh(e,new Qn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),xT(this._delegate)))}_getService(e,n=Ms){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ms){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Fh(this._delegate,e)}_addOrOverwriteComponent(e){jM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lie={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},qA=new qo("app-compat","Firebase",lie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:vn,setLogLevel:WM,onLog:qM,apps:null,SDK_VERSION:Wo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:jJ}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(c){delete e[c]}function i(c){if(c=c||Ms,!mx(e,c))throw qA.create("no-app",{appName:c});return e[c]}i.App=t;function o(c,d={}){const h=PT(c,d);if(mx(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function s(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,h=d.replace("-compat","");if(Hr(c)&&c.type==="PUBLIC"){const f=(p=i())=>{if(typeof p[h]!="function")throw qA.create("invalid-app-argument",{appName:d});return p[h]()};c.serviceProps!==void 0&&yg(f,c.serviceProps),n[h]=f,t.prototype[h]=function(...p){return this._getService.bind(this,d).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){const t=cie(aie);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:FV,extendNamespace:e,createSubscribe:MM,ErrorFactory:qo,deepExtend:yg});function e(n){yg(t,n)}return t}const uie=FV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Tf("@firebase/app-compat"),die="@firebase/app-compat",hie="0.2.41";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fie(t){vn(die,hie,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=xM();if(t.firebase!==void 0){WA.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&WA.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ho=uie;fie();var pie="firebase",mie="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho.registerVersion(pie,mie,"app-compat");function LI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const yd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Bl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function $V(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yie=gie,vie=$V,UV=new qo("auth","Firebase",$V());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Tf("@firebase/auth");function _ie(t,...e){Og.logLevel<=ke.WARN&&Og.warn(`Auth (${Wo}): ${t}`,...e)}function Sm(t,...e){Og.logLevel<=ke.ERROR&&Og.error(`Auth (${Wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw FI(t,...e)}function un(t,...e){return FI(t,...e)}function VI(t,e,n){const r=Object.assign(Object.assign({},vie()),{[e]:n});return new qo("auth","Firebase",r).create(e,{appName:t.name})}function wn(t){return VI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ou(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(t,"argument-error"),VI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function FI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UV.create(t,...e)}function X(t,e,...n){if(!t)throw FI(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sm(e),new Error(e)}function Mi(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $I(){return HA()==="http:"||HA()==="https:"}function HA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($I()||TT()||"connection"in navigator)?navigator.onLine:!0}function Eie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=vX()||IT()}get(){return wie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie=new Vf(3e4,6e4);function jt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bt(t,e,n,r,i={}){return BV(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Tu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return wX()||(c.referrerPolicy="no-referrer"),jV.fetch()(zV(t,t.config.apiHost,n,a),c)})}async function BV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bie),e);try{const i=new Sie(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Dd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw VI(t,d,c);Fn(t,d)}}catch(i){if(i instanceof yn)throw i;Fn(t,"network-request-failed",{message:String(i)})}}async function Qo(t,e,n,r,i={}){const o=await Bt(t,e,n,r,i);return"mfaPendingCredential"in o&&Fn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function zV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?UI(t.config,i):`${t.config.apiScheme}://${i}`}function Iie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(un(this.auth,"network-request-failed")),Tie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=un(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){return t!==void 0&&t.getResponse!==void 0}function KA(t){return t!==void 0&&t.enterprise!==void 0}class Rie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Iie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pie(t){return(await Bt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function xie(t,e){return Bt(t,"GET","/v2/recaptchaConfig",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aie(t,e){return Bt(t,"POST","/v1/accounts:delete",e)}async function Cie(t,e){return Bt(t,"POST","/v1/accounts:update",e)}async function qV(t,e){return Bt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kie(t,e=!1){const n=le(t),r=await n.getIdToken(e),i=Tv(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ih(o0(i.auth_time)),issuedAtTime:ih(o0(i.iat)),expirationTime:ih(o0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function o0(t){return Number(t)*1e3}function Tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=PM(n);return i?JSON.parse(i):(Sm("Failed to decode base64 JWT payload"),null)}catch(i){return Sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QA(t){const e=Tv(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&Oie(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Oie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ih(this.lastLoginAt),this.creationTime=ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $o(t,qV(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WV(o.providerUserInfo):[],a=Mie(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gE(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Die(t){const e=le(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WV(t){return t.map(e=>{var{providerId:n}=e,r=LI(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lie(t,e){const n=await BV(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=zV(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jV.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vie(t,e){return Bt(t,"POST","/v2/accounts:revokeToken",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=QA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Lie(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ic;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Io{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=LI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kie(this,e)}reload(){return Die(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Io(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(wn(this.auth));const e=await this.getIdToken();return await $o(this,Aie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:k,providerData:C,stsTokenManager:T}=n;X(w&&T,e,"internal-error");const I=Ic.fromJSON(this.name,T);X(typeof w=="string",e,"internal-error"),cs(h,e.name),cs(f,e.name),X(typeof S=="boolean",e,"internal-error"),X(typeof k=="boolean",e,"internal-error"),cs(p,e.name),cs(g,e.name),cs(_,e.name),cs(E,e.name),cs(v,e.name),cs(y,e.name);const R=new Io({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:k,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:I,createdAt:v,lastLoginAt:y});return C&&Array.isArray(C)&&(R.providerData=C.map(x=>Object.assign({},x))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ic;i.updateFromServerResponse(n);const o=new Io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?WV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ic;a.updateFromIdToken(r);const l=new Io({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Map;function Ur(t){Mi(t instanceof Function,"Expected a class definition");let e=YA.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HV.type="NONE";const su=HV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,e,n){return`firebase:${t}:${e}:${n}`}class Sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fa(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fa("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Io._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sc(Ur(su),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Ur(su);const s=Fa(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const h=Io._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sc(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Sc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XV(e))return"Blackberry";if(JV(e))return"Webos";if(KV(e))return"Safari";if((e.includes("chrome/")||QV(e))&&!e.includes("edge/"))return"Chrome";if(Ff(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GV(t=At()){return/firefox\//i.test(t)}function KV(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QV(t=At()){return/crios\//i.test(t)}function YV(t=At()){return/iemobile/i.test(t)}function Ff(t=At()){return/android/i.test(t)}function XV(t=At()){return/blackberry/i.test(t)}function JV(t=At()){return/webos/i.test(t)}function $f(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fie(t=At()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function $ie(t=At()){var e;return $f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uie(){return OM()&&document.documentMode===10}function ZV(t=At()){return $f(t)||Ff(t)||JV(t)||XV(t)||/windows phone/i.test(t)||YV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e=[]){let n;switch(t){case"Browser":n=XA(At());break;case"Worker":n=`${XA(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bie(t,e={}){return Bt(t,"GET","/v2/passwordPolicy",jt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=6;class qie{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zie,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JA(this),this.idTokenSubscription=new JA(this),this.beforeStateQueue=new jie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qV(this,{idToken:e}),r=await Io._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Eie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vt(this.app))return Promise.reject(wn(this));const n=e?le(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vt(this.app)?Promise.reject(wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bie(this),n=new qie(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vie(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_ie(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ut(t){return le(t)}class JA{constructor(e){this.auth=e,this.observer=null,this.addObserver=MM(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hie(t){Uf=t}function jI(t){return Uf.loadJS(t)}function Gie(){return Uf.recaptchaV2Script}function Kie(){return Uf.recaptchaEnterpriseScript}function Qie(){return Uf.gapiScript}function tF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Yie="recaptcha-enterprise",Xie="NO_RECAPTCHA";class Jie{constructor(e){this.type=Yie,this.auth=Ut(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{xie(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Rie(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;KA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Xie)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&KA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Kie();l.length!==0&&(l+=a),jI(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function ZA(t,e,n,r=!1){const i=new Jie(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Zh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ZA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await ZA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}function Zie(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eoe(t,e,n){const r=Ut(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=nF(e),{host:s,port:a}=toe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||noe()}function nF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function toe(t){const e=nF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:eC(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:eC(s)}}}function eC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function noe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return Bt(t,"POST","/v1/accounts:resetPassword",jt(t,e))}async function roe(t,e){return Bt(t,"POST","/v1/accounts:update",e)}async function ioe(t,e){return Bt(t,"POST","/v1/accounts:signUp",e)}async function ooe(t,e){return Bt(t,"POST","/v1/accounts:update",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function soe(t,e){return Qo(t,"POST","/v1/accounts:signInWithPassword",jt(t,e))}async function Iv(t,e){return Bt(t,"POST","/v1/accounts:sendOobCode",jt(t,e))}async function aoe(t,e){return Iv(t,e)}async function loe(t,e){return Iv(t,e)}async function coe(t,e){return Iv(t,e)}async function uoe(t,e){return Iv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function doe(t,e){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))}async function hoe(t,e){return Qo(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Nu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ef(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ef(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",soe);case"emailLink":return doe(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,r,"signUpPassword",ioe);case"emailLink":return hoe(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return Qo(t,"POST","/v1/accounts:signInWithIdp",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe="http://localhost";class uo extends Nu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=LI(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new uo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:foe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function poe(t,e){return Bt(t,"POST","/v1/accounts:sendVerificationCode",jt(t,e))}async function moe(t,e){return Qo(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,e))}async function goe(t,e){const n=await Qo(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,e));if(n.temporaryProof)throw Dd(t,"account-exists-with-different-credential",n);return n}const yoe={USER_NOT_FOUND:"user-not-found"};async function voe(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Qo(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,n),yoe)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Nu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new $a({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new $a({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return moe(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return goe(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return voe(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new $a({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _oe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function woe(t){const e=hc(Ad(t)).link,n=e?hc(Ad(e)).deep_link_id:null,r=hc(Ad(t)).deep_link_id;return(r?hc(Ad(r)).link:null)||r||n||e||t}class Sv{constructor(e){var n,r,i,o,s,a;const l=hc(Ad(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_oe((i=l.mode)!==null&&i!==void 0?i:null);X(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=woe(e);try{return new Sv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return ef._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sv.parseLink(n);return X(r,"argument-error"),ef._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Yo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rc extends Du{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return X("providerId"in n&&"signInMethod"in n,"argument-error"),uo._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return X(e.idToken||e.accessToken,"argument-error"),uo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Rc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new Rc(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Du{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Du{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eoe="http://localhost";class au extends Nu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new au(r,o)}static _create(e,n){return new au(e,n)}buildRequest(){return{requestUri:Eoe,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe="saml.";class Ng extends Yo{constructor(e){X(e.startsWith(boe),"argument-error"),super(e)}static credentialFromResult(e){return Ng.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ng.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=au.fromJSON(e);return X(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return au._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Du{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return Qo(t,"POST","/v1/accounts:signUp",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Io._fromIdTokenResponse(e,r,i),s=tC(r);return new yi({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tC(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Toe(t){var e;if(Vt(t.app))return Promise.reject(wn(t));const n=Ut(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new yi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await iF(n,{returnSecureToken:!0}),i=await yi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends yn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dg(e,n,r,i)}}function oF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dg._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ioe(t,e){const n=le(t);await Rv(!0,n,e);const{providerUserInfo:r}=await Cie(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=sF(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function BI(t,e,n=!1){const r=await $o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yi._forOperation(t,"link",r)}async function Rv(t,e,n){await Jh(e);const r=sF(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";X(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e,n=!1){const{auth:r}=t;if(Vt(r.app))return Promise.reject(wn(r));const i="reauthenticate";try{const o=await $o(t,oF(r,i,e,t),n);X(o.idToken,r,"internal-error");const s=Tv(o.idToken);X(s,r,"internal-error");const{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),yi._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e,n=!1){if(Vt(t.app))return Promise.reject(wn(t));const r="signIn",i=await oF(t,r,e),o=await yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Pv(t,e){return lF(Ut(t),e)}async function cF(t,e){const n=le(t);return await Rv(!1,n,e.providerId),BI(n,e)}async function uF(t,e){return aF(le(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(t,e){return Qo(t,"POST","/v1/accounts:signInWithCustomToken",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(t,e){if(Vt(t.app))return Promise.reject(wn(t));const n=Ut(t),r=await Soe(n,{token:e,returnSecureToken:!0}),i=await yi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?zI._fromServerResponse(e,n):"totpInfo"in n?qI._fromServerResponse(e,n):Fn(e,"internal-error")}}class zI extends jf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new zI(n)}}class qI extends jf{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new qI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(t){const e=Ut(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Poe(t,e,n){const r=Ut(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&xv(r,i,n),await Zh(r,i,"getOobCode",loe)}async function xoe(t,e,n){await rF(le(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WI(t),r})}async function Aoe(t,e){await ooe(le(t),{oobCode:e})}async function dF(t,e){const n=le(t),r=await rF(n,{oobCode:e}),i=r.requestType;switch(X(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(r.mfaInfo,n,"internal-error");default:X(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=jf._fromServerResponse(Ut(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Coe(t,e){const{data:n}=await dF(le(t),e);return n.email}async function koe(t,e,n){if(Vt(t.app))return Promise.reject(wn(t));const r=Ut(t),s=await Zh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WI(t),l}),a=await yi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Ooe(t,e,n){return Vt(t.app)?Promise.reject(wn(t)):Pv(le(t),ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Noe(t,e,n){const r=Ut(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,a){X(a.handleCodeInApp,r,"argument-error"),a&&xv(r,s,a)}o(i,n),await Zh(r,i,"getOobCode",coe)}function Doe(t,e){const n=Sv.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Moe(t,e,n){if(Vt(t.app))return Promise.reject(wn(t));const r=le(t),i=ea.credentialWithLink(e,n||Xh());return X(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Pv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Loe(t,e){return Bt(t,"POST","/v1/accounts:createAuthUri",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t,e){const n=$I()?Xh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Loe(le(t),r);return i||[]}async function Foe(t,e){const n=le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xv(n.auth,i,e);const{email:o}=await aoe(n.auth,i);o!==t.email&&await t.reload()}async function $oe(t,e,n){const r=le(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&xv(r.auth,o,n);const{email:s}=await uoe(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uoe(t,e){return Bt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function joe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=le(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await $o(r,Uoe(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function Boe(t,e){const n=le(t);return Vt(n.auth.app)?Promise.reject(wn(n.auth)):hF(n,e,null)}function zoe(t,e){return hF(le(t),null,e)}async function hF(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await $o(t,roe(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const s=(n=(e=Tv(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new Pc(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new Woe(o,i);case"github.com":return new Hoe(o,i);case"google.com":return new Goe(o,i);case"twitter.com":return new Koe(o,i,t.screenName||null);case"custom":case"anonymous":return new Pc(o,null);default:return new Pc(o,r,i)}}class Pc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class fF extends Pc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Woe extends Pc{constructor(e,n){super(e,"facebook.com",n)}}class Hoe extends fF{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Goe extends Pc{constructor(e,n){super(e,"google.com",n)}}class Koe extends fF{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Qoe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:qoe(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Ca("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ca("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ca._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ca._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ut(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>jf._fromServerResponse(r,a));X(i.mfaPendingCredential,r,"internal-error");const s=Ca._fromMfaPendingCredential(i.mfaPendingCredential);return new HI(s,o,async a=>{const l=await a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await yi._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return X(n.user,r,"internal-error"),yi._forOperation(n.user,n.operationType,c);default:Fn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Yoe(t,e){var n;const r=le(t),i=e;return X(e.customData.operationType,r,"argument-error"),X((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),HI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:start",jt(t,e))}function Joe(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:finalize",jt(t,e))}function Zoe(t,e){return Bt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(t,e))}class GI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>jf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new GI(e)}async getSession(){return Ca._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await $o(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await $o(this.user,Zoe(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const s0=new WeakMap;function ese(t){const e=le(t);return s0.has(e)||s0.set(e,GI._fromUser(e)),s0.get(e)}const Mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mg,"1"),this.storage.removeItem(Mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=1e3,nse=10;class mF extends pF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Uie()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mF.type="LOCAL";const KI=mF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends pF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gF.type="SESSION";const al=gF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await rse(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Av.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Bf("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function ose(t){Zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function sse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ase(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lse(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="firebaseLocalStorageDb",cse=1,Lg="firebaseLocalStorage",vF="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cv(t,e){return t.transaction([Lg],e?"readwrite":"readonly").objectStore(Lg)}function use(){const t=indexedDB.deleteDatabase(yF);return new zf(t).toPromise()}function yE(){const t=indexedDB.open(yF,cse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lg,{keyPath:vF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lg)?e(r):(r.close(),await use(),e(await yE()))})})}async function nC(t,e,n){const r=Cv(t,!0).put({[vF]:e,value:n});return new zf(r).toPromise()}async function dse(t,e){const n=Cv(t,!1).get(e),r=await new zf(n).toPromise();return r===void 0?null:r.value}function rC(t,e){const n=Cv(t,!0).delete(e);return new zf(n).toPromise()}const hse=800,fse=3;class _F{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Av._getInstance(lse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sse(),!this.activeServiceWorker)return;this.sender=new ise(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ase()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yE();return await nC(e,Mg,"1"),await rC(e,Mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Cv(i,!1).getAll();return new zf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_F.type="LOCAL";const tf=_F;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(t,e){return Bt(t,"POST","/v2/accounts/mfaSignIn:start",jt(t,e))}function mse(t,e){return Bt(t,"POST","/v2/accounts/mfaSignIn:finalize",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse=500,yse=6e4,Wp=1e12;class vse{constructor(e){this.auth=e,this.counter=Wp,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new _se(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Wp;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Wp;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Wp;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class _se{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;X(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=wse(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},yse)},gse))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function wse(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=tF("rcb"),Ese=new Vf(3e4,6e4);class bse{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Zt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return X(Tse(n),e,"argument-error"),this.shouldResolveImmediately(n)&&GA(Zt().grecaptcha)?Promise.resolve(Zt().grecaptcha):new Promise((r,i)=>{const o=Zt().setTimeout(()=>{i(un(e,"network-request-failed"))},Ese.get());Zt()[a0]=()=>{Zt().clearTimeout(o),delete Zt()[a0];const a=Zt().grecaptcha;if(!a||!GA(a)){i(un(e,"internal-error"));return}const l=a.render;a.render=(c,d)=>{const h=l(c,d);return this.counter++,h},this.hostLanguage=n,r(a)};const s=`${Gie()}?${Tu({onload:a0,render:"explicit",hl:n})}`;jI(s).catch(()=>{clearTimeout(o),i(un(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Zt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Tse(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Ise{async load(e){return new vse(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="recaptcha",Sse={theme:"light",type:"image"};let Rse=class{constructor(e,n,r=Object.assign({},Sse)){this.parameters=r,this.type=wF,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(e),this.isInvisible=this.parameters.size==="invisible",X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;X(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ise:new bse,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Zt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){X($I()&&!QI(),this.auth,"internal-error"),await Pse(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Pie(this.auth);X(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Pse(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=$a._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function xse(t,e,n){if(Vt(t.app))return Promise.reject(wn(t));const r=Ut(t),i=await kv(r,e,le(n));return new YI(i,o=>Pv(r,o))}async function Ase(t,e,n){const r=le(t);await Rv(!1,r,"phone");const i=await kv(r.auth,e,le(n));return new YI(i,o=>cF(r,o))}async function Cse(t,e,n){const r=le(t);if(Vt(r.auth.app))return Promise.reject(wn(r.auth));const i=await kv(r.auth,e,le(n));return new YI(i,o=>uF(r,o))}async function kv(t,e,n){var r;const i=await n.verify();try{X(typeof i=="string",t,"argument-error"),X(n.type===wF,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o)return X(s.type==="enroll",t,"internal-error"),(await Xoe(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{X(s.type==="signin",t,"internal-error");const a=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return X(a,t,"missing-multi-factor-info"),(await pse(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:s}=await poe(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return s}}finally{n._reset()}}async function kse(t,e){const n=le(t);if(Vt(n.auth.app))return Promise.reject(wn(n.auth));await BI(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll=class Rm{constructor(e){this.providerId=Rm.PROVIDER_ID,this.auth=Ut(e)}verifyPhoneNumber(e,n){return kv(this.auth,e,le(n))}static credential(e,n){return $a._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Rm.credentialFromTaggedObject(n)}static credentialFromError(e){return Rm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?$a._fromTokenResponse(n,r):null}};ll.PROVIDER_ID="phone";ll.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e){return e?Ur(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends Nu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ose(t){return lF(t.auth,new XI(t),t.bypassAuthState)}function Nse(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),aF(n,new XI(t),t.bypassAuthState)}async function Dse(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),BI(n,new XI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ose;case"linkViaPopup":case"linkViaRedirect":return Dse;case"reauthViaPopup":case"reauthViaRedirect":return Nse;default:Fn(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=new Vf(2e3,1e4);async function Lse(t,e,n){if(Vt(t.app))return Promise.reject(un(t,"operation-not-supported-in-this-environment"));const r=Ut(t);Ou(t,e,Yo);const i=wl(r,n);return new So(r,"signInViaPopup",e,i).executeNotNull()}async function Vse(t,e,n){const r=le(t);if(Vt(r.auth.app))return Promise.reject(un(r.auth,"operation-not-supported-in-this-environment"));Ou(r.auth,e,Yo);const i=wl(r.auth,n);return new So(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Fse(t,e,n){const r=le(t);Ou(r.auth,e,Yo);const i=wl(r.auth,n);return new So(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class So extends EF{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mse.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se="pendingRedirect",oh=new Map;class Use extends EF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await jse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jse(t,e){const n=TF(e),r=bF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function JI(t,e){return bF(t)._set(TF(e),"true")}function Bse(){oh.clear()}function ZI(t,e){oh.set(t._key(),e)}function bF(t){return Ur(t._redirectPersistence)}function TF(t){return Fa($se,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zse(t,e,n){return qse(t,e,n)}async function qse(t,e,n){if(Vt(t.app))return Promise.reject(wn(t));const r=Ut(t);Ou(t,e,Yo),await r._initializationPromise;const i=wl(r,n);return await JI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Wse(t,e,n){return Hse(t,e,n)}async function Hse(t,e,n){const r=le(t);if(Ou(r.auth,e,Yo),Vt(r.auth.app))return Promise.reject(wn(r.auth));await r.auth._initializationPromise;const i=wl(r.auth,n);await JI(i,r.auth);const o=await IF(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Gse(t,e,n){return Kse(t,e,n)}async function Kse(t,e,n){const r=le(t);Ou(r.auth,e,Yo),await r.auth._initializationPromise;const i=wl(r.auth,n);await Rv(!1,r,e.providerId),await JI(i,r.auth);const o=await IF(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function Qse(t,e){return await Ut(t)._initializationPromise,Ov(t,e,!1)}async function Ov(t,e,n=!1){if(Vt(t.app))return Promise.reject(wn(t));const r=Ut(t),i=wl(r,e),s=await new Use(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function IF(t){const e=Bf(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse=10*60*1e3;class SF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yse&&this.cachedEventUids.clear(),this.cachedEventUids.has(iC(e))}saveEventToCache(e){this.cachedEventUids.add(iC(e)),this.lastProcessedEventTime=Date.now()}}function iC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e={}){return Bt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zse=/^https?/;async function eae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PF(t);for(const n of e)try{if(tae(n))return}catch{}Fn(t,"unauthorized-domain")}function tae(t){const e=Xh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Zse.test(n))return!1;if(Jse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nae=new Vf(3e4,6e4);function oC(){const t=Zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rae(t){return new Promise((e,n)=>{var r,i,o;function s(){oC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oC(),n(un(t,"network-request-failed"))},timeout:nae.get()})}if(!((i=(r=Zt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zt().gapi)===null||o===void 0)&&o.load)s();else{const a=tF("iframefcb");return Zt()[a]=()=>{gapi.load?s():n(un(t,"network-request-failed"))},jI(`${Qie()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function iae(t){return Pm=Pm||rae(t),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=new Vf(5e3,15e3),sae="__/auth/iframe",aae="emulator/auth/iframe",lae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uae(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UI(e,aae):`https://${t.config.authDomain}/${sae}`,r={apiKey:e.apiKey,appName:t.name,v:Wo},i=cae.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tu(r).slice(1)}`}async function dae(t){const e=await iae(t),n=Zt().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:uae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lae,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=un(t,"network-request-failed"),a=Zt().setTimeout(()=>{o(s)},oae.get());function l(){Zt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fae=500,pae=600,mae="_blank",gae="http://localhost";class sC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yae(t,e,n,r=fae,i=pae){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hae),{width:r.toString(),height:i.toString(),top:o,left:s}),c=At().toLowerCase();n&&(a=QV(c)?mae:n),GV(c)&&(e=e||gae,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if($ie(c)&&a!=="_self")return vae(e||"",a),new sC(null);const h=window.open(e||"",a,d);X(h,t,"popup-blocked");try{h.focus()}catch{}return new sC(h)}function vae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae="__/auth/handler",wae="emulator/auth/handler",Eae=encodeURIComponent("fac");async function vE(t,e,n,r,i,o){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(e instanceof Yo){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",SX(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Du){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Eae}=${encodeURIComponent(l)}`:"";return`${bae(t)}?${Tu(a).slice(1)}${c}`}function bae({config:t}){return t.emulator?UI(t,wae):`https://${t.authDomain}/${_ae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="webStorageSupport";class Tae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=al,this._completeRedirectFn=Ov,this._overrideRedirectResult=ZI}async _openPopup(e,n,r,i){var o;Mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await vE(e,n,r,Xh(),i);return yae(e,s,Bf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await vE(e,n,r,Xh(),i);return ose(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dae(e),r=new SF(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l0,{type:l0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[l0];s!==void 0&&n(!!s),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZV()||KV()||$f()}}const Iae=Tae;class Sae{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ji("unexpected MultiFactorSessionType")}}}class eS extends Sae{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new eS(e)}_finalizeEnroll(e,n,r){return Joe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return mse(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class xF{constructor(){}static assertion(e){return eS._fromCredential(e)}}xF.FACTOR_ID="phone";var aC="@firebase/auth",lC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xae(t){Hr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eF(t)},c=new Wie(r,i,o,l);return Zie(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hr(new Qn("auth-internal",e=>{const n=Ut(e.getProvider("auth").getImmediate());return(r=>new Rae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(aC,lC,Pae(t)),vn(aC,lC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aae=5*60;gX("authIdTokenMaxAge");function Cae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hie({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=un("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Cae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xae("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=2e3;async function Oae(t,e,n){var r;const{BuildInfo:i}=cl();Mi(e.sessionId,"AuthEvent did not contain a session ID");const o=await Vae(e.sessionId),s={};return $f()?s.ibi=i.packageName:Ff()?s.apn=i.packageName:Fn(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,vE(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)}async function Nae(t){const{BuildInfo:e}=cl(),n={};$f()?n.iosBundleId=e.packageName:Ff()?n.androidPackageName=e.packageName:Fn(t,"operation-not-supported-in-this-environment"),await PF(t,n)}function Dae(t){const{cordova:e}=cl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Fie()?"_blank":"_system","location=yes"),n(i)})})}async function Mae(t,e,n){const{cordova:r}=cl();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function l(){var h;o();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{s(un(t,"redirect-cancelled-by-user"))},kae))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Ff()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Lae(t){var e,n,r,i,o,s,a,l,c,d;const h=cl();X(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X(typeof((o=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((l=(a=(s=h==null?void 0:h.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((d=(c=h==null?void 0:h.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Vae(t){const e=Fae(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Fae(t){if(Mi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae=20;class Uae extends SF{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function jae(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:qae(),postBody:null,tenantId:t.tenantId,error:un(t,"no-auth-event")}}function Bae(t,e){return _E()._set(wE(t),e)}async function cC(t){const e=await _E()._get(wE(t));return e&&await _E()._remove(wE(t)),e}function zae(t,e){var n,r;const i=Hae(e);if(i.includes("/__/auth/callback")){const o=xm(i),s=o.firebaseError?Wae(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s==null?void 0:s.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?un(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function qae(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<$ae;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function _E(){return Ur(KI)}function wE(t){return Fa("authEvent",t.config.apiKey,t.name)}function Wae(t){try{return JSON.parse(t)}catch{return null}}function Hae(t){const e=xm(t),n=e.link?decodeURIComponent(e.link):void 0,r=xm(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return xm(i).link||i||r||n||t}function xm(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return hc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gae=500;class Kae{constructor(){this._redirectPersistence=al,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ov,this._overrideRedirectResult=ZI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Uae(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Fn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Lae(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Bse(),await this._originValidation(e);const s=jae(e,r,i);await Bae(e,s);const a=await Oae(e,s,n),l=await Dae(a);return Mae(e,o,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nae(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=cl(),s=setTimeout(async()=>{await cC(e),n.onEvent(uC())},Gae),a=async d=>{clearTimeout(s);const h=await cC(e);let f=null;h&&(d!=null&&d.url)&&(f=zae(h,d.url)),n.onEvent(f||uC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${o.packageName.toLowerCase()}://`;cl().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const Qae=Kae;function uC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:un("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yae(t,e){Ut(t)._logFramework(e)}var Xae="@firebase/auth-compat",Jae="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zae=1e3;function sh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function ele(){return sh()==="http:"||sh()==="https:"}function AF(t=At()){return!!((sh()==="file:"||sh()==="ionic:"||sh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function tle(){return IT()||bT()}function nle(){return OM()&&(document==null?void 0:document.documentMode)===11}function rle(t=At()){return/Edge\/\d+/.test(t)}function ile(t=At()){return nle()||rle(t)}function CF(){try{const t=self.localStorage,e=Bf();if(t)return t.setItem(e,"1"),t.removeItem(e),ile()?Wc():!0}catch{return tS()&&Wc()}return!1}function tS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function c0(){return(ele()||TT()||AF())&&!tle()&&CF()&&!tS()}function kF(){return AF()&&typeof document<"u"}async function ole(){return kF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Zae);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function sle(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr={LOCAL:"local",NONE:"none",SESSION:"session"},vd=X,OF="persistence";function ale(t,e){if(vd(Object.values(Lr).includes(e),t,"invalid-persistence-type"),IT()){vd(e!==Lr.SESSION,t,"unsupported-persistence-type");return}if(bT()){vd(e===Lr.NONE,t,"unsupported-persistence-type");return}if(tS()){vd(e===Lr.NONE||e===Lr.LOCAL&&Wc(),t,"unsupported-persistence-type");return}vd(e===Lr.NONE||CF(),t,"unsupported-persistence-type")}async function EE(t){await t._initializationPromise;const e=NF(),n=Fa(OF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function lle(t,e){const n=NF();if(!n)return[];const r=Fa(OF,t,e);switch(n.getItem(r)){case Lr.NONE:return[su];case Lr.LOCAL:return[tf,al];case Lr.SESSION:return[al];default:return[]}}function NF(){var t;try{return((t=sle())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle=X;class Es{constructor(){this.browserResolver=Ur(Iae),this.cordovaResolver=Ur(Qae),this.underlyingResolver=null,this._redirectPersistence=al,this._completeRedirectFn=Ov,this._overrideRedirectResult=ZI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cle(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await ole();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){return t.unwrap()}function ule(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(t){return MF(t)}function hle(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new fle(t,Yoe(t,e))}else if(r){const i=MF(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function MF(t){const{_tokenResponse:e}=t instanceof yn?t.customData:t;if(!e)return null;if(!(t instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return ll.credentialFromResult(t);const n=e.providerId;if(!n||n===yd.PASSWORD)return null;let r;switch(n){case yd.GOOGLE:r=Hi;break;case yd.FACEBOOK:r=Wi;break;case yd.GITHUB:r=Gi;break;case yd.TWITTER:r=Ki;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:l}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?au._create(n,a):uo._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new Rc(n).credential({idToken:i,accessToken:o,rawNonce:l})}return t instanceof yn?r.credentialFromError(t):r.credentialFromResult(t)}function gr(t,e){return e.catch(n=>{throw n instanceof yn&&hle(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:dle(n),additionalUserInfo:Qoe(n),user:Ro.getOrCreate(i)}})}async function bE(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>gr(t,n.confirm(r))}}class fle{constructor(e,n){this.resolver=n,this.auth=ule(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return gr(DF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._delegate=e,this.multiFactor=ese(e)}static getOrCreate(e){return Ro.USER_MAP.has(e)||Ro.USER_MAP.set(e,new Ro(e)),Ro.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return gr(this.auth,cF(this._delegate,e))}async linkWithPhoneNumber(e,n){return bE(this.auth,Ase(this._delegate,e,n))}async linkWithPopup(e){return gr(this.auth,Fse(this._delegate,e,Es))}async linkWithRedirect(e){return await EE(Ut(this.auth)),Gse(this._delegate,e,Es)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return gr(this.auth,uF(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return bE(this.auth,Cse(this._delegate,e,n))}reauthenticateWithPopup(e){return gr(this.auth,Vse(this._delegate,e,Es))}async reauthenticateWithRedirect(e){return await EE(Ut(this.auth)),Wse(this._delegate,e,Es)}sendEmailVerification(e){return Foe(this._delegate,e)}async unlink(e){return await Ioe(this._delegate,e),this}updateEmail(e){return Boe(this._delegate,e)}updatePassword(e){return zoe(this._delegate,e)}updatePhoneNumber(e){return kse(this._delegate,e)}updateProfile(e){return joe(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return $oe(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ro.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=X;class TE{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;_d(r,"invalid-api-key",{appName:e.name}),_d(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Es:void 0;this._delegate=n.initialize({options:{persistence:ple(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(yie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ro.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){eoe(this._delegate,e,n)}applyActionCode(e){return Aoe(this._delegate,e)}checkActionCode(e){return dF(this._delegate,e)}confirmPasswordReset(e,n){return xoe(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return gr(this._delegate,koe(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Voe(this._delegate,e)}isSignInWithEmailLink(e){return Doe(this._delegate,e)}async getRedirectResult(){_d(c0(),this._delegate,"operation-not-supported-in-this-environment");const e=await Qse(this._delegate,Es);return e?gr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Yae(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=dC(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=dC(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return Noe(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Poe(this._delegate,e,n||void 0)}async setPersistence(e){ale(this._delegate,e);let n;switch(e){case Lr.SESSION:n=al;break;case Lr.LOCAL:n=await Ur(tf)._isAvailable()?tf:KI;break;case Lr.NONE:n=su;break;default:return Fn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return gr(this._delegate,Toe(this._delegate))}signInWithCredential(e){return gr(this._delegate,Pv(this._delegate,e))}signInWithCustomToken(e){return gr(this._delegate,Roe(this._delegate,e))}signInWithEmailAndPassword(e,n){return gr(this._delegate,Ooe(this._delegate,e,n))}signInWithEmailLink(e,n){return gr(this._delegate,Moe(this._delegate,e,n))}signInWithPhoneNumber(e,n){return bE(this._delegate,xse(this._delegate,e,n))}async signInWithPopup(e){return _d(c0(),this._delegate,"operation-not-supported-in-this-environment"),gr(this._delegate,Lse(this._delegate,e,Es))}async signInWithRedirect(e){return _d(c0(),this._delegate,"operation-not-supported-in-this-environment"),await EE(this._delegate),zse(this._delegate,e,Es)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Coe(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}TE.Persistence=Lr;function dC(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&Ro.getOrCreate(s)),error:e,complete:n}}function ple(t,e){const n=lle(t,e);if(typeof self<"u"&&!n.includes(tf)&&n.push(tf),typeof window<"u")for(const r of[KI,al])n.includes(r)||n.push(r);return n.includes(su)||n.push(su),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.providerId="phone",this._delegate=new ll(DF(ho.auth()))}static credential(e,n){return ll.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}nS.PHONE_SIGN_IN_METHOD=ll.PHONE_SIGN_IN_METHOD;nS.PROVIDER_ID=ll.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle=X;class gle{constructor(e,n,r=ho.app()){var i;mle((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Rse(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="auth-compat";function vle(t){t.INTERNAL.registerComponent(new Qn(yle,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new TE(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bl.EMAIL_SIGNIN,PASSWORD_RESET:Bl.PASSWORD_RESET,RECOVER_EMAIL:Bl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Bl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Bl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Bl.VERIFY_EMAIL}},EmailAuthProvider:ea,FacebookAuthProvider:Wi,GithubAuthProvider:Gi,GoogleAuthProvider:Hi,OAuthProvider:Rc,SAMLAuthProvider:Ng,PhoneAuthProvider:nS,PhoneMultiFactorGenerator:xF,RecaptchaVerifier:gle,TwitterAuthProvider:Ki,Auth:TE,AuthCredential:Nu,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Xae,Jae)}vle(ho);const _le="@firebase/firestore-compat",wle="0.3.37";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new H("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof Uint8Array>"u")throw new H("unimplemented","Uint8Arrays are not available in this environment.")}function fC(){if(!bZ())throw new H("unimplemented","Blobs are unavailable in Firestore in this environment.")}let LF=class IE{constructor(e){this._delegate=e}static fromBase64String(e){return fC(),new IE(co.fromBase64String(e))}static fromUint8Array(e){return hC(),new IE(co.fromUint8Array(e))}toBase64(){return fC(),this._delegate.toBase64()}toUint8Array(){return hC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){return Ele(t,["next","error","complete"])}function Ele(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{enableIndexedDbPersistence(e,n){return nne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return rne(e._delegate)}clearIndexedDbPersistence(e){return ine(e._delegate)}}class VF{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $s||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Di("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Xte(this._delegate,e,n,r)}enableNetwork(){return sne(this._delegate)}disableNetwork(){return ane(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,H2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return one(this._delegate)}onSnapshotsInSync(e){return One(this._delegate,e)}get app(){if(!this._appCompat)throw new H("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lu(this,X2(this._delegate,e))}catch(n){throw rr(n,"collection()","Firestore.collection()")}}doc(e){try{return new si(this,Qh(this._delegate,e))}catch(n){throw rr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new nr(this,Jte(this._delegate,e))}catch(n){throw rr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Lne(this._delegate,n=>e(new FF(this,n)))}batch(){return bn(this._delegate),new $F(new Dne(this._delegate,e=>Lf(this._delegate,e)))}loadBundle(e){return lne(this._delegate,e)}namedQuery(e){return cne(this._delegate,e).then(n=>n?new nr(this,n):null)}}class Nv extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new LF(new co(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return si.forKey(n,this.firestore,null)}}function Tle(t){BJ(t)}class FF{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Nv(e)}get(e){const n=ka(e);return this._delegate.get(n).then(r=>new nf(this._firestore,new Fo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=ka(e);return r?(rS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=ka(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=ka(e);return this._delegate.delete(n),this}}class $F{constructor(e){this._delegate=e}set(e,n,r){const i=ka(e);return r?(rS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=ka(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=ka(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ul{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new nh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ul.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new ul(e,new Nv(e),n),i.set(n,o)),o}}ul.INSTANCES=new WeakMap;class si{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Nv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new H("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new si(n,new Pt(n._delegate,r,new ee(e)))}static forKey(e,n,r){return new si(n,new Pt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lu(this.firestore,X2(this._delegate,e))}catch(n){throw rr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=le(e),e instanceof Pt?J2(this._delegate,e):!1}set(e,n){n=rS("DocumentReference.set",n);try{return n?NA(this._delegate,e,n):NA(this._delegate,e)}catch(r){throw rr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?DA(this._delegate,e):DA(this._delegate,e,n,...r)}catch(i){throw rr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Cne(this._delegate)}onSnapshot(...e){const n=UF(e),r=jF(e,i=>new nf(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mV(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Sne(this._delegate):(e==null?void 0:e.source)==="server"?n=Rne(this._delegate):n=pV(this._delegate),n.then(r=>new nf(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new si(this.firestore,e?this._delegate.withConverter(ul.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rr(t,e,n){return t.message=t.message.replace(e,n),t}function UF(t){for(const e of t)if(typeof e=="object"&&!SE(e))return e;return{}}function jF(t,e){var n,r;let i;return SE(t[0])?i=t[0]:SE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class nf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new si(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return fV(this._delegate,e._delegate)}}class rf extends nf{data(e){const n=this._delegate.data(e);return this._delegate._converter||zJ(n!==void 0),n}}class nr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Nv(e)}where(e,n,r){try{return new nr(this.firestore,ls(this._delegate,mne(e,n,r)))}catch(i){throw rr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new nr(this.firestore,ls(this._delegate,gne(e,n)))}catch(r){throw rr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new nr(this.firestore,ls(this._delegate,yne(e)))}catch(n){throw rr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new nr(this.firestore,ls(this._delegate,vne(e)))}catch(n){throw rr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new nr(this.firestore,ls(this._delegate,_ne(...e)))}catch(n){throw rr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new nr(this.firestore,ls(this._delegate,wne(...e)))}catch(n){throw rr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new nr(this.firestore,ls(this._delegate,Ene(...e)))}catch(n){throw rr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new nr(this.firestore,ls(this._delegate,bne(...e)))}catch(n){throw rr(n,"endAt()","Query.endAt()")}}isEqual(e){return Z2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=xne(this._delegate):(e==null?void 0:e.source)==="server"?n=Ane(this._delegate):n=Pne(this._delegate),n.then(r=>new RE(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=UF(e),r=jF(e,i=>new RE(this.firestore,new qs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mV(this._delegate,n,r)}withConverter(e){return new nr(this.firestore,e?this._delegate.withConverter(ul.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Ile{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new nr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Ile(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new rf(this._firestore,r))})}isEqual(e){return fV(this._delegate,e._delegate)}}class lu extends nr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new si(this.firestore,e):null}doc(e){try{return e===void 0?new si(this.firestore,Qh(this._delegate)):new si(this.firestore,Qh(this._delegate,e))}catch(n){throw rr(n,"doc()","CollectionReference.doc()")}}add(e){return kne(this._delegate,e).then(n=>new si(this.firestore,n))}isEqual(e){return J2(this._delegate,e._delegate)}withConverter(e){return new lu(this.firestore,e?this._delegate.withConverter(ul.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ka(t){return Ke(t,Pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(...e){this._delegate=new zs(...e)}static documentId(){return new iS(bt.keyField().canonicalString())}isEqual(e){return e=le(e),e instanceof zs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._delegate=e}static serverTimestamp(){const e=Fne();return e._methodName="FieldValue.serverTimestamp",new Ea(e)}static delete(){const e=Vne();return e._methodName="FieldValue.delete",new Ea(e)}static arrayUnion(...e){const n=$ne(...e);return n._methodName="FieldValue.arrayUnion",new Ea(n)}static arrayRemove(...e){const n=Une(...e);return n._methodName="FieldValue.arrayRemove",new Ea(n)}static increment(e){const n=jne(e);return n._methodName="FieldValue.increment",new Ea(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle={Firestore:VF,GeoPoint:hv,Timestamp:It,Blob:LF,Transaction:FF,WriteBatch:$F,DocumentReference:si,DocumentSnapshot:nf,Query:nr,QueryDocumentSnapshot:rf,QuerySnapshot:RE,CollectionReference:lu,FieldPath:iS,FieldValue:Ea,setLogLevel:Tle,CACHE_SIZE_UNLIMITED:tne};function Rle(t,e){t.INTERNAL.registerComponent(new Qn("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Sle)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(t){Rle(t,(e,n)=>new VF(e,n,new ble)),t.registerVersion(_le,wle)}Ple(ho);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="firebasestorage.googleapis.com",zF="storageBucket",xle=2*60*1e3,Ale=10*60*1e3,Cle=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends yn{constructor(e,n,r=0){super(u0(e),`Firebase Storage: ${n} (${u0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function u0(t){return"storage/"+t}function oS(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(vt.UNKNOWN,t)}function kle(t){return new Ct(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ole(t){return new Ct(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Nle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(vt.UNAUTHENTICATED,t)}function Dle(){return new Ct(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mle(t){return new Ct(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qF(){return new Ct(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WF(){return new Ct(vt.CANCELED,"User canceled the upload/download.")}function Lle(t){return new Ct(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function Vle(t){return new Ct(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Fle(){return new Ct(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zF+"' property when initializing the app?")}function HF(){return new Ct(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $le(){return new Ct(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ule(){return new Ct(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jle(t){return new Ct(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xc(t){return new Ct(vt.INVALID_ARGUMENT,t)}function GF(){return new Ct(vt.APP_DELETED,"The Firebase app was deleted.")}function KF(t){return new Ct(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ah(t,e){return new Ct(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wd(t){throw new Ct(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw Vle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},_=n===BF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const k=w[S],C=k.regex.exec(e);if(C){const T=C[k.indices.bucket];let I=C[k.indices.path];I||(I=""),r=new Gn(T,I),k.postModify(r);break}}if(r==null)throw Lle(e);return r}}class Ble{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){o&&clearTimeout(o)}function p(E,...v){if(c){f();return}if(E){f(),d.call(null,E,...v);return}if(l()||s){f(),d.call(null,E,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let g=!1;function _(E){g||(g=!0,f(),!c&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function qle(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(t){return t!==void 0}function Hle(t){return typeof t=="function"}function Gle(t){return typeof t=="object"&&!Array.isArray(t)}function Dv(t){return typeof t=="string"||t instanceof String}function pC(t){return sS()&&t instanceof Blob}function sS(){return typeof Blob<"u"}function PE(t,e,n,r){if(r<e)throw xc(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xc(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ua;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(e,n,r,i,o,s,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ua.NO_ERROR,l=o.getStatus();if(!a||YF(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Ua.ABORT;r(!1,new Hp(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Hp(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Wle(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=oS();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?GF():WF();s(l)}else{const l=qF();s(l)}};this.canceled_?n(!1,new Hp(!1,null,!0)):this.backoffId_=zle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Qle(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Jle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zle(t,e,n,r,i,o,s=!0){const a=QF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Xle(c,e),Qle(c,n),Yle(c,o),Jle(c,r),new Kle(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tce(...t){const e=ece();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sS())return new Blob(t);throw new Ct(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nce(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rce(t){if(typeof atob>"u")throw jle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class d0{constructor(e,n){this.data=e,this.contentType=n||null}}function XF(t,e){switch(t){case ai.RAW:return new d0(JF(e));case ai.BASE64:case ai.BASE64URL:return new d0(ZF(t,e));case ai.DATA_URL:return new d0(oce(e),sce(e))}throw oS()}function JF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ice(t){let e;try{e=decodeURIComponent(t)}catch{throw ah(ai.DATA_URL,"Malformed data URL.")}return JF(e)}function ZF(t,e){switch(t){case ai.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ah(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ah(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rce(e)}catch(i){throw i.message.includes("polyfill")?i:ah(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class e${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ah(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ace(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oce(t){const e=new e$(t);return e.base64?ZF(ai.BASE64,e.rest):ice(e.rest)}function sce(t){return new e$(t).contentType}function ace(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){let r=0,i="";pC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pC(this.data_)){const r=this.data_,i=nce(r,e,n);return i===null?null:new wo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wo(r,!0)}}static getBlob(...e){if(sS()){const n=e.map(r=>r instanceof wo?r.data_:r);return new wo(tce.apply(null,n))}else{const n=e.map(s=>Dv(s)?XF(ai.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new wo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){let e;try{e=JSON.parse(t)}catch{return null}return Gle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function t$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uce(t,e){return e}class Yn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||uce}}let Gp=null;function dce(t){return!Dv(t)||t.length<2?t:t$(t)}function Mv(){if(Gp)return Gp;const t=[];t.push(new Yn("bucket")),t.push(new Yn("generation")),t.push(new Yn("metageneration")),t.push(new Yn("name","fullPath",!0));function e(o,s){return dce(s)}const n=new Yn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Yn("size");return i.xform=r,t.push(i),t.push(new Yn("timeCreated")),t.push(new Yn("updated")),t.push(new Yn("md5Hash",null,!0)),t.push(new Yn("cacheControl",null,!0)),t.push(new Yn("contentDisposition",null,!0)),t.push(new Yn("contentEncoding",null,!0)),t.push(new Yn("contentLanguage",null,!0)),t.push(new Yn("contentType",null,!0)),t.push(new Yn("metadata","customMetadata",!0)),Gp=t,Gp}function hce(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Gn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fce(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return hce(r,t),r}function n$(t,e,n){const r=aS(e);return r===null?null:fce(t,r,n)}function pce(t,e,n,r){const i=aS(e);if(i===null||!Dv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+s(d)+"/o/"+s(h),p=ta(f,n,r),g=QF({alt:"media",token:c});return p+g})[0]}function lS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="prefixes",gC="items";function mce(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mC])for(const i of n[mC]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Gn(e,o));r.prefixes.push(s)}if(n[gC])for(const i of n[gC]){const o=t._makeStorageReference(new Gn(e,i.name));r.items.push(o)}return r}function gce(t,e,n){const r=aS(n);return r===null?null:mce(t,e,r)}class Xo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){if(!t)throw oS()}function Lv(t,e){function n(r,i){const o=n$(t,i,e);return oo(o!==null),o}return n}function yce(t,e){function n(r,i){const o=gce(t,e,i);return oo(o!==null),o}return n}function vce(t,e){function n(r,i){const o=n$(t,i,e);return oo(o!==null),pce(o,i,t.host,t._protocol)}return n}function Mu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Dle():i=Nle():n.getStatus()===402?i=Ole(t.bucket):n.getStatus()===403?i=Mle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Vv(t){const e=Mu(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=kle(t.path)),o.serverResponse=i.serverResponse,o}return n}function r$(t,e,n){const r=e.fullServerUrl(),i=ta(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Xo(i,o,Lv(t,n),s);return a.errorHandler=Vv(e),a}function _ce(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=e.bucketOnlyServerUrl(),a=ta(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Xo(a,l,yce(t,e.bucket),c);return d.urlParams=o,d.errorHandler=Mu(e),d}function wce(t,e,n){const r=e.fullServerUrl(),i=ta(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Xo(i,o,vce(t,n),s);return a.errorHandler=Vv(e),a}function Ece(t,e,n,r){const i=e.fullServerUrl(),o=ta(i,t.host,t._protocol),s="PATCH",a=lS(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,d=new Xo(o,s,Lv(t,r),c);return d.headers=l,d.body=a,d.errorHandler=Vv(e),d}function bce(t,e){const n=e.fullServerUrl(),r=ta(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,c){}const a=new Xo(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Vv(e),a}function Tce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function i$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Tce(null,e)),r}function Ice(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=i$(e,r,i),d=lS(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=wo.getBlob(h,r,f);if(p===null)throw HF();const g={name:c.fullPath},_=ta(o,t.host,t._protocol),E="POST",v=t.maxUploadRetryTime,y=new Xo(_,E,Lv(t,n),v);return y.urlParams=g,y.headers=s,y.body=p.uploadData(),y.errorHandler=Mu(e),y}class Vg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function cS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{oo(!1)}return oo(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Sce(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=i$(e,r,i),a={name:s.fullPath},l=ta(o,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=lS(s,n),f=t.maxUploadRetryTime;function p(_){cS(_);let E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch{oo(!1)}return oo(Dv(E)),E}const g=new Xo(l,c,p,f);return g.urlParams=a,g.headers=d,g.body=h,g.errorHandler=Mu(e),g}function Rce(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(c){const d=cS(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oo(!1)}h||oo(!1);const f=Number(h);return oo(!isNaN(f)),new Vg(f,r.size(),d==="final")}const s="POST",a=t.maxUploadRetryTime,l=new Xo(n,s,o,a);return l.headers=i,l.errorHandler=Mu(e),l}const yC=256*1024;function Pce(t,e,n,r,i,o,s,a){const l=new Vg(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw $le();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let p="";d===0?p="finalize":c===d?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(h,f);if(_===null)throw HF();function E(S,k){const C=cS(S,["active","final"]),T=l.current+d,I=r.size();let R;return C==="final"?R=Lv(e,o)(S,k):R=null,new Vg(T,I,C==="final",R)}const v="POST",y=e.maxUploadRetryTime,w=new Xo(n,v,E,y);return w.headers=g,w.body=_.uploadData(),w.progressCallback=a||null,w.errorHandler=Mu(t),w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce={STATE_CHANGED:"state_changed"},ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function h0(t){switch(t){case"running":case"pausing":case"canceling":return ir.RUNNING;case"paused":return ir.PAUSED;case"success":return ir.SUCCESS;case"canceled":return ir.CANCELED;case"error":return ir.ERROR;default:return ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e,n,r){if(Hle(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Cce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kce extends Cce{initXhr(){this.xhr_.responseType="text"}}function Qi(){return new kce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Mv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(YF(i.status,[]))if(o)i=qF();else{this.sleepTime=Math.max(this.sleepTime*2,Cle),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Sce(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Rce(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Qi,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=yC*this._chunkMultiplier,n=new Vg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=Pce(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,Qi,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){yC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=r$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Ice(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Qi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=WF(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=h0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Ace(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(h0(this._state)){case ir.SUCCESS:zl(this._resolve.bind(null,this.snapshot))();break;case ir.CANCELED:case ir.ERROR:const n=this._reject;zl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(h0(this._state)){case ir.RUNNING:case ir.PAUSED:e.next&&zl(e.next.bind(e,this.snapshot))();break;case ir.SUCCESS:e.complete&&zl(e.complete.bind(e))();break;case ir.CANCELED:case ir.ERROR:e.error&&zl(e.error.bind(e,this._error))();break;default:e.error&&zl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dl(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t$(this._location.path)}get storage(){return this._service}get parent(){const e=lce(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KF(e)}}function Oce(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o$(t,new wo(e),n)}function Nce(t){const e={prefixes:[],items:[]};return s$(t,e).then(()=>e)}async function s$(t,e,n){const i=await a$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await s$(t,e,i.nextPageToken)}function a$(t,e){e!=null&&typeof e.maxResults=="number"&&PE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=_ce(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Qi)}function Dce(t){t._throwIfRoot("getMetadata");const e=r$(t.storage,t._location,Mv());return t.storage.makeRequestWithTokens(e,Qi)}function Mce(t,e){t._throwIfRoot("updateMetadata");const n=Ece(t.storage,t._location,e,Mv());return t.storage.makeRequestWithTokens(n,Qi)}function Lce(t){t._throwIfRoot("getDownloadURL");const e=wce(t.storage,t._location,Mv());return t.storage.makeRequestWithTokens(e,Qi).then(n=>{if(n===null)throw Ule();return n})}function Vce(t){t._throwIfRoot("deleteObject");const e=bce(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qi)}function l$(t,e){const n=cce(t._location.path,e),r=new Gn(t._location.bucket,n);return new dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fce(t){return/^[A-Za-z]+:\/\//.test(t)}function $ce(t,e){return new dl(t,e)}function c$(t,e){if(t instanceof uS){const n=t;if(n._bucket==null)throw Fle();const r=new dl(n,n._bucket);return e!=null?c$(r,e):r}else return e!==void 0?l$(t,e):t}function Uce(t,e){if(e&&Fce(e)){if(t instanceof uS)return $ce(t,e);throw xc("To use ref(service, url), the first argument must be a Storage instance.")}else return c$(t,e)}function vC(t,e){const n=e==null?void 0:e[zF];return n==null?null:Gn.makeFromBucketSpec(n,t)}function jce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:CM(i,t.app.options.projectId))}class uS{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=BF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xle,this._maxUploadRetryTime=Ale,this._requests=new Set,i!=null?this._bucket=Gn.makeFromBucketSpec(i,this._host):this._bucket=vC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=vC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ble(GF());{const s=Zle(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _C="@firebase/storage",wC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bce="storage";function zce(t,e,n){return t=le(t),Oce(t,e,n)}function qce(t){return t=le(t),Dce(t)}function Wce(t,e){return t=le(t),Mce(t,e)}function Hce(t,e){return t=le(t),a$(t,e)}function Gce(t){return t=le(t),Nce(t)}function Kce(t){return t=le(t),Lce(t)}function Qce(t){return t=le(t),Vce(t)}function EC(t,e){return t=le(t),Uce(t,e)}function Yce(t,e){return l$(t,e)}function Xce(t,e,n,r={}){jce(t,e,n,r)}function Jce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uS(n,r,i,e,Wo)}function Zce(){Hr(new Qn(Bce,Jce,"PUBLIC").setMultipleInstances(!0)),vn(_C,wC,""),vn(_C,wC,"esm2017")}Zce();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Kp(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Kp(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(typeof n=="function"?o=s=>n(new Kp(s,this,this._ref)):o={next:n.next?s=>n.next(new Kp(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class TC{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ao(e,this._service))}get items(){return this._delegate.items.map(e=>new Ao(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=Yce(this._delegate,e);return new Ao(n,this.storage)}get root(){return new Ao(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Ao(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new bC(zce(this._delegate,e,n),this)}putString(e,n=ai.RAW,r){this._throwIfRoot("putString");const i=XF(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new bC(new o$(this._delegate,new wo(i.data,!0),o),this)}listAll(){return Gce(this._delegate).then(e=>new TC(e,this.storage))}list(e){return Hce(this._delegate,e||void 0).then(n=>new TC(n,this.storage))}getMetadata(){return qce(this._delegate)}updateMetadata(e){return Wce(this._delegate,e)}getDownloadURL(){return Kce(this._delegate)}delete(){return this._throwIfRoot("delete"),Qce(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw KF(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(IC(e))throw xc("ref() expected a child path but got a URL, use refFromURL instead.");return new Ao(EC(this._delegate,e),this)}refFromURL(e){if(!IC(e))throw xc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gn.makeFromUrl(e,this._delegate.host)}catch{throw xc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ao(EC(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Xce(this._delegate,e,n,r)}}function IC(t){return/^[A-Za-z]+:\/\//.test(t)}const eue="@firebase/storage-compat",tue="0.3.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue="storage-compat";function rue(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new u$(n,r)}function iue(t){const e={TaskState:ir,TaskEvent:xce,StringFormat:ai,Storage:u$,Reference:Ao};t.INTERNAL.registerComponent(new Qn(nue,rue,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(eue,tue)}iue(ho);const oue={apiKey:"AIzaSyCXDf5w-ORhQRSqom4gMOqkxAD33bnBi4c",authDomain:"drinkjam-7732f.firebaseapp.com",projectId:"drinkjam-7732f",storageBucket:"drinkjam-7732f.appspot.com",messagingSenderId:"934536854972",appId:"1:934536854972:web:9f7c69cef025719760ffb9",measurementId:"G-JZDE47NCHD"};ho.initializeApp(oue);ho.auth();const sue=ho.firestore();ho.storage();var dS={},Fv={},hS={},pr=Pi&&Pi.__assign||function(){return pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pr.apply(this,arguments)};Object.defineProperty(hS,"__esModule",{value:!0});function aue(t,e){switch(e.type){case"advanceTime":{var n=e.payload.timeToAdd;return pr(pr({},t),{time:t.timerType==="DECREMENTAL"?t.time-n:t.time+n})}case"pause":return pr(pr({},t),{status:"PAUSED"});case"reset":return pr(pr({},t),{status:"STOPPED",time:e.payload.initialTime});case"set":return pr(pr({},t),{time:e.payload.newTime});case"start":{var r=e.payload.initialTime;return pr(pr({},t),{status:"RUNNING",time:t.status==="STOPPED"?r:t.time})}case"stop":return pr(pr({},t),{status:"STOPPED"});default:return t}}hS.default=aue;var lue=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.useTimer=void 0;var go=P,cue=lue(hS);Fv.useTimer=function(t){var e=t===void 0?{}:t,n=e.autostart,r=n===void 0?!1:n,i=e.endTime,o=e.initialTime,s=o===void 0?0:o,a=e.interval,l=a===void 0?1e3:a,c=e.onTimeOver,d=e.onTimeUpdate,h=e.step,f=h===void 0?1:h,p=e.timerType,g=p===void 0?"INCREMENTAL":p,_=go.useReducer(cue.default,{status:"STOPPED",time:s,timerType:g}),E=_[0],v=_[1],y=E.status,w=E.time,S=go.useCallback(function(I){v({type:"advanceTime",payload:{timeToAdd:I}})},[]),k=go.useCallback(function(){v({type:"pause"})},[]),C=go.useCallback(function(){v({type:"reset",payload:{initialTime:s}})},[s]),T=go.useCallback(function(){v({type:"start",payload:{initialTime:s}})},[]);return go.useEffect(function(){r&&v({type:"start",payload:{initialTime:s}})},[r]),go.useEffect(function(){typeof d=="function"&&d(w)},[w]),go.useEffect(function(){y!=="STOPPED"&&w===i&&(v({type:"stop"}),typeof c=="function"&&c())},[i,c,w,y]),go.useEffect(function(){var I=null;return y==="RUNNING"?I=setInterval(function(){v({type:"set",payload:{newTime:g==="DECREMENTAL"?w-f:w+f}})},l):I&&clearInterval(I),function(){I&&clearInterval(I)}},[y,f,g,l,w]),{advanceTime:S,pause:k,reset:C,start:T,status:y,time:w}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useTimer=void 0;var e=Fv;Object.defineProperty(t,"useTimer",{enumerable:!0,get:function(){return e.useTimer}})})(dS);const uue="modulepreload",due=function(t){return"/DrinkJam/"+t},SC={},fr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=due(l),l in SC)return;SC[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":uue,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var hue=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=e,n.attrs&&fue(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?RC:pue;s(o,r),o.onload||RC(o,r),i.appendChild(o)};function fue(t,e){for(var n in e)t.setAttribute(n,e[n])}function RC(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function pue(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var mue=function(e){return gue(e)&&!yue(e)};function gue(t){return!!t&&typeof t=="object"}function yue(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||wue(t)}var vue=typeof Symbol=="function"&&Symbol.for,_ue=vue?Symbol.for("react.element"):60103;function wue(t){return t.$$typeof===_ue}function Eue(t){return Array.isArray(t)?[]:{}}function of(t,e){return e.clone!==!1&&e.isMergeableObject(t)?cu(Eue(t),t,e):t}function bue(t,e,n){return t.concat(e).map(function(r){return of(r,n)})}function Tue(t,e){if(!e.customMerge)return cu;var n=e.customMerge(t);return typeof n=="function"?n:cu}function Iue(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function PC(t){return Object.keys(t).concat(Iue(t))}function d$(t,e){try{return e in t}catch{return!1}}function Sue(t,e){return d$(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Rue(t,e,n){var r={};return n.isMergeableObject(t)&&PC(t).forEach(function(i){r[i]=of(t[i],n)}),PC(e).forEach(function(i){Sue(t,i)||(d$(t,i)&&n.isMergeableObject(e[i])?r[i]=Tue(i,n)(t[i],e[i],n):r[i]=of(e[i],n))}),r}function cu(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||bue,n.isMergeableObject=n.isMergeableObject||mue,n.cloneUnlessOtherwiseSpecified=of;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):Rue(t,e,n):of(e,n)}cu.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return cu(r,i,n)},{})};var Pue=cu,h$=Pue,xue=Object.create,$v=Object.defineProperty,Aue=Object.getOwnPropertyDescriptor,Cue=Object.getOwnPropertyNames,kue=Object.getPrototypeOf,Oue=Object.prototype.hasOwnProperty,Nue=(t,e)=>{for(var n in e)$v(t,n,{get:e[n],enumerable:!0})},f$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cue(e))!Oue.call(t,i)&&i!==n&&$v(t,i,{get:()=>e[i],enumerable:!(r=Aue(e,i))||r.enumerable});return t},fS=(t,e,n)=>(n=t!=null?xue(kue(t)):{},f$(!t||!t.__esModule?$v(n,"default",{value:t,enumerable:!0}):n,t)),Due=t=>f$($v({},"__esModule",{value:!0}),t),p$={};Nue(p$,{callPlayer:()=>Yue,getConfig:()=>Kue,getSDK:()=>Gue,isBlobUrl:()=>Jue,isMediaStream:()=>Xue,lazy:()=>Fue,omit:()=>Que,parseEndTime:()=>que,parseStartTime:()=>zue,queryString:()=>Hue,randomString:()=>Wue,supportsWebKitPresentationMode:()=>Zue});var Uv=Due(p$),Mue=fS(P),Lue=fS(hue),Vue=fS(h$);const Fue=t=>Mue.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),$ue=/[?&#](?:start|t)=([0-9hms]+)/,Uue=/[?&#]end=([0-9hms]+)/,xE=/(\d+)(h|m|s)/g,jue=/^\d+$/;function m$(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(xE))return Bue(r);if(jue.test(r))return parseInt(r)}}function Bue(t){let e=0,n=xE.exec(t);for(;n!==null;){const[,r,i]=n;i==="h"&&(e+=parseInt(r,10)*60*60),i==="m"&&(e+=parseInt(r,10)*60),i==="s"&&(e+=parseInt(r,10)),n=xE.exec(t)}return e}function zue(t){return m$(t,$ue)}function que(t){return m$(t,Uue)}function Wue(){return Math.random().toString(36).substr(2,5)}function Hue(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function f0(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const ql={},Gue=function(e,n,r=null,i=()=>!0,o=Lue.default){const s=f0(n);return s&&i(s)?Promise.resolve(s):new Promise((a,l)=>{if(ql[e]){ql[e].push({resolve:a,reject:l});return}ql[e]=[{resolve:a,reject:l}];const c=d=>{ql[e].forEach(h=>h.resolve(d))};if(r){const d=window[r];window[r]=function(){d&&d(),c(f0(n))}}o(e,d=>{d?(ql[e].forEach(h=>h.reject(d)),ql[e]=null):r||c(f0(n))})})};function Kue(t,e){return(0,Vue.default)(e.config,t.config)}function Que(t,...e){const n=[].concat(...e),r={},i=Object.keys(t);for(const o of i)n.indexOf(o)===-1&&(r[o]=t[o]);return r}function Yue(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c  `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function Xue(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function Jue(t){return/^blob:/.test(t)}function Zue(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var pS=Object.defineProperty,ede=Object.getOwnPropertyDescriptor,tde=Object.getOwnPropertyNames,nde=Object.prototype.hasOwnProperty,rde=(t,e)=>{for(var n in e)pS(t,n,{get:e[n],enumerable:!0})},ide=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tde(e))!nde.call(t,i)&&i!==n&&pS(t,i,{get:()=>e[i],enumerable:!(r=ede(e,i))||r.enumerable});return t},ode=t=>ide(pS({},"__esModule",{value:!0}),t),g$={};rde(g$,{AUDIO_EXTENSIONS:()=>mS,DASH_EXTENSIONS:()=>C$,FLV_EXTENSIONS:()=>k$,HLS_EXTENSIONS:()=>yS,MATCH_URL_DAILYMOTION:()=>R$,MATCH_URL_FACEBOOK:()=>w$,MATCH_URL_FACEBOOK_WATCH:()=>E$,MATCH_URL_KALTURA:()=>A$,MATCH_URL_MIXCLOUD:()=>P$,MATCH_URL_MUX:()=>_$,MATCH_URL_SOUNDCLOUD:()=>y$,MATCH_URL_STREAMABLE:()=>b$,MATCH_URL_TWITCH_CHANNEL:()=>S$,MATCH_URL_TWITCH_VIDEO:()=>I$,MATCH_URL_VIDYARD:()=>x$,MATCH_URL_VIMEO:()=>v$,MATCH_URL_WISTIA:()=>T$,MATCH_URL_YOUTUBE:()=>AE,VIDEO_EXTENSIONS:()=>gS,canPlay:()=>ade});var sde=ode(g$),xC=Uv;const AE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,y$=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v$=/vimeo\.com\/(?!progressive_redirect).+/,_$=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,w$=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,E$=/^https?:\/\/fb\.watch\/.+$/,b$=/streamable\.com\/([a-z0-9]+)$/,T$=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,I$=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,S$=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,R$=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,P$=/mixcloud\.com\/([^/]+\/[^/]+)/,x$=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,A$=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,mS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,gS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,yS=/\.(m3u8)($|\?)/i,C$=/\.(mpd)($|\?)/i,k$=/\.(flv)($|\?)/i,CE=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&CE(e)||CE(e.src))return!0;return!1}return(0,xC.isMediaStream)(t)||(0,xC.isBlobUrl)(t)?!0:mS.test(t)||gS.test(t)||yS.test(t)||C$.test(t)||k$.test(t)},ade={youtube:t=>t instanceof Array?t.every(e=>AE.test(e)):AE.test(t),soundcloud:t=>y$.test(t)&&!mS.test(t),vimeo:t=>v$.test(t)&&!gS.test(t)&&!yS.test(t),mux:t=>_$.test(t),facebook:t=>w$.test(t)||E$.test(t),streamable:t=>b$.test(t),wistia:t=>T$.test(t),twitch:t=>I$.test(t)||S$.test(t),dailymotion:t=>R$.test(t),mixcloud:t=>P$.test(t),vidyard:t=>x$.test(t),kaltura:t=>A$.test(t),file:CE};var vS=Object.defineProperty,lde=Object.getOwnPropertyDescriptor,cde=Object.getOwnPropertyNames,ude=Object.prototype.hasOwnProperty,dde=(t,e)=>{for(var n in e)vS(t,n,{get:e[n],enumerable:!0})},hde=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cde(e))!ude.call(t,i)&&i!==n&&vS(t,i,{get:()=>e[i],enumerable:!(r=lde(e,i))||r.enumerable});return t},fde=t=>hde(vS({},"__esModule",{value:!0}),t),O$={};dde(O$,{default:()=>mde});var pde=fde(O$),hr=Uv,Xn=sde,mde=[{key:"youtube",name:"YouTube",canPlay:Xn.canPlay.youtube,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./YouTube-CQf44bpM.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:Xn.canPlay.soundcloud,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./SoundCloud-D3JQ9Axm.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:Xn.canPlay.vimeo,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Vimeo-BNLd-Gur.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:Xn.canPlay.mux,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Mux-kFUGv5TH.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:Xn.canPlay.facebook,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Facebook-C_q7ahcO.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:Xn.canPlay.streamable,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Streamable-DaQZcp2q.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:Xn.canPlay.wistia,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Wistia-CiZuBqWI.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:Xn.canPlay.twitch,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Twitch-nVw7XRcO.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:Xn.canPlay.dailymotion,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./DailyMotion-DsdxjD7M.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:Xn.canPlay.mixcloud,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Mixcloud-DoNnpXDM.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:Xn.canPlay.vidyard,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Vidyard-C18ZhHdW.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:Xn.canPlay.kaltura,lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./Kaltura-CYQRRBRv.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:Xn.canPlay.file,canEnablePIP:t=>Xn.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,hr.supportsWebKitPresentationMode)())&&!Xn.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,hr.lazy)(()=>fr(()=>import("./FilePlayer-JDthE6ao.js").then(t=>t.F),[]))}],AC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gde(t,e){return!!(t===e||AC(t)&&AC(e))}function yde(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!gde(t[n],e[n]))return!1;return!0}function vde(t,e){e===void 0&&(e=yde);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}const _de=Object.freeze(Object.defineProperty({__proto__:null,default:vde},Symbol.toStringTag,{value:"Module"})),wde=Uo(_de);var Ede=typeof Element<"u",bde=typeof Map=="function",Tde=typeof Set=="function",Ide=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Am(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Am(t[r],e[r]))return!1;return!0}var o;if(bde&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Am(r.value[1],e.get(r.value[0])))return!1;return!0}if(Tde&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Ide&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Ede&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Am(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var N$=function(e,n){try{return Am(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Sde=Object.create,jv=Object.defineProperty,Rde=Object.getOwnPropertyDescriptor,Pde=Object.getOwnPropertyNames,xde=Object.getPrototypeOf,Ade=Object.prototype.hasOwnProperty,Cde=(t,e)=>{for(var n in e)jv(t,n,{get:e[n],enumerable:!0})},D$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pde(e))!Ade.call(t,i)&&i!==n&&jv(t,i,{get:()=>e[i],enumerable:!(r=Rde(e,i))||r.enumerable});return t},kde=(t,e,n)=>(n=t!=null?Sde(xde(t)):{},D$(!t||!t.__esModule?jv(n,"default",{value:t,enumerable:!0}):n,t)),Ode=t=>D$(jv({},"__esModule",{value:!0}),t),M$={};Cde(M$,{defaultProps:()=>Mde,propTypes:()=>Dde});var L$=Ode(M$),Nde=kde(qN);const{string:An,bool:Jn,number:Wl,array:p0,oneOfType:Ed,shape:Nr,object:qn,func:sn,node:CC}=Nde.default,Dde={url:Ed([An,p0,qn]),playing:Jn,loop:Jn,controls:Jn,volume:Wl,muted:Jn,playbackRate:Wl,width:Ed([An,Wl]),height:Ed([An,Wl]),style:qn,progressInterval:Wl,playsinline:Jn,pip:Jn,stopOnUnmount:Jn,light:Ed([Jn,An,qn]),playIcon:CC,previewTabIndex:Wl,previewAriaLabel:An,fallback:CC,oEmbedUrl:An,wrapper:Ed([An,sn,Nr({render:sn.isRequired})]),config:Nr({soundcloud:Nr({options:qn}),youtube:Nr({playerVars:qn,embedOptions:qn,onUnstarted:sn}),facebook:Nr({appId:An,version:An,playerId:An,attributes:qn}),dailymotion:Nr({params:qn}),vimeo:Nr({playerOptions:qn,title:An}),mux:Nr({attributes:qn,version:An}),file:Nr({attributes:qn,tracks:p0,forceVideo:Jn,forceAudio:Jn,forceHLS:Jn,forceSafariHLS:Jn,forceDisableHls:Jn,forceDASH:Jn,forceFLV:Jn,hlsOptions:qn,hlsVersion:An,dashVersion:An,flvVersion:An}),wistia:Nr({options:qn,playerId:An,customControls:p0}),mixcloud:Nr({options:qn}),twitch:Nr({options:qn,playerId:An}),vidyard:Nr({options:qn})}),onReady:sn,onStart:sn,onPlay:sn,onPause:sn,onBuffer:sn,onBufferEnd:sn,onEnded:sn,onError:sn,onDuration:sn,onSeek:sn,onPlaybackRateChange:sn,onPlaybackQualityChange:sn,onProgress:sn,onClickPreview:sn,onEnablePIP:sn,onDisablePIP:sn},Cn=()=>{},Mde={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Cn},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Cn,onStart:Cn,onPlay:Cn,onPause:Cn,onBuffer:Cn,onBufferEnd:Cn,onEnded:Cn,onError:Cn,onDuration:Cn,onSeek:Cn,onPlaybackRateChange:Cn,onPlaybackQualityChange:Cn,onProgress:Cn,onClickPreview:Cn,onEnablePIP:Cn,onDisablePIP:Cn};var Lde=Object.create,qf=Object.defineProperty,Vde=Object.getOwnPropertyDescriptor,Fde=Object.getOwnPropertyNames,$de=Object.getPrototypeOf,Ude=Object.prototype.hasOwnProperty,jde=(t,e,n)=>e in t?qf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bde=(t,e)=>{for(var n in e)qf(t,n,{get:e[n],enumerable:!0})},V$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fde(e))!Ude.call(t,i)&&i!==n&&qf(t,i,{get:()=>e[i],enumerable:!(r=Vde(e,i))||r.enumerable});return t},F$=(t,e,n)=>(n=t!=null?Lde($de(t)):{},V$(!t||!t.__esModule?qf(n,"default",{value:t,enumerable:!0}):n,t)),zde=t=>V$(qf({},"__esModule",{value:!0}),t),qt=(t,e,n)=>(jde(t,typeof e!="symbol"?e+"":e,n),n),$$={};Bde($$,{default:()=>Bv});var qde=zde($$),kC=F$(P),Wde=F$(N$),U$=L$,Hde=Uv;const Gde=5e3;class Bv extends kC.Component{constructor(){super(...arguments),qt(this,"mounted",!1),qt(this,"isReady",!1),qt(this,"isPlaying",!1),qt(this,"isLoading",!0),qt(this,"loadOnReady",null),qt(this,"startOnPlay",!0),qt(this,"seekOnPlay",null),qt(this,"onDurationCalled",!1),qt(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),qt(this,"getInternalPlayer",e=>this.player?this.player[e]:null),qt(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:e,played:e/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),qt(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:i}=this.props;e(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),qt(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),qt(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),qt(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),qt(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),qt(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),qt(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:i,muted:o,playbackRate:s,pip:a,loop:l,activePlayer:c,disableDeferredLoading:d}=this.props;if(!(0,Wde.default)(e.url,n)){if(this.isLoading&&!c.forceLoad&&!d&&!(0,Hde.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==i&&i!==null&&this.player.setVolume(i),e.muted!==o&&(o?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),e.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},Gde));return}if(n?n==="fraction":e>0&&e<1){const o=this.player.getDuration();if(!o){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(o*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?kC.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}qt(Bv,"displayName","Player");qt(Bv,"propTypes",U$.propTypes);qt(Bv,"defaultProps",U$.defaultProps);var Kde=Object.create,Wf=Object.defineProperty,Qde=Object.getOwnPropertyDescriptor,Yde=Object.getOwnPropertyNames,Xde=Object.getPrototypeOf,Jde=Object.prototype.hasOwnProperty,Zde=(t,e,n)=>e in t?Wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ehe=(t,e)=>{for(var n in e)Wf(t,n,{get:e[n],enumerable:!0})},j$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Yde(e))!Jde.call(t,i)&&i!==n&&Wf(t,i,{get:()=>e[i],enumerable:!(r=Qde(e,i))||r.enumerable});return t},Hf=(t,e,n)=>(n=t!=null?Kde(Xde(t)):{},j$(!t||!t.__esModule?Wf(n,"default",{value:t,enumerable:!0}):n,t)),the=t=>j$(Wf({},"__esModule",{value:!0}),t),zt=(t,e,n)=>(Zde(t,typeof e!="symbol"?e+"":e,n),n),B$={};ehe(B$,{createReactPlayer:()=>uhe});var nhe=the(B$),Jl=Hf(P),rhe=Hf(h$),m0=Hf(wde),OC=Hf(N$),Md=L$,z$=Uv,ihe=Hf(qde);const ohe=(0,z$.lazy)(()=>fr(()=>import("./Preview-CrzR2ln9.js").then(t=>t.P),[])),she=typeof window<"u"&&window.document&&typeof document<"u",ahe=typeof Pi<"u"&&Pi.window&&Pi.window.document,lhe=Object.keys(Md.propTypes),che=she||ahe?Jl.Suspense:()=>null,bd=[],uhe=(t,e)=>{var n;return n=class extends Jl.Component{constructor(){super(...arguments),zt(this,"state",{showPreview:!!this.props.light}),zt(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),zt(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),zt(this,"showPreview",()=>{this.setState({showPreview:!0})}),zt(this,"getDuration",()=>this.player?this.player.getDuration():null),zt(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),zt(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),zt(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),zt(this,"seekTo",(r,i,o)=>{if(!this.player)return null;this.player.seekTo(r,i,o)}),zt(this,"handleReady",()=>{this.props.onReady(this)}),zt(this,"getActivePlayer",(0,m0.default)(r=>{for(const i of[...bd,...t])if(i.canPlay(r))return i;return e||null})),zt(this,"getConfig",(0,m0.default)((r,i)=>{const{config:o}=this.props;return rhe.default.all([Md.defaultProps.config,Md.defaultProps.config[i]||{},o,o[i]||{}])})),zt(this,"getAttributes",(0,m0.default)(r=>(0,z$.omit)(this.props,lhe))),zt(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const o=this.getConfig(r,i.key);return Jl.default.createElement(ihe.default,{...this.props,key:i.key,ref:this.references.player,config:o,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,OC.default)(this.props,r)||!(0,OC.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:o,previewTabIndex:s,oEmbedUrl:a,previewAriaLabel:l}=this.props;return Jl.default.createElement(ohe,{url:r,light:i,playIcon:o,previewTabIndex:s,previewAriaLabel:l,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:o,height:s,fallback:a,wrapper:l}=this.props,{showPreview:c}=this.state,d=this.getAttributes(r),h=typeof l=="string"?this.references.wrapper:void 0;return Jl.default.createElement(l,{ref:h,style:{...i,width:o,height:s},...d},Jl.default.createElement(che,{fallback:a},c?this.renderPreview(r):this.renderActivePlayer(r)))}},zt(n,"displayName","ReactPlayer"),zt(n,"propTypes",Md.propTypes),zt(n,"defaultProps",Md.defaultProps),zt(n,"addCustomPlayer",r=>{bd.push(r)}),zt(n,"removeCustomPlayers",()=>{bd.length=0}),zt(n,"canPlay",r=>{for(const i of[...bd,...t])if(i.canPlay(r))return!0;return!1}),zt(n,"canEnablePIP",r=>{for(const i of[...bd,...t])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var dhe=Object.create,zv=Object.defineProperty,hhe=Object.getOwnPropertyDescriptor,fhe=Object.getOwnPropertyNames,phe=Object.getPrototypeOf,mhe=Object.prototype.hasOwnProperty,ghe=(t,e)=>{for(var n in e)zv(t,n,{get:e[n],enumerable:!0})},q$=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fhe(e))!mhe.call(t,i)&&i!==n&&zv(t,i,{get:()=>e[i],enumerable:!(r=hhe(e,i))||r.enumerable});return t},yhe=(t,e,n)=>(n=t!=null?dhe(phe(t)):{},q$(!t||!t.__esModule?zv(n,"default",{value:t,enumerable:!0}):n,t)),vhe=t=>q$(zv({},"__esModule",{value:!0}),t),W$={};ghe(W$,{default:()=>bhe});var _he=vhe(W$),kE=yhe(pde),whe=nhe;const Ehe=kE.default[kE.default.length-1];var bhe=(0,whe.createReactPlayer)(kE.default,Ehe);const The=uu(_he),Ihe=({songData:t,enterFullscreen:e})=>{const n=Bo(),r=He(y=>y.theme),i=He(y=>y.activeSongNumer),o=He(y=>y.isPlaying),[s,a]=P.useState(!0),[l,c]=P.useState(!0),d=P.useRef(null),{time:h,start:f,pause:p,reset:g,status:_}=dS.useTimer({initialTime:60,timerType:"DECREMENTAL",autostart:!0,endTime:0,onTimeUpdate:()=>{h===52&&a(!1)},onTimeOver:()=>{n(QD("answer")),a(!0)}}),E=t[i],v=()=>{d.current&&(d.current.seekTo(60,"seconds"),c(!0))};return P.useEffect(()=>{o?(f(),c(!0)):(p(),c(!1))},[o]),M.jsxs(be,{style:{width:"100vw",height:"calc(100vh - 70px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:r.white,position:"absolute",bottom:0,left:0},children:[E&&E.videoUrl?M.jsxs(M.Fragment,{children:[M.jsx(be,{style:{zIndex:200,width:"100%",height:"100%",position:"absolute",left:0,bottom:0}}),M.jsx(be,{style:{zIndex:198,width:"100%",height:"100%"},children:M.jsx(The,{ref:d,url:E.videoUrl,playing:l,controls:!1,width:"100%",height:"100%",onReady:v,config:{youtube:{playerVars:{showinfo:0}}}})})]}):M.jsx(qc,{color:"secondary"}),M.jsx(Fr,{in:s||!o,children:M.jsx(be,{style:{color:r.black,backgroundColor:r.black,width:"700px",height:"70px",position:"absolute",top:0,left:0,zIndex:202},children:"t"})}),M.jsxs(be,{style:{position:"absolute",bottom:10,right:10,display:"flex",zIndex:201,justifyContent:"center",alignItems:"center"},children:[M.jsx(qc,{color:"secondary",variant:"determinate",value:h/60*100,size:80}),M.jsx(Oh,{variant:"caption",component:"div",color:"secondary",style:{position:"absolute",fontSize:"1.5rem",fontWeight:"bold"},children:h})]})]})},She="/DrinkJam/assets/fallback-BwsBAV61.jpg",Rhe=({songData:t})=>{const e=Bo(),n=He(d=>d.theme),r=He(d=>d.activeSongNumer),{time:i,start:o,pause:s,reset:a,status:l}=dS.useTimer({initialTime:5,timerType:"DECREMENTAL",autostart:!0,endTime:0,onTimeOver:()=>{e(QD("video")),e(IK(r+1))}}),c=t[r];return M.jsxs(be,{style:{width:"100vw",height:"calc(100vh - 70px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:n.white,position:"absolute",bottom:0,left:0},children:[c&&c.videoUrl?M.jsxs(be,{children:[M.jsx("img",{src:c.albumArt!=="No album art available"?c.albumArt:She,width:"100%",height:"75%",style:{maxWidth:"400px",maxHeight:"400px"}}),M.jsx(ei,{text:c.title,fontColor:n.white,fontWeight:700,fontSize:"20px"}),M.jsx(ei,{text:c.artist,fontColor:n.primary,fontWeight:700,fontSize:"20px"})]}):M.jsx(qc,{color:"secondary"}),M.jsxs(be,{style:{position:"absolute",bottom:10,right:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[M.jsx(qc,{color:"secondary",variant:"determinate",value:i/5*100,size:80}),M.jsx(Oh,{variant:"caption",component:"div",color:"secondary",style:{position:"absolute",fontSize:"1.5rem",fontWeight:"bold"},children:i})]})]})},Phe=()=>{Bo();const t=He(g=>g.theme),e=He(g=>g.songSet),n=He(g=>g.auth),r=He(g=>g.songStep),[i,o]=P.useState([]),[s,a]=P.useState([]),l=()=>{const g=document.documentElement;g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.webkitRequestFullscreen?g.webkitRequestFullscreen():g.msRequestFullscreen&&g.msRequestFullscreen()},c=async()=>{const{source:g,sourceId:_}=e;let E=[];g==="playlist"?E=await d(_):g==="artist"&&(E=await h(_));const v=E.sort(()=>.5-Math.random()).slice(0,60);o(v)},d=async g=>{try{return(await(await fetch(`https://api.spotify.com/v1/playlists/${g}/tracks`,{headers:{Authorization:`Bearer ${n.token}`}})).json()).items.map(v=>{var y;return{id:v.track.id,title:v.track.name,artist:v.track.artists.map(w=>w.name).join(", "),albumArt:((y=v.track.album.images[0])==null?void 0:y.url)||"No album art available"}})}catch(_){return console.error("Error fetching playlist tracks:",_),[]}},h=async g=>{try{const E=await(await fetch(`https://api.spotify.com/v1/artists/${g}/albums`,{headers:{Authorization:`Bearer ${n.token}`}})).json();return(await Promise.all(E.items.map(async y=>{const S=await(await fetch(`https://api.spotify.com/v1/albums/${y.id}/tracks`,{headers:{Authorization:`Bearer ${n.token}`}})).json(),C=await(await fetch(`https://api.spotify.com/v1/albums/${y.id}`,{headers:{Authorization:`Bearer ${n.token}`}})).json();return S.items.map(T=>({id:T.id,title:T.name,artist:T.artists.map(I=>I.name).join(", "),albumArt:C.images[0].url||"No album art available"}))}))).flat()}catch(_){return console.error("Error fetching artist tracks:",_),[]}},f=async(g,_)=>{console.log(g,_);try{const E=`${g} ${_}`,y=await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(E)}&key=AIzaSyCrPmykYpNdzSUeuhoJGlci02VED_fgi7I&type=video&maxResults=1`)).json();return console.log(y),y.items&&y.items.length>0?`https://www.youtube.com/watch?v=${y.items[0].id.videoId}`:"No YouTube video found"}catch(E){return console.error("Error fetching YouTube video:",E),"Error fetching YouTube video"}},p=async g=>{const _=await Promise.all(g.map(async E=>{const v=Qh(sue,"songs",E.id),y=await pV(v);let w="No document available";return y.exists()&&(w=y.data()["Video URL"]||"No document available"),w==="No document available"&&(w=await f(E.title,E.artist)),{id:E.id,title:E.title,artist:E.artist,albumArt:E.albumArt,videoUrl:w}}));a(_)};return P.useEffect(()=>{e.source&&n.token&&c()},[n.token]),P.useEffect(()=>{i.length>0&&p(i)},[i]),M.jsx(be,{style:{width:"100vw",height:"calc(100vh - 70px)",display:"flex",flexDirection:"column",color:t.white,position:"absolute",bottom:0,left:0},children:r==="video"?M.jsx(Ihe,{enterFullscreen:l,songData:s}):M.jsx(Rhe,{songData:s})})},xhe="2721b25b1e36477786b8220fa8d4dd65",NC="http://localhost:5173/redirect",Ahe="user-read-private user-read-email user-read-recently-played user-top-read streaming";function Che(){const t=Bo(),e=He(c=>c.theme),n=He(c=>c.isMobile),r=He(c=>c.auth),i=He(c=>c.activeScreen),o=He(c=>c.searchCriterion),s=He(c=>c.previousUser),a=()=>{const c=`https://accounts.spotify.com/authorize?response_type=code&client_id=${xhe}&scope=${encodeURIComponent(Ahe)}&redirect_uri=${encodeURIComponent(NC)}`;window.location.href=c},l=()=>{t(G1(null)),Mr.remove("spotifyAuthToken"),Mr.remove("spotifyUser");const c=`https://accounts.spotify.com/logout?continue=${encodeURIComponent(NC)}`,d=window.open(c,"_blank","width=10,height=10");setTimeout(()=>{d&&(d.close(),setTimeout(()=>{a()},500))},500)};return P.useEffect(()=>{const c=Mr.get("spotifyAuthToken");if(c){const d=JSON.parse(Mr.get("spotifyUser"));t(fg({isAuthenticated:!0,token:c,user:d})),t(Hy("DashScreen"))}},[t]),P.useEffect(()=>{localStorage.setItem("prevUser",JSON.stringify(r.user))},[r.user]),P.useEffect(()=>{const c=JSON.parse(localStorage.getItem("prevUser"));c&&t(G1(c))},[]),P.useEffect(()=>{console.log(s)},[s]),P.useEffect(()=>{console.log(o)},[o]),M.jsxs(be,{style:{display:"flex",flex:1,height:"100vh",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.black,position:"relative"},children:[M.jsx(YD,{}),M.jsx(Fr,{in:!r.isAuthenticated,timeout:750,children:M.jsxs(be,{children:[M.jsx(Fr,{in:s,timeout:750,children:M.jsx(be,{style:{display:"flex",flex:1,flexDirection:"column",alignItems:"center",width:n?"90%":"350px"},children:s&&M.jsxs(M.Fragment,{children:[M.jsx($D,{alt:s.display_name,src:s.images[1].url,sx:{width:150,height:150}}),M.jsxs(Kd,{variant:"contained",color:"secondary",onClick:a,style:{margin:"15px 0px",width:"100%"},children:["Login as ",s.display_name]}),M.jsx(Kd,{variant:"contained",onClick:l,style:{width:"100%",backgroundColor:e.grey},children:"Login as someone else"})]})})}),M.jsx(Fr,{in:!s,timeout:750,children:M.jsx(be,{style:{display:"flex",flex:1,flexDirection:"column",alignItems:"center",width:n?"90%":"350px"},children:!s&&M.jsx(Kd,{variant:"contained",color:"secondary",onClick:a,children:"Login with Spotify"})})})]})}),M.jsx(Fr,{in:i==="DashScreen",timeout:750,children:M.jsx(be,{children:i==="DashScreen"&&M.jsx(lX,{})})}),M.jsx(Fr,{in:i==="GameScreen",timeout:750,children:M.jsx(be,{children:i==="GameScreen"&&M.jsx(Phe,{})})})]})}const DC="2721b25b1e36477786b8220fa8d4dd65",MC="1aa2fa931eab4c11b76d65999a8f0dca",khe="http://localhost:5173/redirect",Ohe=()=>{const t=Bo(),e=Sz(),n=He(i=>i.theme),r=He(i=>i.auth);return P.useEffect(()=>{const i=async c=>{try{const d=await at.post("https://accounts.spotify.com/api/token",null,{params:{grant_type:"authorization_code",code:c,redirect_uri:khe,client_id:DC,client_secret:MC},headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:h,refresh_token:f,expires_in:p}=d.data,g=new Date().getTime()+p*1e3;Mr.set("spotifyAuthToken",h,{expires:3}),Mr.set("spotifyRefreshToken",f||Mr.get("spotifyRefreshToken"),{expires:7}),localStorage.setItem("spotifyTokenExpiration",g);const _=await at.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${h}`}});Mr.set("spotifyUser",JSON.stringify(_.data),{expires:3}),t(fg({isAuthenticated:!0,token:h,user:_.data})),setTimeout(()=>{t(Hy("DashScreen")),e("/")},250)}catch(d){console.error("Error getting token or user info:",d)}},o=async()=>{const c=Mr.get("spotifyRefreshToken");if(!c){console.error("No refresh token available");return}try{const d=await at.post("https://accounts.spotify.com/api/token",null,{params:{grant_type:"refresh_token",refresh_token:c,client_id:DC,client_secret:MC},headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:h,refresh_token:f,expires_in:p}=d.data,g=new Date().getTime()+p*1e3;Mr.set("spotifyAuthToken",h,{expires:3}),localStorage.setItem("spotifyTokenExpiration",g),f&&Mr.set("spotifyRefreshToken",f,{expires:7}),t(fg({isAuthenticated:!0,token:h}))}catch(d){console.error("Error refreshing token:",d)}},a=new URLSearchParams(window.location.search).get("code"),l=localStorage.getItem("spotifyTokenExpiration");a?i(a):r.isAuthenticated&&new Date().getTime()>=l&&o()},[t,e,r.isAuthenticated]),M.jsxs(be,{style:{display:"flex",flex:1,height:"100vh",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:n.black,position:"relative"},children:[M.jsx(YD,{}),M.jsx(Fr,{in:!r.isAuthenticated,timeout:750,children:M.jsx(be,{children:M.jsx(ei,{text:"Loading...",fontColor:n.white,fontWeight:700,fontSize:"20px",fontAlign:"center"})})})]})};var _S={};_S.match=Fhe;_S.parse=H$;var Nhe=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,Dhe=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Mhe=/^(?:(min|max)-)?(.+)/,Lhe=/(em|rem|px|cm|mm|in|pt|pc)?$/,Vhe=/(dpi|dpcm|dppx)?$/;function Fhe(t,e){return H$(t).some(function(n){var r=n.inverse,i=n.type==="all"||e.type===n.type;if(i&&r||!(i||r))return!1;var o=n.expressions.every(function(s){var a=s.feature,l=s.modifier,c=s.value,d=e[a];if(!d)return!1;switch(a){case"orientation":case"scan":return d.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=FC(c),d=FC(d);break;case"resolution":c=VC(c),d=VC(d);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=LC(c),d=LC(d);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,d=parseInt(d,10)||0;break}switch(l){case"min":return d>=c;case"max":return d<=c;default:return d===c}});return o&&!r||!o&&r})}function H$(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(Nhe),r=n[1],i=n[2],o=n[3]||"",s={};return s.inverse=!!r&&r.toLowerCase()==="not",s.type=i?i.toLowerCase():"all",o=o.match(/\([^\)]+\)/g)||[],s.expressions=o.map(function(a){var l=a.match(Dhe),c=l[1].toLowerCase().match(Mhe);return{modifier:c[1],feature:c[2],value:l[2]}}),s})}function LC(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function VC(t){var e=parseFloat(t),n=String(t).match(Vhe)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function FC(t){var e=parseFloat(t),n=String(t).match(Lhe)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var $he=_S.match,$C=typeof window<"u"?window.matchMedia:null;function Uhe(t,e,n){var r=this,i;$C&&!n&&(i=$C.call(window,t)),i?(this.matches=i.matches,this.media=i.media,i.addListener(a)):(this.matches=$he(t,e),this.media=t),this.addListener=o,this.removeListener=s,this.dispose=l;function o(c){i&&i.addListener(c)}function s(c){i&&i.removeListener(c)}function a(c){r.matches=c.matches,r.media=c.media}function l(){i&&i.removeListener(a)}}function jhe(t,e,n){return new Uhe(t,e,n)}var Bhe=jhe;const zhe=uu(Bhe);var qhe=/[A-Z]/g,Whe=/^ms-/,g0={};function Hhe(t){return"-"+t.toLowerCase()}function G$(t){if(g0.hasOwnProperty(t))return g0[t];var e=t.replace(qhe,Hhe);return g0[t]=Whe.test(e)?"-"+e:e}function Ghe(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let o=0;o<i;o++){const s=n[o];if(t[s]!==e[s]||!Object.prototype.hasOwnProperty.call(e,s))return!1}return!0}const er=et.oneOfType([et.string,et.number]),wS={all:et.bool,grid:et.bool,aural:et.bool,braille:et.bool,handheld:et.bool,print:et.bool,projection:et.bool,screen:et.bool,tty:et.bool,tv:et.bool,embossed:et.bool},K$={orientation:et.oneOf(["portrait","landscape"]),scan:et.oneOf(["progressive","interlace"]),aspectRatio:et.string,deviceAspectRatio:et.string,height:er,deviceHeight:er,width:er,deviceWidth:er,color:et.bool,colorIndex:et.bool,monochrome:et.bool,resolution:er,type:Object.keys(wS)},{type:Pfe,...Khe}=K$,Q$={minAspectRatio:et.string,maxAspectRatio:et.string,minDeviceAspectRatio:et.string,maxDeviceAspectRatio:et.string,minHeight:er,maxHeight:er,minDeviceHeight:er,maxDeviceHeight:er,minWidth:er,maxWidth:er,minDeviceWidth:er,maxDeviceWidth:er,minColor:et.number,maxColor:et.number,minColorIndex:et.number,maxColorIndex:et.number,minMonochrome:et.number,maxMonochrome:et.number,minResolution:er,maxResolution:er,...Khe},Qhe={...wS,...Q$};var Yhe={all:Qhe,types:wS,matchers:K$,features:Q$};const Xhe=t=>`not ${t}`,Jhe=(t,e)=>{const n=G$(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?Xhe(n):`(${n}: ${e})`},Zhe=t=>t.join(" and "),efe=t=>{const e=[];return Object.keys(Yhe.all).forEach(n=>{const r=t[n];r!=null&&e.push(Jhe(n,r))}),Zhe(e)},tfe=P.createContext(void 0),nfe=t=>t.query||efe(t),UC=t=>t?Object.keys(t).reduce((n,r)=>(n[G$(r)]=t[r],n),{}):void 0,Y$=()=>{const t=P.useRef(!1);return P.useEffect(()=>{t.current=!0},[]),t.current},rfe=t=>{const e=P.useContext(tfe),n=()=>UC(t)||UC(e),[r,i]=P.useState(n);return P.useEffect(()=>{const o=n();Ghe(r,o)||i(o)},[t,e]),r},ife=t=>{const e=()=>nfe(t),[n,r]=P.useState(e);return P.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},ofe=(t,e)=>{const n=()=>zhe(t,e||{},!!e),[r,i]=P.useState(n),o=Y$();return P.useEffect(()=>{if(o){const s=n();return i(s),()=>{s&&s.dispose()}}},[t,e]),r},sfe=t=>{const[e,n]=P.useState(t.matches);return P.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},afe=(t,e,n)=>{const r=rfe(e),i=ife(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const o=ofe(i,r),s=sfe(o),a=Y$();return P.useEffect(()=>{a&&n&&n(s)},[s]),P.useEffect(()=>()=>{o&&o.dispose()},[]),s},lfe=()=>{const t=Bo(),e=afe({query:"(max-width: 768px)"});return P.useEffect(()=>{t(EK(e))},[e,t]),null},cfe=Y4(Wz),ufe=document.getElementById("root"),dfe=y0.createRoot(ufe);dfe.render(M.jsx(q4,{store:cfe,children:M.jsxs(zz,{children:[M.jsx(lfe,{}),M.jsxs(Uz,{children:[M.jsx(fw,{path:"/",element:M.jsx(Che,{})}),M.jsx(fw,{path:"/redirect",element:M.jsx(Ohe,{})})]})]})}));export{fr as _,uu as g,sde as p,P as r,Uv as u};
